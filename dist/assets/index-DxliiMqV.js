(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function qT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var um={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function yw(){if(VE)return Gl;VE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var LE;function _w(){return LE||(LE=1,um.exports=yw()),um.exports}var W=_w(),cm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function Ew(){if(UE)return Oe;UE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.iterator;function Y(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,F={};function ce(I,Q,ne){this.props=I,this.context=Q,this.refs=F,this.updater=ne||P}ce.prototype.isReactComponent={},ce.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},ce.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ge(){}ge.prototype=ce.prototype;function fe(I,Q,ne){this.props=I,this.context=Q,this.refs=F,this.updater=ne||P}var _e=fe.prototype=new ge;_e.constructor=fe,X(_e,ce.prototype),_e.isPureReactComponent=!0;var De=Array.isArray;function Re(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(I,Q,ne){var oe=ne.ref;return{$$typeof:r,type:I,key:Q,ref:oe!==void 0?oe:null,props:ne}}function V(I,Q){return C(I.type,Q,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function L(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ne){return Q[ne]})}var w=/\/+/g;function Me(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?L(""+I.key):Q.toString(36)}function gt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Re,Re):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,Q,ne,oe,ue){var Se=typeof I;(Se==="undefined"||Se==="boolean")&&(I=null);var Ue=!1;if(I===null)Ue=!0;else switch(Se){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(I.$$typeof){case r:case e:Ue=!0;break;case v:return Ue=I._init,H(Ue(I._payload),Q,ne,oe,ue)}}if(Ue)return ue=ue(I),Ue=oe===""?"."+Me(I,0):oe,De(ue)?(ne="",Ue!=null&&(ne=Ue.replace(w,"$&/")+"/"),H(ue,Q,ne,"",function(Jn){return Jn})):ue!=null&&(D(ue)&&(ue=V(ue,ne+(ue.key==null||I&&I.key===ue.key?"":(""+ue.key).replace(w,"$&/")+"/")+Ue)),Q.push(ue)),1;Ue=0;var lt=oe===""?".":oe+":";if(De(I))for(var rt=0;rt<I.length;rt++)oe=I[rt],Se=lt+Me(oe,rt),Ue+=H(oe,Q,ne,Se,ue);else if(rt=Y(I),typeof rt=="function")for(I=rt.call(I),rt=0;!(oe=I.next()).done;)oe=oe.value,Se=lt+Me(oe,rt++),Ue+=H(oe,Q,ne,Se,ue);else if(Se==="object"){if(typeof I.then=="function")return H(gt(I),Q,ne,oe,ue);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(I,Q,ne){if(I==null)return I;var oe=[],ue=0;return H(I,oe,"","",function(Se){return Q.call(ne,Se,ue++)}),oe}function he(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=ne)},function(ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=ne)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var ze=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},je={map:se,forEach:function(I,Q,ne){se(I,function(){Q.apply(this,arguments)},ne)},count:function(I){var Q=0;return se(I,function(){Q++}),Q},toArray:function(I){return se(I,function(Q){return Q})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Oe.Activity=A,Oe.Children=je,Oe.Component=ce,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=fe,Oe.StrictMode=s,Oe.Suspense=y,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},Oe.cache=function(I){return function(){return I.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(I,Q,ne){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var oe=X({},I.props),ue=I.key;if(Q!=null)for(Se in Q.key!==void 0&&(ue=""+Q.key),Q)!b.call(Q,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Q.ref===void 0||(oe[Se]=Q[Se]);var Se=arguments.length-2;if(Se===1)oe.children=ne;else if(1<Se){for(var Ue=Array(Se),lt=0;lt<Se;lt++)Ue[lt]=arguments[lt+2];oe.children=Ue}return C(I.type,ue,oe)},Oe.createContext=function(I){return I={$$typeof:f,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Oe.createElement=function(I,Q,ne){var oe,ue={},Se=null;if(Q!=null)for(oe in Q.key!==void 0&&(Se=""+Q.key),Q)b.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ue[oe]=Q[oe]);var Ue=arguments.length-2;if(Ue===1)ue.children=ne;else if(1<Ue){for(var lt=Array(Ue),rt=0;rt<Ue;rt++)lt[rt]=arguments[rt+2];ue.children=lt}if(I&&I.defaultProps)for(oe in Ue=I.defaultProps,Ue)ue[oe]===void 0&&(ue[oe]=Ue[oe]);return C(I,Se,ue)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(I){return{$$typeof:m,render:I}},Oe.isValidElement=D,Oe.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:he}},Oe.memo=function(I,Q){return{$$typeof:g,type:I,compare:Q===void 0?null:Q}},Oe.startTransition=function(I){var Q=R.T,ne={};R.T=ne;try{var oe=I(),ue=R.S;ue!==null&&ue(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Re,ze)}catch(Se){ze(Se)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),R.T=Q}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(I){return R.H.use(I)},Oe.useActionState=function(I,Q,ne){return R.H.useActionState(I,Q,ne)},Oe.useCallback=function(I,Q){return R.H.useCallback(I,Q)},Oe.useContext=function(I){return R.H.useContext(I)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(I,Q){return R.H.useDeferredValue(I,Q)},Oe.useEffect=function(I,Q){return R.H.useEffect(I,Q)},Oe.useEffectEvent=function(I){return R.H.useEffectEvent(I)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(I,Q,ne){return R.H.useImperativeHandle(I,Q,ne)},Oe.useInsertionEffect=function(I,Q){return R.H.useInsertionEffect(I,Q)},Oe.useLayoutEffect=function(I,Q){return R.H.useLayoutEffect(I,Q)},Oe.useMemo=function(I,Q){return R.H.useMemo(I,Q)},Oe.useOptimistic=function(I,Q){return R.H.useOptimistic(I,Q)},Oe.useReducer=function(I,Q,ne){return R.H.useReducer(I,Q,ne)},Oe.useRef=function(I){return R.H.useRef(I)},Oe.useState=function(I){return R.H.useState(I)},Oe.useSyncExternalStore=function(I,Q,ne){return R.H.useSyncExternalStore(I,Q,ne)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.3",Oe}var PE;function _p(){return PE||(PE=1,cm.exports=Ew()),cm.exports}var vt=_p();const vw=qT(vt);var hm={exports:{}},Kl={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function Tw(){return kE||(kE=1,(function(r){function e(H,se){var he=H.length;H.push(se);e:for(;0<he;){var ze=he-1>>>1,je=H[ze];if(0<o(je,se))H[ze]=se,H[he]=je,he=ze;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var se=H[0],he=H.pop();if(he!==se){H[0]=he;e:for(var ze=0,je=H.length,I=je>>>1;ze<I;){var Q=2*(ze+1)-1,ne=H[Q],oe=Q+1,ue=H[oe];if(0>o(ne,he))oe<je&&0>o(ue,ne)?(H[ze]=ue,H[oe]=he,ze=oe):(H[ze]=ne,H[Q]=he,ze=Q);else if(oe<je&&0>o(ue,he))H[ze]=ue,H[oe]=he,ze=oe;else break e}}return se}function o(H,se){var he=H.sortIndex-se.sortIndex;return he!==0?he:H.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],v=1,A=null,O=3,Y=!1,P=!1,X=!1,F=!1,ce=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function _e(H){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=H)s(g),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(g)}}function De(H){if(X=!1,_e(H),!P)if(n(y)!==null)P=!0,Re||(Re=!0,L());else{var se=n(g);se!==null&&gt(De,se.startTime-H)}}var Re=!1,R=-1,b=5,C=-1;function V(){return F?!0:!(r.unstable_now()-C<b)}function D(){if(F=!1,Re){var H=r.unstable_now();C=H;var se=!0;try{e:{P=!1,X&&(X=!1,ge(R),R=-1),Y=!0;var he=O;try{t:{for(_e(H),A=n(y);A!==null&&!(A.expirationTime>H&&V());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,O=A.priorityLevel;var je=ze(A.expirationTime<=H);if(H=r.unstable_now(),typeof je=="function"){A.callback=je,_e(H),se=!0;break t}A===n(y)&&s(y),_e(H)}else s(y);A=n(y)}if(A!==null)se=!0;else{var I=n(g);I!==null&&gt(De,I.startTime-H),se=!1}}break e}finally{A=null,O=he,Y=!1}se=void 0}}finally{se?L():Re=!1}}}var L;if(typeof fe=="function")L=function(){fe(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=D,L=function(){Me.postMessage(null)}}else L=function(){ce(D,0)};function gt(H,se){R=ce(function(){H(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(H){switch(O){case 1:case 2:case 3:var se=3;break;default:se=O}var he=O;O=se;try{return H()}finally{O=he}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=O;O=H;try{return se()}finally{O=he}},r.unstable_scheduleCallback=function(H,se,he){var ze=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ze+he:ze):he=ze,H){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=he+je,H={id:v++,callback:se,priorityLevel:H,startTime:he,expirationTime:je,sortIndex:-1},he>ze?(H.sortIndex=he,e(g,H),n(y)===null&&H===n(g)&&(X?(ge(R),R=-1):X=!0,gt(De,he-ze))):(H.sortIndex=je,e(y,H),P||Y||(P=!0,Re||(Re=!0,L()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var se=O;return function(){var he=O;O=se;try{return H.apply(this,arguments)}finally{O=he}}}})(dm)),dm}var zE;function Aw(){return zE||(zE=1,fm.exports=Tw()),fm.exports}var mm={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function Sw(){if(BE)return Sn;BE=1;var r=_p();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Sn.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,v)},Sn.flushSync=function(y){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=v,s.d.f()}},Sn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Sn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Sn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,Y=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:O,fetchPriority:Y}):v==="script"&&s.d.X(y,{crossOrigin:A,integrity:O,fetchPriority:Y,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Sn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Sn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Sn.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Sn.requestFormReset=function(y){s.d.r(y)},Sn.unstable_batchedUpdates=function(y,g){return y(g)},Sn.useFormState=function(y,g,v){return f.H.useFormState(y,g,v)},Sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var jE;function bw(){if(jE)return mm.exports;jE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=Sw(),mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function ww(){if(HE)return Kl;HE=1;var r=Aw(),e=_p(),n=bw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case ce:return"Profiler";case F:return"StrictMode";case De:return"Suspense";case Re:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case fe:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:Me(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Me(t(i))}catch{}}return null}var gt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ze=[],je=-1;function I(t){return{current:t}}function Q(t){0>je||(t.current=ze[je],ze[je]=null,je--)}function ne(t,i){je++,ze[je]=t.current,t.current=i}var oe=I(null),ue=I(null),Se=I(null),Ue=I(null);function lt(t,i){switch(ne(Se,i),ne(ue,t),ne(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iE(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iE(i),t=rE(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),ne(oe,t)}function rt(){Q(oe),Q(ue),Q(Se)}function Jn(t){t.memoizedState!==null&&ne(Ue,t);var i=oe.current,a=rE(i,t.type);i!==a&&(ne(ue,t),ne(oe,a))}function Di(t){ue.current===t&&(Q(oe),Q(ue)),Ue.current===t&&(Q(Ue),jl._currentValue=he)}var Zn,Nn;function Vt(t){if(Zn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zn=i&&i[1]||"",Nn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zn+t+Nn}var Tn=!1;function ei(t,i){if(!t||Tn)return"";Tn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var j=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){j=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){j=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&j&&typeof K.stack=="string")return[K.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),B=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Tn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vt(a):""}function Oi(t,i){switch(t.tag){case 26:case 27:case 5:return Vt(t.type);case 16:return Vt("Lazy");case 13:return t.child!==i&&i!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return ei(t.type,!1);case 11:return ei(t.type.render,!1);case 1:return ei(t.type,!0);case 31:return Vt("Activity");default:return""}}function Dn(t){try{var i="",a=null;do i+=Oi(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var re=Object.prototype.hasOwnProperty,be=r.unstable_scheduleCallback,ut=r.unstable_cancelCallback,Be=r.unstable_shouldYield,Et=r.unstable_requestPaint,It=r.unstable_now,ln=r.unstable_getCurrentPriorityLevel,un=r.unstable_ImmediatePriority,Lt=r.unstable_UserBlockingPriority,cn=r.unstable_NormalPriority,Xi=r.unstable_LowPriority,_r=r.unstable_IdlePriority,ti=r.log,Er=r.unstable_setDisableYieldValue,Zt=null,Nt=null;function wt(t){if(typeof ti=="function"&&Er(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Zt,t)}catch{}}var ct=Math.clz32?Math.clz32:Ua,Qr=Math.log,$i=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(Qr(t)/$i|0)|0}var On=256,fi=262144,Ut=4194304;function An(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=An(l):(_&=T,_!==0?h=An(_):a||(a=T&~t,a!==0&&(h=An(a))))):(T=l&~d,T!==0?h=An(T):_!==0?h=An(_):a||(a=l&~t,a!==0&&(h=An(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ni(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Dt(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xi(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Wi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ks(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ct(a),Z=1<<$;T[$]=0,N[$]=-1;var j=B[$];if(j!==null)for(B[$]=null,$=0;$<j.length;$++){var K=j[$];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&Ji(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ji(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ct(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Xr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ct(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ys(t,i){var a=i&-i;return a=(a&42)!==0?1:nn(a),(a&(t.suspendedLanes|i))!==0?0:a}function nn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function hn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qs(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:CE(t.type))}function Bn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var xn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+xn,ht="__reactProps$"+xn,ii="__reactContainer$"+xn,vr="__reactEvents$"+xn,Pa="__reactListeners$"+xn,Xs="__reactHandles$"+xn,ka="__reactResources$"+xn,pe="__reactMarker$"+xn;function x(t){delete t[Ot],delete t[ht],delete t[vr],delete t[Pa],delete t[Xs]}function ie(t){var i=t[Ot];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ii]||a[Ot]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hE(t);t!==null;){if(a=t[Ot])return a;t=hE(t)}return i}t=a,a=t.parentNode}return null}function le(t){if(t=t[Ot]||t[ii]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function He(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yt(t){var i=t[ka];return i||(i=t[ka]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Pe(t){t[pe]=!0}var Ft=new Set,Mn={};function fn(t,i){jn(t,i),jn(t+"Capture",i)}function jn(t,i){for(Mn[t]=i,t=0;t<i.length;t++)Ft.add(i[t])}var xt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},Wr={};function Lu(t){return re.call(Wr,t)?!0:re.call($r,t)?!1:xt.test(t)?Wr[t]=!0:($r[t]=!0,!1)}function za(t,i,a){if(Lu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ri(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Gt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function st(t){if(!t._valueTracker){var i=Jr(t)?"checked":"value";t._valueTracker=Zo(t,i,""+t[i])}}function $s(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Jr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ws=/[\n"\\]/g;function Hn(t){return t.replace(Ws,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ba(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?el(t,_,rn(i)):a!=null?el(t,_,rn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function Uu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){st(t);return}a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),st(t)}function el(t,i,a){i==="number"&&Zi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Zr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Pu(t,i,a){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+rn(a):""}function es(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(gt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function qn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&tl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&tl(t,d,i[d])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(t){return ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Mi(){}var il=null;function pi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ns=null,er=null;function Js(t){var i=le(t);if(i&&(t=i.stateNode)){var a=t[ht]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[ht]||null;if(!h)throw Error(s(90));Ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&$s(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Zr(t,!!a.multiple,i,!1)}}}var qa=!1;function is(t,i,a){if(qa)return t(i,a);qa=!0;try{var l=t(i);return l}finally{if(qa=!1,(ns!==null||er!==null)&&(xc(),ns&&(i=ns,t=er,er=ns=null,Js(i),t)))for(i=0;i<t.length;i++)Js(t[i])}}function Vi(t,i){var a=t.stateNode;if(a===null)return null;var l=a[ht]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(gi)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{Zs=!1}var tr=null,rl=null,ea=null;function sl(){if(ea)return ea;var t,i=rl,a=i.length,l,h="value"in tr?tr.value:tr.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ea=h.slice(t,1<l?1-l:void 0)}function ta(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Tr(){return!0}function Li(){return!1}function dn(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Tr:Li,this.isPropagationStopped=Li,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),i}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=dn(Ar),rs=A({},Ar,{view:0,detail:0}),al=dn(rs),ss,Fa,ir,Ga=A({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ir&&(ir&&t.type==="mousemove"?(ss=t.screenX-ir.screenX,Fa=t.screenY-ir.screenY):Fa=ss=0,ir=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:Fa}}),ol=dn(Ga),na=A({},Ga,{dataTransfer:0}),Bu=dn(na),ju=A({},rs,{relatedTarget:0}),ia=dn(ju),ll=A({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=dn(ll),Ka=A({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=dn(Ka),Fu=A({},Ar,{data:0}),rr=dn(Fu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function as(){return Qu}var Vn=A({},rs,{key:function(t){if(t.key){var i=Gu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(t){return t.type==="keypress"?ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=dn(Vn),$u=A({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sr=dn($u),c=A({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),p=dn(c),E=A({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=dn(E),k=A({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=dn(k),ae=A({},Ar,{newState:0,oldState:0}),Ve=dn(ae),Bt=[9,13,27,32],tt=gi&&"CompositionEvent"in window,Rt=null;gi&&"documentMode"in document&&(Rt=document.documentMode);var yi=gi&&"TextEvent"in window&&!Rt,sr=gi&&(!tt||Rt&&8<Rt&&11>=Rt),Ui=" ",Pi=!1;function ra(t,i){switch(t){case"keyup":return Bt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function jS(t,i){switch(t){case"compositionend":return Ya(i);case"keypress":return i.which!==32?null:(Pi=!0,Ui);case"textInput":return t=i.data,t===Ui&&Pi?null:t;default:return null}}function HS(t,i){if(Qa)return t==="compositionend"||!tt&&ra(t,i)?(t=sl(),ea=rl=tr=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return sr&&i.locale!=="ko"?null:i.data;default:return null}}var qS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!qS[t.type]:i==="textarea"}function pg(t,i,a,l){ns?er?er.push(l):er=[l]:ns=l,i=zc(i,"onChange"),0<i.length&&(a=new nr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ul=null,cl=null;function FS(t){W_(t,0)}function Wu(t){var i=He(t);if($s(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(gi){var gf;if(gi){var yf="oninput"in document;if(!yf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),yf=typeof _g.oninput=="function"}gf=yf}else gf=!1;yg=gf&&(!document.documentMode||9<document.documentMode)}function Eg(){ul&&(ul.detachEvent("onpropertychange",vg),cl=ul=null)}function vg(t){if(t.propertyName==="value"&&Wu(cl)){var i=[];pg(i,cl,t,pi(t)),is(FS,i)}}function GS(t,i,a){t==="focusin"?(Eg(),ul=i,cl=a,ul.attachEvent("onpropertychange",vg)):t==="focusout"&&Eg()}function KS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(cl)}function YS(t,i){if(t==="click")return Wu(i)}function QS(t,i){if(t==="input"||t==="change")return Wu(i)}function XS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var si=typeof Object.is=="function"?Object.is:XS;function hl(t,i){if(si(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!re.call(i,h)||!si(t[h],i[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ag(t,i){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Zi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Zi(t.document)}return i}function _f(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var $S=gi&&"documentMode"in document&&11>=document.documentMode,Xa=null,Ef=null,fl=null,vf=!1;function wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Xa==null||Xa!==Zi(l)||(l=Xa,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=zc(Ef,"onSelect"),0<l.length&&(i=new nr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Xa)))}function sa(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var $a={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Tf={},Rg={};gi&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function aa(t){if(Tf[t])return Tf[t];if(!$a[t])return t;var i=$a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return Tf[t]=i[a];return t}var Cg=aa("animationend"),Ig=aa("animationiteration"),Ng=aa("animationstart"),WS=aa("transitionrun"),JS=aa("transitionstart"),ZS=aa("transitioncancel"),Dg=aa("transitionend"),Og=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ki(t,i){Og.set(t,i),fn(i,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_i=[],Wa=0,Sf=0;function Zu(){for(var t=Wa,i=Sf=Wa=0;i<t;){var a=_i[i];_i[i++]=null;var l=_i[i];_i[i++]=null;var h=_i[i];_i[i++]=null;var d=_i[i];if(_i[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&xg(a,h,d)}}function ec(t,i,a,l){_i[Wa++]=t,_i[Wa++]=i,_i[Wa++]=a,_i[Wa++]=l,Sf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,i,a,l){return ec(t,i,a,l),tc(t)}function oa(t,i){return ec(t,null,null,i),tc(t)}function xg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ct(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(t){if(50<Vl)throw Vl=0,Md=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ja={};function eb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,i,a,l){return new eb(t,i,a,l)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function br(t,i){var a=t.alternate;return a===null?(a=ai(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function nc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")wf(t)&&(_=1);else if(typeof t=="string")_=sw(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=ai(31,a,i,h),t.elementType=C,t.lanes=d,t;case X:return la(a.children,h,d,i);case F:_=8,h|=24;break;case ce:return t=ai(12,a,i,h|2),t.elementType=ce,t.lanes=d,t;case De:return t=ai(13,a,i,h),t.elementType=De,t.lanes=d,t;case Re:return t=ai(19,a,i,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:_=10;break e;case ge:_=9;break e;case _e:_=11;break e;case R:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=ai(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function la(t,i,a,l){return t=ai(7,t,l,i),t.lanes=a,t}function Rf(t,i,a){return t=ai(6,t,null,i),t.lanes=a,t}function Vg(t){var i=ai(18,null,null,0);return i.stateNode=t,i}function Cf(t,i,a){return i=ai(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Lg=new WeakMap;function Ei(t,i){if(typeof t=="object"&&t!==null){var a=Lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Dn(i)},Lg.set(t,i),i)}return{value:t,source:i,stack:Dn(i)}}var Za=[],eo=0,ic=null,dl=0,vi=[],Ti=0,os=null,ar=1,or="";function wr(t,i){Za[eo++]=dl,Za[eo++]=ic,ic=t,dl=i}function Ug(t,i,a){vi[Ti++]=ar,vi[Ti++]=or,vi[Ti++]=os,os=t;var l=ar;t=or;var h=32-ct(l)-1;l&=~(1<<h),a+=1;var d=32-ct(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ar=1<<32-ct(i)+h|a<<h|l,or=d+t}else ar=1<<d|a<<h|l,or=t}function If(t){t.return!==null&&(wr(t,1),Ug(t,1,0))}function Nf(t){for(;t===ic;)ic=Za[--eo],Za[eo]=null,dl=Za[--eo],Za[eo]=null;for(;t===os;)os=vi[--Ti],vi[Ti]=null,or=vi[--Ti],vi[Ti]=null,ar=vi[--Ti],vi[Ti]=null}function Pg(t,i){vi[Ti++]=ar,vi[Ti++]=or,vi[Ti++]=os,ar=i.id,or=i.overflow,os=t}var mn=null,At=null,We=!1,ls=null,Ai=!1,Df=Error(s(519));function us(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Ei(i,t)),Df}function kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ot]=t,i[ht]=l,a){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Ge(Ul[a],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":Ge("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",i);break;case"textarea":Ge("invalid",i),es(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tE(i.textContent,a)?(l.popover!=null&&(Ge("beforetoggle",i),Ge("toggle",i)),l.onScroll!=null&&Ge("scroll",i),l.onScrollEnd!=null&&Ge("scrollend",i),l.onClick!=null&&(i.onclick=Mi),i=!0):i=!1,i||us(t,!0)}function zg(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:mn=mn.return}}function to(t){if(t!==mn)return!1;if(!We)return zg(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&At&&us(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));At=cE(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));At=cE(t)}else i===27?(i=At,Ss(t.type)?(t=Zd,Zd=null,At=t):At=i):At=mn?bi(t.stateNode.nextSibling):null;return!0}function ua(){At=mn=null,We=!1}function Of(){var t=ls;return t!==null&&(Yn===null?Yn=t:Yn.push.apply(Yn,t),ls=null),t}function ml(t){ls===null?ls=[t]:ls.push(t)}var xf=I(null),ca=null,Rr=null;function cs(t,i,a){ne(xf,i._currentValue),i._currentValue=a}function Cr(t){t._currentValue=xf.current,Q(xf)}function Mf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Vf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Mf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Mf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function no(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;si(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&Vf(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!si(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ha(t){ca=t,Rr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pn(t){return Bg(ca,t)}function sc(t,i){return ca===null&&ha(t),Bg(t,i)}function Bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Rr===null){if(t===null)throw Error(s(308));Rr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Rr=Rr.next=i;return a}var tb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},nb=r.unstable_scheduleCallback,ib=r.unstable_NormalPriority,Kt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new tb,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&nb(ib,function(){t.controller.abort()})}var gl=null,Uf=0,io=0,ro=null;function rb(t,i){if(gl===null){var a=gl=[];Uf=0,io=zd(),ro={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,i.then(jg,jg),i}function jg(){if(--Uf===0&&gl!==null){ro!==null&&(ro.status="fulfilled");var t=gl;gl=null,io=0,ro=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function sb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Hg=H.S;H.S=function(t,i){w_=It(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&rb(t,i),Hg!==null&&Hg(t,i)};var fa=I(null);function Pf(){var t=fa.current;return t!==null?t:_t.pooledCache}function ac(t,i){i===null?ne(fa,fa.current):ne(fa,i.pool)}function qg(){var t=Pf();return t===null?null:{parent:Kt._currentValue,pool:t}}var so=Error(s(460)),kf=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Mi,Mi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t;default:if(typeof i.status=="string")i.then(Mi,Mi);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t}throw ma=i,so}}function da(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ma=a,so):a}}var ma=null;function Kg(){if(ma===null)throw Error(s(459));var t=ma;return ma=null,t}function Yg(t){if(t===so||t===oc)throw Error(s(483))}var ao=null,yl=0;function uc(t){var i=yl;return yl+=1,ao===null&&(ao=[]),Gg(ao,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function cc(t,i){throw i.$$typeof===O?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(U,M){if(t){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=br(U,M),U.index=0,U.sibling=null,U}function d(U,M,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,z,J){return M===null||M.tag!==6?(M=Rf(z,U.mode,J),M.return=U,M):(M=h(M,z),M.return=U,M)}function N(U,M,z,J){var ve=z.type;return ve===X?$(U,M,z.props.children,J,z.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===b&&da(ve)===M.type)?(M=h(M,z.props),_l(M,z),M.return=U,M):(M=nc(z.type,z.key,z.props,null,U.mode,J),_l(M,z),M.return=U,M)}function B(U,M,z,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Cf(z,U.mode,J),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function $(U,M,z,J,ve){return M===null||M.tag!==7?(M=la(z,U.mode,J,ve),M.return=U,M):(M=h(M,z),M.return=U,M)}function Z(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rf(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:return z=nc(M.type,M.key,M.props,null,U.mode,z),_l(z,M),z.return=U,z;case P:return M=Cf(M,U.mode,z),M.return=U,M;case b:return M=da(M),Z(U,M,z)}if(gt(M)||L(M))return M=la(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return Z(U,uc(M),z);if(M.$$typeof===fe)return Z(U,sc(U,M),z);cc(U,M)}return null}function j(U,M,z,J){var ve=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ve!==null?null:T(U,M,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:return z.key===ve?N(U,M,z,J):null;case P:return z.key===ve?B(U,M,z,J):null;case b:return z=da(z),j(U,M,z,J)}if(gt(z)||L(z))return ve!==null?null:$(U,M,z,J,null);if(typeof z.then=="function")return j(U,M,uc(z),J);if(z.$$typeof===fe)return j(U,M,sc(U,z),J);cc(U,z)}return null}function K(U,M,z,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(z)||null,T(M,U,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Y:return U=U.get(J.key===null?z:J.key)||null,N(M,U,J,ve);case P:return U=U.get(J.key===null?z:J.key)||null,B(M,U,J,ve);case b:return J=da(J),K(U,M,z,J,ve)}if(gt(J)||L(J))return U=U.get(z)||null,$(M,U,J,ve,null);if(typeof J.then=="function")return K(U,M,z,uc(J),ve);if(J.$$typeof===fe)return K(U,M,z,sc(M,J),ve);cc(M,J)}return null}function ye(U,M,z,J){for(var ve=null,Ze=null,Ee=M,ke=M=0,Ye=null;Ee!==null&&ke<z.length;ke++){Ee.index>ke?(Ye=Ee,Ee=null):Ye=Ee.sibling;var et=j(U,Ee,z[ke],J);if(et===null){Ee===null&&(Ee=Ye);break}t&&Ee&&et.alternate===null&&i(U,Ee),M=d(et,M,ke),Ze===null?ve=et:Ze.sibling=et,Ze=et,Ee=Ye}if(ke===z.length)return a(U,Ee),We&&wr(U,ke),ve;if(Ee===null){for(;ke<z.length;ke++)Ee=Z(U,z[ke],J),Ee!==null&&(M=d(Ee,M,ke),Ze===null?ve=Ee:Ze.sibling=Ee,Ze=Ee);return We&&wr(U,ke),ve}for(Ee=l(Ee);ke<z.length;ke++)Ye=K(Ee,U,ke,z[ke],J),Ye!==null&&(t&&Ye.alternate!==null&&Ee.delete(Ye.key===null?ke:Ye.key),M=d(Ye,M,ke),Ze===null?ve=Ye:Ze.sibling=Ye,Ze=Ye);return t&&Ee.forEach(function(Is){return i(U,Is)}),We&&wr(U,ke),ve}function Ae(U,M,z,J){if(z==null)throw Error(s(151));for(var ve=null,Ze=null,Ee=M,ke=M=0,Ye=null,et=z.next();Ee!==null&&!et.done;ke++,et=z.next()){Ee.index>ke?(Ye=Ee,Ee=null):Ye=Ee.sibling;var Is=j(U,Ee,et.value,J);if(Is===null){Ee===null&&(Ee=Ye);break}t&&Ee&&Is.alternate===null&&i(U,Ee),M=d(Is,M,ke),Ze===null?ve=Is:Ze.sibling=Is,Ze=Is,Ee=Ye}if(et.done)return a(U,Ee),We&&wr(U,ke),ve;if(Ee===null){for(;!et.done;ke++,et=z.next())et=Z(U,et.value,J),et!==null&&(M=d(et,M,ke),Ze===null?ve=et:Ze.sibling=et,Ze=et);return We&&wr(U,ke),ve}for(Ee=l(Ee);!et.done;ke++,et=z.next())et=K(Ee,U,ke,et.value,J),et!==null&&(t&&et.alternate!==null&&Ee.delete(et.key===null?ke:et.key),M=d(et,M,ke),Ze===null?ve=et:Ze.sibling=et,Ze=et);return t&&Ee.forEach(function(gw){return i(U,gw)}),We&&wr(U,ke),ve}function pt(U,M,z,J){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Y:e:{for(var ve=z.key;M!==null;){if(M.key===ve){if(ve=z.type,ve===X){if(M.tag===7){a(U,M.sibling),J=h(M,z.props.children),J.return=U,U=J;break e}}else if(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===b&&da(ve)===M.type){a(U,M.sibling),J=h(M,z.props),_l(J,z),J.return=U,U=J;break e}a(U,M);break}else i(U,M);M=M.sibling}z.type===X?(J=la(z.props.children,U.mode,J,z.key),J.return=U,U=J):(J=nc(z.type,z.key,z.props,null,U.mode,J),_l(J,z),J.return=U,U=J)}return _(U);case P:e:{for(ve=z.key;M!==null;){if(M.key===ve)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(U,M.sibling),J=h(M,z.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else i(U,M);M=M.sibling}J=Cf(z,U.mode,J),J.return=U,U=J}return _(U);case b:return z=da(z),pt(U,M,z,J)}if(gt(z))return ye(U,M,z,J);if(L(z)){if(ve=L(z),typeof ve!="function")throw Error(s(150));return z=ve.call(z),Ae(U,M,z,J)}if(typeof z.then=="function")return pt(U,M,uc(z),J);if(z.$$typeof===fe)return pt(U,M,sc(U,z),J);cc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(U,M.sibling),J=h(M,z),J.return=U,U=J):(a(U,M),J=Rf(z,U.mode,J),J.return=U,U=J),_(U)):a(U,M)}return function(U,M,z,J){try{yl=0;var ve=pt(U,M,z,J);return ao=null,ve}catch(Ee){if(Ee===so||Ee===oc)throw Ee;var Ze=ai(29,Ee,null,U.mode);return Ze.lanes=J,Ze.return=U,Ze}finally{}}}var pa=Qg(!0),Xg=Qg(!1),hs=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ds(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=tc(t),xg(t,null,a),i}return ec(t,l,i,a),tc(t)}function El(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xr(t,a)}}function jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Hf=!1;function vl(){if(Hf){var t=ro;if(t!==null)throw t}}function Tl(t,i,a,l){Hf=!1;var h=t.updateQueue;hs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=B:T.next=B,$.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,$=B=N=null,T=d;do{var j=T.lane&-536870913,K=j!==T.lane;if(K?(Ke&j)===j:(l&j)===j){j!==0&&j===io&&(Hf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=t,Ae=T;j=i;var pt=a;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){Z=ye.call(pt,Z,j);break e}Z=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,j=typeof ye=="function"?ye.call(pt,Z,j):ye,j==null)break e;Z=A({},Z,j);break e;case 2:hs=!0}}j=T.callback,j!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[j]:K.push(j))}else K={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(B=$=K,N=Z):$=$.next=K,_|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),_s|=_,t.lanes=_,t.memoizedState=Z}}function $g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],i)}var oo=I(null),hc=I(0);function Jg(t,i){t=Ur,ne(hc,t),ne(oo,i),Ur=t|i.baseLanes}function qf(){ne(hc,Ur),ne(oo,oo.current)}function Ff(){Ur=hc.current,Q(oo),Q(hc)}var oi=I(null),Si=null;function ms(t){var i=t.alternate;ne(jt,jt.current&1),ne(oi,t),Si===null&&(i===null||oo.current!==null||i.memoizedState!==null)&&(Si=t)}function Gf(t){ne(jt,jt.current),ne(oi,t),Si===null&&(Si=t)}function Zg(t){t.tag===22?(ne(jt,jt.current),ne(oi,t),Si===null&&(Si=t)):ps()}function ps(){ne(jt,jt.current),ne(oi,oi.current)}function li(t){Q(oi),Si===t&&(Si=null),Q(jt)}var jt=I(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||Jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ir=0,Le=null,dt=null,Yt=null,dc=!1,lo=!1,ga=!1,mc=0,Al=0,uo=null,ab=0;function Pt(){throw Error(s(321))}function Kf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!si(t[a],i[a]))return!1;return!0}function Yf(t,i,a,l,h,d){return Ir=d,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?Uy:ld,ga=!1,d=a(l,h),ga=!1,lo&&(d=ty(i,a,l,h)),ey(t),d}function ey(t){H.H=wl;var i=dt!==null&&dt.next!==null;if(Ir=0,Yt=dt=Le=null,dc=!1,Al=0,uo=null,i)throw Error(s(300));t===null||Qt||(t=t.dependencies,t!==null&&rc(t)&&(Qt=!0))}function ty(t,i,a,l){Le=t;var h=0;do{if(lo&&(uo=null),Al=0,lo=!1,25<=h)throw Error(s(301));if(h+=1,Yt=dt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=Py,d=i(a,l)}while(lo);return d}function ob(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?Sl(i):i,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Le.flags|=1024),i}function Qf(){var t=mc!==0;return mc=0,t}function Xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function $f(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}Ir=0,Yt=dt=Le=null,lo=!1,Al=mc=0,uo=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Le.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Ht(){if(dt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var i=Yt===null?Le.memoizedState:Yt.next;if(i!==null)Yt=i,dt=t;else{if(t===null)throw Le.alternate===null?Error(s(467)):Error(s(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Yt===null?Le.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var i=Al;return Al+=1,uo===null&&(uo=[]),t=Gg(uo,t,i),i=Le,(Yt===null?i.memoizedState:Yt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Uy:ld),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===fe)return pn(t)}throw Error(s(438,String(t)))}function Wf(t){var i=null,a=Le.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Le.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Nr(t,i){return typeof i=="function"?i(t):i}function yc(t){var i=Ht();return Jf(i,dt,t)}function Jf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,N=null,B=i,$=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Ke&Z)===Z:(Ir&Z)===Z){var j=B.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===io&&($=!0);else if((Ir&j)===j){B=B.next,j===io&&($=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=Z,_=d):N=N.next=Z,Le.lanes|=j,_s|=j;Z=B.action,ga&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else j={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(T=N=j,_=d):N=N.next=j,Le.lanes|=Z,_s|=Z;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=T,!si(d,t.memoizedState)&&(Qt=!0,$&&(a=ro,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zf(t){var i=Ht(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);si(d,i.memoizedState)||(Qt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,i,a){var l=Le,h=Ht(),d=We;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!si((dt||h).memoizedState,a);if(_&&(h.memoizedState=a,Qt=!0),h=h.queue,nd(sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Yt!==null&&Yt.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},ry.bind(null,l,h,a,i),null),_t===null)throw Error(s(349));d||(Ir&127)!==0||iy(l,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Le.updateQueue,i===null?(i=pc(),Le.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(t)}function sy(t,i,a){return a(function(){ay(i)&&oy(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!si(t,a)}catch{return!0}}function oy(t){var i=oa(t,2);i!==null&&Qn(i,t,2)}function ed(t){var i=Ln();if(typeof t=="function"){var a=t;if(t=a(),ga){wt(!0);try{a()}finally{wt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:t},i}function ly(t,i,a,l){return t.baseState=a,Jf(t,dt,typeof l=="function"?l:Nr)}function lb(t,i,a,l,h){if(vc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,uy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function uy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=H.T,_={};H.T=_;try{var T=a(h,l),N=H.S;N!==null&&N(_,T),cy(t,i,T)}catch(B){td(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=a(h,l),cy(t,i,d)}catch(B){td(t,i,B)}}function cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,i,l)},function(l){return td(t,i,l)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function td(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function my(t,i){if(We){var a=_t.formState;if(a!==null){e:{var l=Le;if(We){if(At){t:{for(var h=At,d=Ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=bi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){At=bi(h.nextSibling),l=h.data==="F!";break e}}us(l)}l=!1}l&&(i=a[0])}}return a=Ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=My.bind(null,Le,l),l.dispatch=a,l=ed(!1),d=od.bind(null,Le,!1,l.queue),l=Ln(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=lb.bind(null,Le,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function py(t){var i=Ht();return gy(i,dt,t)}function gy(t,i,a){if(i=Jf(t,i,dy)[0],t=yc(Nr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(_){throw _===so?oc:_}else l=i;i=Ht();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Le.flags|=2048,co(9,{destroy:void 0},ub.bind(null,h,a),null)),[l,d,t]}function ub(t,i){t.action=i}function yy(t){var i=Ht(),a=dt;if(a!==null)return gy(i,a,t);Ht(),i=i.memoizedState,a=Ht();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function co(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Le.updateQueue,i===null&&(i=pc(),Le.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return Ht().memoizedState}function _c(t,i,a,l){var h=Ln();Le.flags|=t,h.memoizedState=co(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ec(t,i,a,l){var h=Ht();l=l===void 0?null:l;var d=h.memoizedState.inst;dt!==null&&l!==null&&Kf(l,dt.memoizedState.deps)?h.memoizedState=co(i,d,a,l):(Le.flags|=t,h.memoizedState=co(1|i,d,a,l))}function Ey(t,i){_c(8390656,8,t,i)}function nd(t,i){Ec(2048,8,t,i)}function cb(t){Le.flags|=4;var i=Le.updateQueue;if(i===null)i=pc(),Le.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function vy(t){var i=Ht().memoizedState;return cb({ref:i,nextImpl:t}),function(){if((nt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(t,i){return Ec(4,2,t,i)}function Ay(t,i){return Ec(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,a){a=a!=null?a.concat([t]):null,Ec(4,4,Sy.bind(null,i,t),a)}function id(){}function wy(t,i){var a=Ht();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ry(t,i){var a=Ht();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kf(i,l[1]))return l[0];if(l=t(),ga){wt(!0);try{t()}finally{wt(!1)}}return a.memoizedState=[l,i],l}function rd(t,i,a){return a===void 0||(Ir&1073741824)!==0&&(Ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=C_(),Le.lanes|=t,_s|=t,a)}function Cy(t,i,a,l){return si(a,i)?a:oo.current!==null?(t=rd(t,a,l),si(t,i)||(Qt=!0),t):(Ir&42)===0||(Ir&1073741824)!==0&&(Ke&261930)===0?(Qt=!0,t.memoizedState=a):(t=C_(),Le.lanes|=t,_s|=t,i)}function Iy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=H.T,T={};H.T=T,od(t,!1,i,a);try{var N=h(),B=H.S;if(B!==null&&B(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=sb(N,l);bl(t,i,$,hi(t))}else bl(t,i,l,hi(t))}catch(Z){bl(t,i,{then:function(){},status:"rejected",reason:Z},hi())}finally{se.p=d,_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}function hb(){}function sd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ny(t).queue;Iy(t,h,i,he,a===null?hb:function(){return Dy(t),a(l)})}function Ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dy(t){var i=Ny(t);i.next===null&&(i=t.alternate.memoizedState),bl(t,i.next.queue,{},hi())}function ad(){return pn(jl)}function Oy(){return Ht().memoizedState}function xy(){return Ht().memoizedState}function fb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=hi();t=fs(a);var l=ds(i,t,a);l!==null&&(Qn(l,i,a),El(l,i,a)),i={cache:Lf()},t.payload=i;return}i=i.return}}function db(t,i,a){var l=hi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?Vy(i,a):(a=bf(t,i,a,l),a!==null&&(Qn(a,t,l),Ly(a,i,l)))}function My(t,i,a){var l=hi();bl(t,i,a,l)}function bl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))Vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,si(T,_))return ec(t,i,h,0),_t===null&&Zu(),!1}catch{}finally{}if(a=bf(t,i,h,l),a!==null)return Qn(a,t,l),Ly(a,i,l),!0}return!1}function od(t,i,a,l){if(l={lane:2,revertLane:zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(s(479))}else i=bf(t,a,l,2),i!==null&&Qn(i,t,2)}function vc(t){var i=t.alternate;return t===Le||i!==null&&i===Le}function Vy(t,i){lo=dc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ly(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Xr(t,a)}}var wl={readContext:pn,use:gc,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};wl.useEffectEvent=Pt;var Uy={readContext:pn,use:gc,useCallback:function(t,i){return Ln().memoizedState=[t,i===void 0?null:i],t},useContext:pn,useEffect:Ey,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,_c(4194308,4,Sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var a=Ln();i=i===void 0?null:i;var l=t();if(ga){wt(!0);try{t()}finally{wt(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Ln();if(a!==void 0){var h=a(i);if(ga){wt(!0);try{a(i)}finally{wt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=db.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var i=Ln();return t={current:t},i.memoizedState=t},useState:function(t){t=ed(t);var i=t.queue,a=My.bind(null,Le,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:id,useDeferredValue:function(t,i){var a=Ln();return rd(a,t,i)},useTransition:function(){var t=ed(!1);return t=Iy.bind(null,Le,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Le,h=Ln();if(We){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),_t===null)throw Error(s(349));(Ke&127)!==0||iy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ey(sy.bind(null,l,d,t),[t]),l.flags|=2048,co(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var t=Ln(),i=_t.identifierPrefix;if(We){var a=or,l=ar;a=(l&~(1<<32-ct(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ab++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ad,useFormState:my,useActionState:my,useOptimistic:function(t){var i=Ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=od.bind(null,Le,!0,a),a.dispatch=i,[t,i]},useMemoCache:Wf,useCacheRefresh:function(){return Ln().memoizedState=fb.bind(null,Le)},useEffectEvent:function(t){var i=Ln(),a={impl:t};return i.memoizedState=a,function(){if((nt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ld={readContext:pn,use:gc,useCallback:wy,useContext:pn,useEffect:nd,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Ay,useMemo:Ry,useReducer:yc,useRef:_y,useState:function(){return yc(Nr)},useDebugValue:id,useDeferredValue:function(t,i){var a=Ht();return Cy(a,dt.memoizedState,t,i)},useTransition:function(){var t=yc(Nr)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:ny,useId:Oy,useHostTransitionStatus:ad,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=Ht();return ly(a,dt,t,i)},useMemoCache:Wf,useCacheRefresh:xy};ld.useEffectEvent=vy;var Py={readContext:pn,use:gc,useCallback:wy,useContext:pn,useEffect:nd,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Ay,useMemo:Ry,useReducer:Zf,useRef:_y,useState:function(){return Zf(Nr)},useDebugValue:id,useDeferredValue:function(t,i){var a=Ht();return dt===null?rd(a,t,i):Cy(a,dt.memoizedState,t,i)},useTransition:function(){var t=Zf(Nr)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:ny,useId:Oy,useHostTransitionStatus:ad,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=Ht();return dt!==null?ly(a,dt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:xy};Py.useEffectEvent=vy;function ud(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=hi(),h=fs(l);h.payload=i,a!=null&&(h.callback=a),i=ds(t,h,l),i!==null&&(Qn(i,t,l),El(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=hi(),h=fs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ds(t,h,l),i!==null&&(Qn(i,t,l),El(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=hi(),l=fs(a);l.tag=2,i!=null&&(l.callback=i),i=ds(t,l,a),i!==null&&(Qn(i,t,a),El(i,t,a))}};function ky(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!hl(a,l)||!hl(h,d):!0}function zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&cd.enqueueReplaceState(i,i.state,null)}function ya(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function By(t){Ju(t)}function jy(t){console.error(t)}function Hy(t){Ju(t)}function Tc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hd(t,i,a){return a=fs(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,i)},a}function Fy(t){return t=fs(t),t.tag=3,t}function Gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){qy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qy(i,a,l),typeof h!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function mb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&no(i,a,h,!0),a=oi.current,a!==null){switch(a.tag){case 31:case 13:return Si===null?Mc():a.alternate===null&&kt===0&&(kt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),Mc(),!1}if(We)return i=oi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Df&&(t=Error(s(422),{cause:l}),ml(Ei(t,a)))):(l!==Df&&(i=Error(s(423),{cause:l}),ml(Ei(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ei(l,a),h=hd(t.stateNode,l,h),jf(t,h),kt!==4&&(kt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ei(d,a),Ml===null?Ml=[d]:Ml.push(d),kt!==4&&(kt=2),i===null)return!0;l=Ei(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=hd(a.stateNode,l,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Es===null||!Es.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,t,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var fd=Error(s(461)),Qt=!1;function gn(t,i,a,l){i.child=t===null?Xg(i,null,a,l):pa(i,t.child,a,l)}function Ky(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ha(i),l=Yf(t,i,a,_,d,h),T=Qf(),t!==null&&!Qt?(Xf(t,i,h),Dr(t,i,h)):(We&&T&&If(i),i.flags|=1,gn(t,i,l,h),i.child)}function Yy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!wf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qy(t,i,d,l,h)):(t=nc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!vd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(_,l)&&t.ref===i.ref)return Dr(t,i,h)}return i.flags|=1,t=br(d,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===i.ref)if(Qt=!1,i.pendingProps=l=d,vd(t,h))(t.flags&131072)!==0&&(Qt=!0);else return i.lanes=t.lanes,Dr(t,i,h)}return dd(t,i,a,l,h)}function Xy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return $y(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?Jg(i,d):qf(),Zg(i);else return l=i.lanes=536870912,$y(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(i,d.cachePool),Jg(i,d),ps(),i.memoizedState=null):(t!==null&&ac(i,null),qf(),ps());return gn(t,i,h,a),i.child}function Rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $y(t,i,a,l,h){var d=Pf();return d=d===null?null:{parent:Kt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(i,null),qf(),Zg(i),t!==null&&no(t,i,l,!0),i.childLanes=h,null}function Ac(t,i){return i=bc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Wy(t,i,a){return pa(i,t.child,null,a),t=Ac(i,i.pendingProps),t.flags|=2,li(i),i.memoizedState=null,t}function pb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(We){if(l.mode==="hidden")return t=Ac(i,l),i.lanes=536870912,Rl(null,t);if(Gf(i),(t=At)?(t=uE(t,Ai),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:os!==null?{id:ar,overflow:or}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,mn=i,At=null)):t=null,t===null)throw us(i);return i.lanes=536870912,null}return Ac(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Gf(i),h)if(i.flags&256)i.flags&=-257,i=Wy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Qt||no(t,i,a,!1),h=(a&t.childLanes)!==0,Qt||h){if(l=_t,l!==null&&(_=Ys(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,oa(t,_),Qn(l,t,_),fd;Mc(),i=Wy(t,i,a)}else t=d.treeContext,At=bi(_.nextSibling),mn=i,We=!0,ls=null,Ai=!1,t!==null&&Pg(i,t),i=Ac(i,l),i.flags|=4096;return i}return t=br(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function dd(t,i,a,l,h){return ha(i),a=Yf(t,i,a,l,void 0,h),l=Qf(),t!==null&&!Qt?(Xf(t,i,h),Dr(t,i,h)):(We&&l&&If(i),i.flags|=1,gn(t,i,a,h),i.child)}function Jy(t,i,a,l,h,d){return ha(i),i.updateQueue=null,a=ty(i,l,a,h),ey(t),l=Qf(),t!==null&&!Qt?(Xf(t,i,d),Dr(t,i,d)):(We&&l&&If(i),i.flags|=1,gn(t,i,a,d),i.child)}function Zy(t,i,a,l,h){if(ha(i),i.stateNode===null){var d=Ja,_=a.contextType;typeof _=="object"&&_!==null&&(d=pn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},zf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?pn(_):Ja,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ud(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&cd.enqueueReplaceState(d,d.state,null),Tl(i,l,d,h),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=ya(a,T);d.props=N;var B=d.context,$=a.contextType;_=Ja,typeof $=="object"&&$!==null&&(_=pn($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&zy(i,d,l,_),hs=!1;var j=i.memoizedState;d.state=j,Tl(i,l,d,h),vl(),B=i.memoizedState,T||j!==B||hs?(typeof Z=="function"&&(ud(i,a,Z,l),B=i.memoizedState),(N=hs||ky(i,a,N,l,j,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bf(t,i),_=i.memoizedProps,$=ya(a,_),d.props=$,Z=i.pendingProps,j=d.context,B=a.contextType,N=Ja,typeof B=="object"&&B!==null&&(N=pn(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||j!==N)&&zy(i,d,l,N),hs=!1,j=i.memoizedState,d.state=j,Tl(i,l,d,h),vl();var K=i.memoizedState;_!==Z||j!==K||hs||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof T=="function"&&(ud(i,a,T,l),K=i.memoizedState),($=hs||ky(i,a,$,l,j,K,N)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=pa(i,t.child,null,h),i.child=pa(i,null,a,h)):gn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Dr(t,i,h),t}function e_(t,i,a,l){return ua(),i.flags|=256,gn(t,i,a,l),i.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:qg()}}function gd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=ci),t}function t_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(h?ms(i):ps(),(t=At)?(t=uE(t,Ai),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:os!==null?{id:ar,overflow:or}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,mn=i,At=null)):t=null,t===null)throw us(i);return Jd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(ps(),h=i.mode,T=bc({mode:"hidden",children:T},h),l=la(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=pd(a),l.childLanes=gd(t,_,a),i.memoizedState=md,Rl(null,l)):(ms(i),yd(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(ms(i),i.flags&=-257,i=_d(t,i,a)):i.memoizedState!==null?(ps(),i.child=t.child,i.flags|=128,i=null):(ps(),T=l.fallback,h=i.mode,l=bc({mode:"visible",children:l.children},h),T=la(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,pa(i,t.child,null,a),l=i.child,l.memoizedState=pd(a),l.childLanes=gd(t,_,a),i.memoizedState=md,i=Rl(null,l));else if(ms(i),Jd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ml({value:l,source:null,stack:null}),i=_d(t,i,a)}else if(Qt||no(t,i,a,!1),_=(a&t.childLanes)!==0,Qt||_){if(_=_t,_!==null&&(l=Ys(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,oa(t,l),Qn(_,t,l),fd;Wd(T)||Mc(),i=_d(t,i,a)}else Wd(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,At=bi(T.nextSibling),mn=i,We=!0,ls=null,Ai=!1,t!==null&&Pg(i,t),i=yd(i,l.children),i.flags|=4096);return i}return h?(ps(),T=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=br(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?T=br(B,T):(T=la(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Rl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=pd(a):(h=T.cachePool,h!==null?(N=Kt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=qg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=gd(t,_,a),i.memoizedState=md,Rl(t.child,l)):(ms(i),a=t.child,t=a.sibling,a=br(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function yd(t,i){return i=bc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function bc(t,i){return t=ai(22,t,null,i),t.lanes=0,t}function _d(t,i,a){return pa(i,t.child,null,a),t=yd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function n_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Mf(t.return,i,a)}function Ed(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function i_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=jt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ne(jt,_),gn(t,i,l,a),l=We?dl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,i);else if(t.tag===19)n_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ed(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ed(i,!0,a,null,d,l);break;case"together":Ed(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Dr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),_s|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(no(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=br(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=br(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function gb(t,i,a){switch(i.tag){case 3:lt(i,i.stateNode.containerInfo),cs(i,Kt,t.memoizedState.cache),ua();break;case 27:case 5:Jn(i);break;case 4:lt(i,i.stateNode.containerInfo);break;case 10:cs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ms(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(t,i,a):(ms(i),t=Dr(t,i,a),t!==null?t.sibling:null);ms(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(no(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return i_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(jt,jt.current),l)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:cs(i,Kt,t.memoizedState.cache)}return Dr(t,i,a)}function r_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Qt=!0;else{if(!vd(t,a)&&(i.flags&128)===0)return Qt=!1,gb(t,i,a);Qt=(t.flags&131072)!==0}else Qt=!1,We&&(i.flags&1048576)!==0&&Ug(i,dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=da(i.elementType),i.type=t,typeof t=="function")wf(t)?(l=ya(t,l),i.tag=1,i=Zy(null,i,t,l,a)):(i.tag=0,i=dd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===_e){i.tag=11,i=Ky(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=Yy(null,i,t,l,a);break e}}throw i=Me(t)||t,Error(s(306,i,""))}}return i;case 0:return dd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ya(l,i.pendingProps),Zy(t,i,l,h,a);case 3:e:{if(lt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Bf(t,i),Tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,cs(i,Kt,l),l!==d.cache&&Vf(i,[Kt],a,!0),vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=e_(t,i,l,a);break e}else if(l!==h){h=Ei(Error(s(424)),i),ml(h),i=e_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=bi(t.firstChild),mn=i,We=!0,ls=null,Ai=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ua(),l===h){i=Dr(t,i,a);break e}gn(t,i,l,a)}i=i.child}return i;case 26:return Sc(t,i),t===null?(a=pE(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,l=Bc(Se.current).createElement(a),l[Ot]=i,l[ht]=t,yn(l,a,t),Pe(l),i.stateNode=l):i.memoizedState=pE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Jn(i),t===null&&We&&(l=i.stateNode=fE(i.type,i.pendingProps,Se.current),mn=i,Ai=!0,h=At,Ss(i.type)?(Zd=h,At=bi(l.firstChild)):At=h),gn(t,i,i.pendingProps.children,a),Sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((h=l=At)&&(l=Kb(l,i.type,i.pendingProps,Ai),l!==null?(i.stateNode=l,mn=i,At=bi(l.firstChild),Ai=!1,h=!0):h=!1),h||us(i)),Jn(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Qd(h,d)?l=null:_!==null&&Qd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Yf(t,i,ob,null,null,a),jl._currentValue=h),Sc(t,i),gn(t,i,l,a),i.child;case 6:return t===null&&We&&((t=a=At)&&(a=Yb(a,i.pendingProps,Ai),a!==null?(i.stateNode=a,mn=i,At=null,t=!0):t=!1),t||us(i)),null;case 13:return t_(t,i,a);case 4:return lt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=pa(i,null,l,a):gn(t,i,l,a),i.child;case 11:return Ky(t,i,i.type,i.pendingProps,a);case 7:return gn(t,i,i.pendingProps,a),i.child;case 8:return gn(t,i,i.pendingProps.children,a),i.child;case 12:return gn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,cs(i,i.type,l.value),gn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ha(i),h=pn(h),l=l(h),i.flags|=1,gn(t,i,l,a),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return i_(t,i,a);case 31:return pb(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return ha(i),l=pn(Kt),t===null?(h=Pf(),h===null&&(h=_t,d=Lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},zf(i),cs(i,Kt,h)):((t.lanes&a)!==0&&(Bf(t,i),Tl(i,null,null,a),vl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),cs(i,Kt,l)):(l=d.cache,cs(i,Kt,l),l!==h.cache&&Vf(i,[Kt],a,!0))),gn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Or(t){t.flags|=4}function Td(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(O_())t.flags|=8192;else throw ma=lc,kf}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vE(i))if(O_())t.flags|=8192;else throw ma=lc,kf}function wc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xi():536870912,t.lanes|=i,po|=i)}function Cl(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function yb(t,i,a){var l=i.pendingProps;switch(Nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(i),null;case 1:return St(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Cr(Kt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(to(i)?Or(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Of())),St(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Or(i),d!==null?(St(i),s_(i,d)):(St(i),Td(i,h,null,l,a))):d?d!==t.memoizedState?(Or(i),St(i),s_(i,d)):(St(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Or(i),St(i),Td(i,h,t,l,a)),null;case 27:if(Di(i),a=Se.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return St(i),null}t=oe.current,to(i)?kg(i):(t=fE(h,l,a),i.stateNode=t,Or(i))}return St(i),null;case 5:if(Di(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return St(i),null}if(d=oe.current,to(i))kg(i);else{var _=Bc(Se.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ot]=i,d[ht]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(yn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Or(i)}}return St(i),Td(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Or(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,to(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ot]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tE(t.nodeValue,a)),t||us(i,!0)}else t=Bc(t).createTextNode(l),t[Ot]=i,i.stateNode=t}return St(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=to(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ot]=i}else ua(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(li(i),i):(li(i),null);if((i.flags&128)!==0)throw Error(s(558))}return St(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=to(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ot]=i}else ua(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),h=!1}else h=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(li(i),i):(li(i),null)}return li(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),St(i),null);case 4:return rt(),t===null&&qd(i.stateNode.containerInfo),St(i),null;case 10:return Cr(i.type),St(i),null;case 19:if(Q(jt),l=i.memoizedState,l===null)return St(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Cl(l,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,wc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return ne(jt,jt.current&1|2),We&&wr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&It()>Dc&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=fc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,wc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!We)return St(i),null}else 2*It()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=It(),t.sibling=null,a=jt.current,ne(jt,h?a&1|2:a&1),We&&wr(i,l.treeForkCount),t):(St(i),null);case 22:case 23:return li(i),Ff(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(St(i),i.subtreeFlags&6&&(i.flags|=8192)):St(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Q(fa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Cr(Kt),St(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _b(t,i){switch(Nf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Cr(Kt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Di(i),null;case 31:if(i.memoizedState!==null){if(li(i),i.alternate===null)throw Error(s(340));ua()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(li(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ua()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(jt),null;case 4:return rt(),null;case 10:return Cr(i.type),null;case 22:case 23:return li(i),Ff(),t!==null&&Q(fa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Cr(Kt),null;case 25:return null;default:return null}}function a_(t,i){switch(Nf(i),i.tag){case 3:Cr(Kt),rt();break;case 26:case 27:case 5:Di(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&li(i);break;case 13:li(i);break;case 19:Q(jt);break;case 10:Cr(i.type);break;case 22:case 23:li(i),Ff(),t!==null&&Q(fa);break;case 24:Cr(Kt)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){ot(i,i.return,T)}}function gs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,B=T;try{B()}catch($){ot(h,N,$)}}}l=l.next}while(l!==d)}}catch($){ot(i,i.return,$)}}function o_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wg(i,a)}catch(l){ot(t,t.return,l)}}}function l_(t,i,a){a.props=ya(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ot(t,i,l)}}function Nl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ot(t,i,h)}}function lr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ot(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ot(t,i,h)}else a.current=null}function u_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ot(t,t.return,h)}}function Ad(t,i,a){try{var l=t.stateNode;Bb(l,t.type,a,i),l[ht]=i}catch(h){ot(t,t.return,h)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ss(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ss(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Mi));else if(l!==4&&(l===27&&Ss(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(bd(t,i,a),t=t.sibling;t!==null;)bd(t,i,a),t=t.sibling}function Rc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ss(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Rc(t,i,a),t=t.sibling;t!==null;)Rc(t,i,a),t=t.sibling}function h_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);yn(i,l,a),i[Ot]=t,i[ht]=a}catch(d){ot(t,t.return,d)}}var xr=!1,Xt=!1,wd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Eb(t,i){if(t=t.containerInfo,Kd=Yc,t=bg(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,B=0,$=0,Z=t,j=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(T=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)j=Z,Z=K;for(;;){if(Z===t)break t;if(j===a&&++B===h&&(T=_),j===d&&++$===l&&(N=_),(K=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=K}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},Yc=!1,sn=i;sn!==null;)if(i=sn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,sn=t;else for(;sn!==null;){switch(i=sn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=ya(a.type,h);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ot(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)$d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,sn=t;break}sn=i.return}}function d_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vr(t,a),l&4&&Il(5,a);break;case 1:if(Vr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){ot(a,a.return,_)}else{var h=ya(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ot(a,a.return,_)}}l&64&&o_(a),l&512&&Nl(a,a.return);break;case 3:if(Vr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(t,i)}catch(_){ot(a,a.return,_)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:Vr(t,a),i===null&&l&4&&u_(a),l&512&&Nl(a,a.return);break;case 12:Vr(t,a);break;case 31:Vr(t,a),l&4&&g_(t,a);break;case 13:Vr(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ib.bind(null,a),Qb(t,a))));break;case 22:if(l=a.memoizedState!==null||xr,!l){i=i!==null&&i.memoizedState!==null||Xt,h=xr;var d=Xt;xr=l,(Xt=i)&&!d?Lr(t,a,(a.subtreeFlags&8772)!==0):Vr(t,a),xr=h,Xt=d}break;case 30:break;default:Vr(t,a)}}function m_(t){var i=t.alternate;i!==null&&(t.alternate=null,m_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&x(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,Fn=!1;function Mr(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Zt,a)}catch{}switch(a.tag){case 26:Xt||lr(a,i),Mr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xt||lr(a,i);var l=Ct,h=Fn;Ss(a.type)&&(Ct=a.stateNode,Fn=!1),Mr(t,i,a),kl(a.stateNode),Ct=l,Fn=h;break;case 5:Xt||lr(a,i);case 6:if(l=Ct,h=Fn,Ct=null,Mr(t,i,a),Ct=l,Fn=h,Ct!==null)if(Fn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(a.stateNode)}catch(d){ot(a,i,d)}else try{Ct.removeChild(a.stateNode)}catch(d){ot(a,i,d)}break;case 18:Ct!==null&&(Fn?(t=Ct,oE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):oE(Ct,a.stateNode));break;case 4:l=Ct,h=Fn,Ct=a.stateNode.containerInfo,Fn=!0,Mr(t,i,a),Ct=l,Fn=h;break;case 0:case 11:case 14:case 15:gs(2,a,i),Xt||gs(4,a,i),Mr(t,i,a);break;case 1:Xt||(lr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),Mr(t,i,a);break;case 21:Mr(t,i,a);break;case 22:Xt=(l=Xt)||a.memoizedState!==null,Mr(t,i,a),Xt=l;break;default:Mr(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(a){ot(i,i.return,a)}}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){ot(i,i.return,a)}}function vb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f_),i;default:throw Error(s(435,t.tag))}}function Cc(t,i){var a=vb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Nb.bind(null,t,l);l.then(h,h)}})}function Gn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ss(T.type)){Ct=T.stateNode,Fn=!1;break e}break;case 5:Ct=T.stateNode,Fn=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,Fn=!0;break e}T=T.return}if(Ct===null)throw Error(s(160));p_(d,_,h),Ct=null,Fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var zi=null;function __(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gn(i,t),Kn(t),l&4&&(gs(3,t,t.return),Il(3,t),gs(5,t,t.return));break;case 1:Gn(i,t),Kn(t),l&512&&(Xt||a===null||lr(a,a.return)),l&64&&xr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zi;if(Gn(i,t),Kn(t),l&512&&(Xt||a===null||lr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pe]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),yn(d,l,a),d[Ot]=t,Pe(d),l=d;break e;case"link":var _=_E("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),yn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=_E("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),yn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ot]=t,Pe(d),l=d}t.stateNode=l}else EE(h,t.type,t.stateNode);else t.stateNode=yE(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?EE(h,t.type,t.stateNode):yE(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:Gn(i,t),Kn(t),l&512&&(Xt||a===null||lr(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Gn(i,t),Kn(t),l&512&&(Xt||a===null||lr(a,a.return)),t.flags&32){h=t.stateNode;try{qn(h,"")}catch(ye){ot(t,t.return,ye)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(wd=!0);break;case 6:if(Gn(i,t),Kn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){ot(t,t.return,ye)}}break;case 3:if(qc=null,h=zi,zi=jc(i.containerInfo),Gn(i,t),zi=h,Kn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(ye){ot(t,t.return,ye)}wd&&(wd=!1,E_(t));break;case 4:l=zi,zi=jc(t.stateNode.containerInfo),Gn(i,t),Kn(t),zi=l;break;case 12:Gn(i,t),Kn(t);break;case 31:Gn(i,t),Kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 13:Gn(i,t),Kn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=It()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=xr,$=Xt;if(xr=B||h,Xt=$||N,Gn(i,t),Xt=$,xr=B,Kn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||xr||Xt||_a(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var Z=N.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ye){ot(N,N.return,ye)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ye){ot(N,N.return,ye)}}}else if(i.tag===18){if(a===null){N=i;try{var K=N.stateNode;h?lE(K,!0):lE(N.stateNode,!1)}catch(ye){ot(N,N.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(t,a))));break;case 19:Gn(i,t),Kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 30:break;case 21:break;default:Gn(i,t),Kn(t)}}function Kn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Sd(t);Rc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(qn(_,""),a.flags&=-33);var T=Sd(t);Rc(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Sd(t);bd(t,B,N);break;default:throw Error(s(161))}}catch($){ot(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function E_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;E_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Vr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(t,i.alternate,i),i=i.sibling}function _a(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:gs(4,i,i.return),_a(i);break;case 1:lr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),_a(i);break;case 27:kl(i.stateNode);case 26:case 5:lr(i,i.return),_a(i);break;case 22:i.memoizedState===null&&_a(i);break;case 30:_a(i);break;default:_a(i)}t=t.sibling}}function Lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Lr(h,d,a),Il(4,d);break;case 1:if(Lr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ot(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)$g(N[h],T)}catch(B){ot(l,l.return,B)}}a&&_&64&&o_(d),Nl(d,d.return);break;case 27:h_(d);case 26:case 5:Lr(h,d,a),a&&l===null&&_&4&&u_(d),Nl(d,d.return);break;case 12:Lr(h,d,a);break;case 31:Lr(h,d,a),a&&_&4&&g_(h,d);break;case 13:Lr(h,d,a),a&&_&4&&y_(h,d);break;case 22:d.memoizedState===null&&Lr(h,d,a),Nl(d,d.return);break;case 30:break;default:Lr(h,d,a)}i=i.sibling}}function Rd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function Cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function Bi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v_(t,i,a,l),i=i.sibling}function v_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Bi(t,i,a,l),h&2048&&Il(9,i);break;case 1:Bi(t,i,a,l);break;case 3:Bi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(h&2048){Bi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ot(i,i.return,N)}}else Bi(t,i,a,l);break;case 31:Bi(t,i,a,l);break;case 13:Bi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Bi(t,i,a,l):Dl(t,i):d._visibility&2?Bi(t,i,a,l):(d._visibility|=2,ho(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Rd(_,i);break;case 24:Bi(t,i,a,l),h&2048&&Cd(i.alternate,i);break;default:Bi(t,i,a,l)}}function ho(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ho(d,_,T,N,h),Il(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?ho(d,_,T,N,h):Dl(d,_):($._visibility|=2,ho(d,_,T,N,h)),h&&B&2048&&Rd(_.alternate,_);break;case 24:ho(d,_,T,N,h),h&&B&2048&&Cd(_.alternate,_);break;default:ho(d,_,T,N,h)}i=i.sibling}}function Dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Dl(a,l),h&2048&&Rd(l.alternate,l);break;case 24:Dl(a,l),h&2048&&Cd(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var Ol=8192;function fo(t,i,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)T_(t,i,a),t=t.sibling}function T_(t,i,a){switch(t.tag){case 26:fo(t,i,a),t.flags&Ol&&t.memoizedState!==null&&aw(a,zi,t.memoizedState,t.memoizedProps);break;case 5:fo(t,i,a);break;case 3:case 4:var l=zi;zi=jc(t.stateNode.containerInfo),fo(t,i,a),zi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,fo(t,i,a),Ol=l):fo(t,i,a));break;default:fo(t,i,a)}}function A_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,b_(l,t)}A_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&gs(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ic(t)):xl(t);break;default:xl(t)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,b_(l,t)}A_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:gs(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}t=t.sibling}}function b_(t,i){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:gs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else e:for(a=t;sn!==null;){l=sn;var h=l.sibling,d=l.return;if(m_(l),l===a){sn=null;break e}if(h!==null){h.return=d,sn=h;break e}sn=d}}}var Tb={getCacheForType:function(t){var i=pn(Kt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return pn(Kt).controller.signal}},Ab=typeof WeakMap=="function"?WeakMap:Map,nt=0,_t=null,Fe=null,Ke=0,at=0,ui=null,ys=!1,mo=!1,Id=!1,Ur=0,kt=0,_s=0,Ea=0,Nd=0,ci=0,po=0,Ml=null,Yn=null,Dd=!1,Nc=0,w_=0,Dc=1/0,Oc=null,Es=null,en=0,vs=null,go=null,Pr=0,Od=0,xd=null,R_=null,Vl=0,Md=null;function hi(){return(nt&2)!==0&&Ke!==0?Ke&-Ke:H.T!==null?zd():Qs()}function C_(){if(ci===0)if((Ke&536870912)===0||We){var t=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),ci=t}else ci=536870912;return t=oi.current,t!==null&&(t.flags|=32),ci}function Qn(t,i,a){(t===_t&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(yo(t,0),Ts(t,Ke,ci,!1)),Wi(t,a),((nt&2)===0||t!==_t)&&(t===_t&&((nt&2)===0&&(Ea|=a),kt===4&&Ts(t,Ke,ci,!1)),ur(t))}function I_(t,i,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ni(t,i),h=l?wb(t,i):Ld(t,i,!0),d=l;do{if(h===0){mo&&!l&&Ts(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Sb(a)){h=Ld(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=Ml;var N=T.current.memoizedState.isDehydrated;if(N&&(yo(T,_).flags|=256),_=Ld(T,_,!1),_!==2){if(Id&&!N){T.errorRecoveryDisabledLanes|=d,Ea|=d,h=4;break e}d=Yn,Yn=h,d!==null&&(Yn===null?Yn=d:Yn.push.apply(Yn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){yo(t,0),Ts(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ts(l,i,ci,!ys);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Nc+300-It(),10<h)){if(Ts(l,i,ci,!ys),di(l,0,!0)!==0)break e;Pr=i,l.timeoutHandle=sE(N_.bind(null,l,a,Yn,Oc,Dd,i,ci,Ea,po,ys,d,"Throttled",-0,0),h);break e}N_(l,a,Yn,Oc,Dd,i,ci,Ea,po,ys,d,null,-0,0)}}break}while(!0);ur(t)}function N_(t,i,a,l,h,d,_,T,N,B,$,Z,j,K){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},T_(i,d,Z);var ye=(d&62914560)===d?Nc-It():(d&4194048)===d?w_-It():0;if(ye=ow(Z,ye),ye!==null){Pr=d,t.cancelPendingCommit=ye(P_.bind(null,t,i,d,a,l,h,_,T,N,$,Z,null,j,K)),Ts(t,d,_,!B);return}}P_(t,i,d,a,l,h,_,T,N)}function Sb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!si(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ts(t,i,a,l){i&=~Nd,i&=~Ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ct(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ji(t,a,i)}function xc(){return(nt&6)===0?(Ll(0),!1):!0}function Vd(){if(Fe!==null){if(at===0)var t=Fe.return;else t=Fe,Rr=ca=null,$f(t),ao=null,yl=0,t=Fe;for(;t!==null;)a_(t.alternate,t),t=t.return;Fe=null}}function yo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pr=0,Vd(),_t=t,Fe=a=br(t.current,null),Ke=i,at=0,ui=null,ys=!1,mo=ni(t,i),Id=!1,po=ci=Nd=Ea=_s=kt=0,Yn=Ml=null,Dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ct(l),d=1<<h;i|=t[h],l&=~d}return Ur=i,Zu(),a}function D_(t,i){Le=null,H.H=wl,i===so||i===oc?(i=Kg(),at=3):i===kf?(i=Kg(),at=4):at=i===fd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ui=i,Fe===null&&(kt=1,Tc(t,Ei(i,t.current)))}function O_(){var t=oi.current;return t===null?!0:(Ke&4194048)===Ke?Si===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?t===Si:!1}function x_(){var t=H.H;return H.H=wl,t===null?wl:t}function M_(){var t=H.A;return H.A=Tb,t}function Mc(){kt=4,ys||(Ke&4194048)!==Ke&&oi.current!==null||(mo=!0),(_s&134217727)===0&&(Ea&134217727)===0||_t===null||Ts(_t,Ke,ci,!1)}function Ld(t,i,a){var l=nt;nt|=2;var h=x_(),d=M_();(_t!==t||Ke!==i)&&(Oc=null,yo(t,i)),i=!1;var _=kt;e:do try{if(at!==0&&Fe!==null){var T=Fe,N=ui;switch(at){case 8:Vd(),_=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(i=!0);var B=at;if(at=0,ui=null,_o(t,T,N,B),a&&mo){_=0;break e}break;default:B=at,at=0,ui=null,_o(t,T,N,B)}}bb(),_=kt;break}catch($){D_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Rr=ca=null,nt=l,H.H=h,H.A=d,Fe===null&&(_t=null,Ke=0,Zu()),_}function bb(){for(;Fe!==null;)V_(Fe)}function wb(t,i){var a=nt;nt|=2;var l=x_(),h=M_();_t!==t||Ke!==i?(Oc=null,Dc=It()+500,yo(t,i)):mo=ni(t,i);e:do try{if(at!==0&&Fe!==null){i=Fe;var d=ui;t:switch(at){case 1:at=0,ui=null,_o(t,i,d,1);break;case 2:case 9:if(Fg(d)){at=0,ui=null,L_(i);break}i=function(){at!==2&&at!==9||_t!==t||(at=7),ur(t)},d.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Fg(d)?(at=0,ui=null,L_(i)):(at=0,ui=null,_o(t,i,d,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var T=Fe;if(_?vE(_):T.stateNode.complete){at=0,ui=null;var N=T.sibling;if(N!==null)Fe=N;else{var B=T.return;B!==null?(Fe=B,Vc(B)):Fe=null}break t}}at=0,ui=null,_o(t,i,d,5);break;case 6:at=0,ui=null,_o(t,i,d,6);break;case 8:Vd(),kt=6;break e;default:throw Error(s(462))}}Rb();break}catch($){D_(t,$)}while(!0);return Rr=ca=null,H.H=l,H.A=h,nt=a,Fe!==null?0:(_t=null,Ke=0,Zu(),kt)}function Rb(){for(;Fe!==null&&!Be();)V_(Fe)}function V_(t){var i=r_(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,i===null?Vc(t):Fe=i}function L_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Jy(a,i,i.pendingProps,i.type,void 0,Ke);break;case 11:i=Jy(a,i,i.pendingProps,i.type.render,i.ref,Ke);break;case 5:$f(i);default:a_(a,i),i=Fe=Mg(i,Ur),i=r_(a,i,Ur)}t.memoizedProps=t.pendingProps,i===null?Vc(t):Fe=i}function _o(t,i,a,l){Rr=ca=null,$f(i),ao=null,yl=0;var h=i.return;try{if(mb(t,h,i,a,Ke)){kt=1,Tc(t,Ei(a,t.current)),Fe=null;return}}catch(d){if(h!==null)throw Fe=h,d;kt=1,Tc(t,Ei(a,t.current)),Fe=null;return}i.flags&32768?(We||l===1?t=!0:mo||(Ke&536870912)!==0?t=!1:(ys=t=!0,(l===2||l===9||l===3||l===6)&&(l=oi.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(i,t)):Vc(i)}function Vc(t){var i=t;do{if((i.flags&32768)!==0){U_(i,ys);return}t=i.return;var a=yb(i.alternate,i,Ur);if(a!==null){Fe=a;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=t}while(i!==null);kt===0&&(kt=5)}function U_(t,i){do{var a=_b(t.alternate,t);if(a!==null){a.flags&=32767,Fe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=a}while(t!==null);kt=6,Fe=null}function P_(t,i,a,l,h,d,_,T,N){t.cancelPendingCommit=null;do Lc();while(en!==0);if((nt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Sf,Ks(t,a,d,_,T,N),t===_t&&(Fe=_t=null,Ke=0),go=i,vs=t,Pr=a,Od=d,xd=h,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Db(cn,function(){return H_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=se.p,se.p=2,_=nt,nt|=4;try{Eb(t,i,a)}finally{nt=_,se.p=h,H.T=l}}en=1,k_(),z_(),B_()}}function k_(){if(en===1){en=0;var t=vs,i=go,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=se.p;se.p=2;var h=nt;nt|=4;try{__(i,t);var d=Yd,_=bg(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Sg(T.ownerDocument.documentElement,T)){if(N!==null&&_f(T)){var B=N.start,$=N.end;if($===void 0&&($=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var K=j.getSelection(),ye=T.textContent.length,Ae=Math.min(N.start,ye),pt=N.end===void 0?Ae:Math.min(N.end,ye);!K.extend&&Ae>pt&&(_=pt,pt=Ae,Ae=_);var U=Ag(T,Ae),M=Ag(T,pt);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(U.node,U.offset),K.removeAllRanges(),Ae>pt?(K.addRange(z),K.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),K.addRange(z))}}}}for(Z=[],K=T;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var J=Z[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Yc=!!Kd,Yd=Kd=null}finally{nt=h,se.p=l,H.T=a}}t.current=i,en=2}}function z_(){if(en===2){en=0;var t=vs,i=go,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=se.p;se.p=2;var h=nt;nt|=4;try{d_(t,i.alternate,i)}finally{nt=h,se.p=l,H.T=a}}en=3}}function B_(){if(en===4||en===3){en=0,Et();var t=vs,i=go,a=Pr,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?en=5:(en=0,go=vs=null,j_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Es=null),hn(a),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Zt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=se.p,se.p=2,H.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{H.T=i,se.p=h}}(Pr&3)!==0&&Lc(),ur(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Md?Vl++:(Vl=0,Md=t):Vl=0,Ll(0)}}function j_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Lc(){return k_(),z_(),B_(),H_()}function H_(){if(en!==5)return!1;var t=vs,i=Od;Od=0;var a=hn(Pr),l=H.T,h=se.p;try{se.p=32>a?32:a,H.T=null,a=xd,xd=null;var d=vs,_=Pr;if(en=0,go=vs=null,Pr=0,(nt&6)!==0)throw Error(s(331));var T=nt;if(nt|=4,S_(d.current),v_(d,d.current,_,a),nt=T,Ll(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Zt,d)}catch{}return!0}finally{se.p=h,H.T=l,j_(t,i)}}function q_(t,i,a){i=Ei(a,i),i=hd(t.stateNode,i,2),t=ds(t,i,2),t!==null&&(Wi(t,2),ur(t))}function ot(t,i,a){if(t.tag===3)q_(t,t,a);else for(;i!==null;){if(i.tag===3){q_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){t=Ei(a,t),a=Fy(2),l=ds(i,a,2),l!==null&&(Gy(a,l,i,t),Wi(l,2),ur(l));break}}i=i.return}}function Ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ab;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Id=!0,h.add(a),t=Cb.bind(null,t,i,a),i.then(t,t))}function Cb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,_t===t&&(Ke&a)===a&&(kt===4||kt===3&&(Ke&62914560)===Ke&&300>It()-Nc?(nt&2)===0&&yo(t,0):Nd|=a,po===Ke&&(po=0)),ur(t)}function F_(t,i){i===0&&(i=xi()),t=oa(t,i),t!==null&&(Wi(t,i),ur(t))}function Ib(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function Nb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(t,a)}function Db(t,i){return be(t,i)}var Uc=null,Eo=null,Pd=!1,Pc=!1,kd=!1,As=0;function ur(t){t!==Eo&&t.next===null&&(Eo===null?Uc=Eo=t:Eo=Eo.next=t),Pc=!0,Pd||(Pd=!0,xb())}function Ll(t,i){if(!kd&&Pc){kd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ct(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=Ke,d=di(l,l===_t?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ni(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);kd=!1}}function Ob(){G_()}function G_(){Pc=Pd=!1;var t=0;As!==0&&Hb()&&(t=As);for(var i=It(),a=null,l=Uc;l!==null;){var h=l.next,d=K_(l,i);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(Eo=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=h}en!==0&&en!==5||Ll(t),As!==0&&(As=0)}function K_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ct(d),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Dt(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=_t,a=Ke,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ut(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ni(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ut(l),hn(a)){case 2:case 8:a=Lt;break;case 32:a=cn;break;case 268435456:a=_r;break;default:a=cn}return l=Y_.bind(null,t),a=be(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ut(l),t.callbackPriority=2,t.callbackNode=null,2}function Y_(t,i){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=Ke;return l=di(t,t===_t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I_(t,l,i),K_(t,It()),t.callbackNode!=null&&t.callbackNode===a?Y_.bind(null,t):null)}function Q_(t,i){if(Lc())return null;I_(t,i,!0)}function xb(){Fb(function(){(nt&6)!==0?be(un,Ob):G_()})}function zd(){if(As===0){var t=io;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),As=t}return As}function X_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ha(""+t)}function $_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Mb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=X_((h[ht]||null).action),_=l.submitter;_&&(i=(i=_[ht]||null)?X_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new nr("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var N=_?$_(h,_):new FormData(h);sd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?$_(h,_):new FormData(h),sd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Bd=0;Bd<Af.length;Bd++){var jd=Af[Bd],Vb=jd.toLowerCase(),Lb=jd[0].toUpperCase()+jd.slice(1);ki(Vb,"on"+Lb)}ki(Cg,"onAnimationEnd"),ki(Ig,"onAnimationIteration"),ki(Ng,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(WS,"onTransitionRun"),ki(JS,"onTransitionStart"),ki(ZS,"onTransitionCancel"),ki(Dg,"onTransitionEnd"),jn("onMouseEnter",["mouseout","mouseover"]),jn("onMouseLeave",["mouseout","mouseover"]),jn("onPointerEnter",["pointerout","pointerover"]),jn("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function W_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,B=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,B=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=N}}}}function Ge(t,i){var a=i[vr];a===void 0&&(a=i[vr]=new Set);var l=t+"__bubble";a.has(l)||(J_(i,t,2,!1),a.add(l))}function Hd(t,i,a){var l=0;i&&(l|=4),J_(a,t,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[kc]){t[kc]=!0,Ft.forEach(function(a){a!=="selectionchange"&&(Ub.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,Hd("selectionchange",!1,i))}}function J_(t,i,a,l){switch(CE(i)){case 2:var h=cw;break;case 8:h=hw;break;default:h=rm}a=h.bind(null,i,a,t),h=void 0,!Zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Fd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=ie(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}T=T.parentNode}}l=l.return}is(function(){var B=d,$=pi(a),Z=[];e:{var j=Og.get(t);if(j!==void 0){var K=nr,ye=t;switch(t){case"keypress":if(ta(a)===0)break e;case"keydown":case"keyup":K=Xu;break;case"focusin":ye="focus",K=ia;break;case"focusout":ye="blur",K=ia;break;case"beforeblur":case"afterblur":K=ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=p;break;case Cg:case Ig:case Ng:K=Hu;break;case Dg:K=S;break;case"scroll":case"scrollend":K=al;break;case"wheel":K=q;break;case"copy":case"cut":case"paste":K=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Sr;break;case"toggle":case"beforetoggle":K=Ve}var Ae=(i&4)!==0,pt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?j!==null?j+"Capture":null:j;Ae=[];for(var M=B,z;M!==null;){var J=M;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||U===null||(J=Vi(M,U),J!=null&&Ae.push(Pl(M,J,z))),pt)break;M=M.return}0<Ae.length&&(j=new K(j,ye,null,a,$),Z.push({event:j,listeners:Ae}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",j&&a!==il&&(ye=a.relatedTarget||a.fromElement)&&(ie(ye)||ye[ii]))break e;if((K||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,K?(ye=a.relatedTarget||a.toElement,K=B,ye=ye?ie(ye):null,ye!==null&&(pt=u(ye),Ae=ye.tag,ye!==pt||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(K=null,ye=B),K!==ye)){if(Ae=ol,J="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Sr,J="onPointerLeave",U="onPointerEnter",M="pointer"),pt=K==null?j:He(K),z=ye==null?j:He(ye),j=new Ae(J,M+"leave",K,a,$),j.target=pt,j.relatedTarget=z,J=null,ie($)===B&&(Ae=new Ae(U,M+"enter",ye,a,$),Ae.target=z,Ae.relatedTarget=pt,J=Ae),pt=J,K&&ye)t:{for(Ae=Pb,U=K,M=ye,z=0,J=U;J;J=Ae(J))z++;J=0;for(var ve=M;ve;ve=Ae(ve))J++;for(;0<z-J;)U=Ae(U),z--;for(;0<J-z;)M=Ae(M),J--;for(;z--;){if(U===M||M!==null&&U===M.alternate){Ae=U;break t}U=Ae(U),M=Ae(M)}Ae=null}else Ae=null;K!==null&&Z_(Z,j,K,Ae,!1),ye!==null&&pt!==null&&Z_(Z,pt,ye,Ae,!0)}}e:{if(j=B?He(B):window,K=j.nodeName&&j.nodeName.toLowerCase(),K==="select"||K==="input"&&j.type==="file")var Ze=gg;else if(mg(j))if(yg)Ze=QS;else{Ze=KS;var Ee=GS}else K=j.nodeName,!K||K.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&ja(B.elementType)&&(Ze=gg):Ze=YS;if(Ze&&(Ze=Ze(t,B))){pg(Z,Ze,a,$);break e}Ee&&Ee(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&el(j,"number",j.value)}switch(Ee=B?He(B):window,t){case"focusin":(mg(Ee)||Ee.contentEditable==="true")&&(Xa=Ee,Ef=B,fl=null);break;case"focusout":fl=Ef=Xa=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,wg(Z,a,$);break;case"selectionchange":if($S)break;case"keydown":case"keyup":wg(Z,a,$)}var ke;if(tt)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Qa?ra(t,a)&&(Ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ye="onCompositionStart");Ye&&(sr&&a.locale!=="ko"&&(Qa||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Qa&&(ke=sl()):(tr=$,rl="value"in tr?tr.value:tr.textContent,Qa=!0)),Ee=zc(B,Ye),0<Ee.length&&(Ye=new rr(Ye,t,null,a,$),Z.push({event:Ye,listeners:Ee}),ke?Ye.data=ke:(ke=Ya(a),ke!==null&&(Ye.data=ke)))),(ke=yi?jS(t,a):HS(t,a))&&(Ye=zc(B,"onBeforeInput"),0<Ye.length&&(Ee=new rr("onBeforeInput","beforeinput",null,a,$),Z.push({event:Ee,listeners:Ye}),Ee.data=ke)),Mb(Z,t,B,a,$)}W_(Z,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function zc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Vi(t,a),h!=null&&l.unshift(Pl(t,h,d)),h=Vi(t,i),h!=null&&l.push(Pl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Pb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,B=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||B===null||(N=B,h?(B=Vi(a,d),B!=null&&_.unshift(Pl(a,B,N))):h||(B=Vi(a,d),B!=null&&_.push(Pl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var kb=/\r\n?/g,zb=/\u0000|\uFFFD/g;function eE(t){return(typeof t=="string"?t:""+t).replace(kb,`
`).replace(zb,"")}function tE(t,i){return i=eE(i),eE(t)===i}function mt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||qn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&qn(t,""+l);break;case"className":ri(t,"class",l);break;case"tabIndex":ri(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(i!=="object"){ri(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&mt(t,i,"name",h.name,h,null),mt(t,i,"formEncType",h.formEncType,h,null),mt(t,i,"formMethod",h.formMethod,h,null),mt(t,i,"formTarget",h.formTarget,h,null)):(mt(t,i,"encType",h.encType,h,null),mt(t,i,"method",h.method,h,null),mt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Mi);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),za(t,"popover",l);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":za(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,za(t,a,l))}}function Gd(t,i,a,l,h,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?qn(t,l):(typeof l=="number"||typeof l=="bigint")&&qn(t,""+l);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[ht]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):za(t,a,l)}}}function yn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(t,i,d,_,a,null)}}h&&mt(t,i,"srcSet",a.srcSet,a,null),l&&mt(t,i,"src",a.src,a,null);return;case"input":Ge("invalid",t);var T=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:mt(t,i,l,$,a,null)}}Uu(t,d,T,N,B,_,h,!1);return;case"select":Ge("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:mt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Zr(t,!!l,i,!1):a!=null&&Zr(t,!!l,a,!0);return;case"textarea":Ge("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:mt(t,i,_,T,a,null)}es(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(t,i,N,l,a,null)}return;case"dialog":Ge("beforetoggle",t),Ge("toggle",t),Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Ge(Ul[l],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(t,i,B,l,a,null)}return;default:if(ja(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Gd(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&mt(t,i,T,l,a,null))}function Bb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,N=null,B=null,$=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(K)||mt(t,i,K,null,l,Z)}}for(var j in l){var K=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(K!=null||Z!=null))switch(j){case"type":d=K;break;case"name":h=K;break;case"checked":B=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&mt(t,i,j,K,l,Z)}}Ba(t,_,T,N,B,$,d,h);return;case"select":K=_=T=j=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||mt(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&mt(t,i,h,d,l,N)}i=T,a=_,l=K,j!=null?Zr(t,!!a,j,!1):!!l!=!!a&&(i!=null?Zr(t,!!a,i,!0):Zr(t,!!a,a?[]:"",!1));return;case"textarea":K=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:mt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":j=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&mt(t,i,_,h,l,d)}Pu(t,j,K);return;case"option":for(var ye in a)if(j=a[ye],a.hasOwnProperty(ye)&&j!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:mt(t,i,ye,null,l,j)}for(N in l)if(j=l[N],K=a[N],l.hasOwnProperty(N)&&j!==K&&(j!=null||K!=null))switch(N){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:mt(t,i,N,j,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)j=a[Ae],a.hasOwnProperty(Ae)&&j!=null&&!l.hasOwnProperty(Ae)&&mt(t,i,Ae,null,l,j);for(B in l)if(j=l[B],K=a[B],l.hasOwnProperty(B)&&j!==K&&(j!=null||K!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:mt(t,i,B,j,l,K)}return;default:if(ja(i)){for(var pt in a)j=a[pt],a.hasOwnProperty(pt)&&j!==void 0&&!l.hasOwnProperty(pt)&&Gd(t,i,pt,void 0,l,j);for($ in l)j=l[$],K=a[$],!l.hasOwnProperty($)||j===K||j===void 0&&K===void 0||Gd(t,i,$,j,l,K);return}}for(var U in a)j=a[U],a.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&mt(t,i,U,null,l,j);for(Z in l)j=l[Z],K=a[Z],!l.hasOwnProperty(Z)||j===K||j==null&&K==null||mt(t,i,Z,j,l,K)}function nE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&nE(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>T)break;var $=N.transferSize,Z=N.initiatorType;$&&nE(Z)&&(N=N.responseEnd,_+=$*(N<T?1:(T-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Yd=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function iE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rE(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Hb(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var sE=typeof setTimeout=="function"?setTimeout:void 0,qb=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,Fb=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(t){return aE.resolve(null).then(t).catch(Gb)}:sE;function Gb(t){setTimeout(function(){throw t})}function Ss(t){return t==="head"}function oE(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),So(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[pe]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&kl(t.ownerDocument.body);a=h}while(a);So(i)}function lE(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function $d(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),x(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Kb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pe])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=bi(t.nextSibling),t===null)break}return null}function Yb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=bi(t.nextSibling),t===null))return null;return t}function uE(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=bi(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function bi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Zd=null;function cE(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return bi(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function hE(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fE(t,i,a){switch(i=Bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);x(t)}var wi=new Map,dE=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kr=se.d;se.d={f:Xb,r:$b,D:Wb,C:Jb,L:Zb,m:ew,X:nw,S:tw,M:iw};function Xb(){var t=kr.f(),i=xc();return t||i}function $b(t){var i=le(t);i!==null&&i.tag===5&&i.type==="form"?Dy(i):kr.r(t)}var vo=typeof document>"u"?null:document;function mE(t,i,a){var l=vo;if(l&&typeof i=="string"&&i){var h=Hn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dE.has(h)||(dE.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),yn(i,"link",t),Pe(i),l.head.appendChild(i)))}}function Wb(t){kr.D(t),mE("dns-prefetch",t,null)}function Jb(t,i){kr.C(t,i),mE("preconnect",t,i)}function Zb(t,i,a){kr.L(t,i,a);var l=vo;if(l&&t&&i){var h='link[rel="preload"][as="'+Hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Hn(a.imageSizes)+'"]')):h+='[href="'+Hn(t)+'"]';var d=h;switch(i){case"style":d=To(t);break;case"script":d=Ao(t)}wi.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),wi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),yn(i,"link",t),Pe(i),l.head.appendChild(i)))}}function ew(t,i){kr.m(t,i);var a=vo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Hn(l)+'"][href="'+Hn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ao(t)}if(!wi.has(d)&&(t=A({rel:"modulepreload",href:t},i),wi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),yn(l,"link",t),Pe(l),a.head.appendChild(l)}}}function tw(t,i,a){kr.S(t,i,a);var l=vo;if(l&&t){var h=yt(l).hoistableStyles,d=To(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(zl(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=wi.get(d))&&em(t,a);var N=_=l.createElement("link");Pe(N),yn(N,"link",t),N._p=new Promise(function(B,$){N.onload=B,N.onerror=$}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function nw(t,i){kr.X(t,i);var a=vo;if(a&&t){var l=yt(a).hoistableScripts,h=Ao(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=A({src:t,async:!0},i),(i=wi.get(h))&&tm(t,i),d=a.createElement("script"),Pe(d),yn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iw(t,i){kr.M(t,i);var a=vo;if(a&&t){var l=yt(a).hoistableScripts,h=Ao(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=wi.get(h))&&tm(t,i),d=a.createElement("script"),Pe(d),yn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pE(t,i,a,l){var h=(h=Se.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=yt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=To(a.href);var d=yt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(zl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),wi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wi.set(t,a),d||rw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ao(a),a=yt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function To(t){return'href="'+Hn(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function gE(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function rw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),yn(i,"link",a),Pe(i),t.head.appendChild(i))}function Ao(t){return'[src="'+Hn(t)+'"]'}function Bl(t){return"script[async]"+t}function yE(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Hn(a.href)+'"]');if(l)return i.instance=l,Pe(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pe(l),yn(l,"style",h),Hc(l,a.precedence,t),i.instance=l;case"stylesheet":h=To(a.href);var d=t.querySelector(zl(h));if(d)return i.state.loading|=4,i.instance=d,Pe(d),d;l=gE(a),(h=wi.get(h))&&em(l,h),d=(t.ownerDocument||t).createElement("link"),Pe(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),yn(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,t),i.instance=d;case"script":return d=Ao(a.src),(h=t.querySelector(Bl(d)))?(i.instance=h,Pe(h),h):(l=a,(h=wi.get(d))&&(l=A({},a),tm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pe(h),yn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,t));return i.instance}function Hc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function _E(t,i,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pe]||d[Ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function EE(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function sw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function aw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=To(l.href),d=i.querySelector(zl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Fc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Pe(d);return}d=i.ownerDocument||i,l=gE(l),(h=wi.get(h))&&em(l,h),d=d.createElement("link"),Pe(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),yn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var nm=0;function ow(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&nm===0&&(nm=62500*jb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>nm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(lw,t),Gc=null,Fc.call(t))}function lw(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var jl={$$typeof:fe,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function uw(t,i,a,l,h,d,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function TE(t,i,a,l,h,d,_,T,N,B,$,Z){return t=new uw(t,i,a,_,N,B,$,Z,T),i=1,d===!0&&(i|=24),d=ai(3,null,null,i),t.current=d,d.stateNode=t,i=Lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},zf(d),t}function AE(t){return t?(t=Ja,t):Ja}function SE(t,i,a,l,h,d){h=AE(h),l.context===null?l.context=h:l.pendingContext=h,l=fs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ds(t,l,i),a!==null&&(Qn(a,t,i),El(a,t,i))}function bE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function im(t,i){bE(t,i),(t=t.alternate)&&bE(t,i)}function wE(t){if(t.tag===13||t.tag===31){var i=oa(t,67108864);i!==null&&Qn(i,t,67108864),im(t,67108864)}}function RE(t){if(t.tag===13||t.tag===31){var i=hi();i=nn(i);var a=oa(t,i);a!==null&&Qn(a,t,i),im(t,i)}}var Yc=!0;function cw(t,i,a,l){var h=H.T;H.T=null;var d=se.p;try{se.p=2,rm(t,i,a,l)}finally{se.p=d,H.T=h}}function hw(t,i,a,l){var h=H.T;H.T=null;var d=se.p;try{se.p=8,rm(t,i,a,l)}finally{se.p=d,H.T=h}}function rm(t,i,a,l){if(Yc){var h=sm(l);if(h===null)Fd(t,i,l,Qc,a),IE(t,l);else if(dw(h,t,i,a,l))l.stopPropagation();else if(IE(t,l),i&4&&-1<fw.indexOf(t)){for(;h!==null;){var d=le(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=An(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-ct(_);T.entanglements[1]|=N,_&=~N}ur(d),(nt&6)===0&&(Dc=It()+500,Ll(0))}}break;case 31:case 13:T=oa(d,2),T!==null&&Qn(T,d,2),xc(),im(d,2)}if(d=sm(l),d===null&&Fd(t,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Fd(t,i,l,null,a)}}function sm(t){return t=pi(t),am(t)}var Qc=null;function am(t){if(Qc=null,t=ie(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function CE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case un:return 2;case Lt:return 8;case cn:case Xi:return 32;case _r:return 268435456;default:return 32}default:return 32}}var om=!1,bs=null,ws=null,Rs=null,Hl=new Map,ql=new Map,Cs=[],fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IE(t,i){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Fl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=le(i),i!==null&&wE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function dw(t,i,a,l,h){switch(i){case"focusin":return bs=Fl(bs,t,i,a,l,h),!0;case"dragenter":return ws=Fl(ws,t,i,a,l,h),!0;case"mouseover":return Rs=Fl(Rs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Hl.set(d,Fl(Hl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ql.set(d,Fl(ql.get(d)||null,t,i,a,l,h)),!0}return!1}function NE(t){var i=ie(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){RE(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){RE(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return i=le(a),i!==null&&wE(i),t.blockedOn=a,!1;i.shift()}return!0}function DE(t,i,a){Xc(t)&&a.delete(i)}function mw(){om=!1,bs!==null&&Xc(bs)&&(bs=null),ws!==null&&Xc(ws)&&(ws=null),Rs!==null&&Xc(Rs)&&(Rs=null),Hl.forEach(DE),ql.forEach(DE)}function $c(t,i){t.blockedOn===i&&(t.blockedOn=null,om||(om=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mw)))}var Wc=null;function OE(t){Wc!==t&&(Wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(am(l||a)===null)continue;break}var d=le(a);d!==null&&(t.splice(i,3),i-=3,sd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function So(t){function i(N){return $c(N,t)}bs!==null&&$c(bs,t),ws!==null&&$c(ws,t),Rs!==null&&$c(Rs,t),Hl.forEach(i),ql.forEach(i);for(var a=0;a<Cs.length;a++){var l=Cs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Cs.length&&(a=Cs[0],a.blockedOn===null);)NE(a),a.blockedOn===null&&Cs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[ht]||null;if(typeof d=="function")_||OE(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[ht]||null)T=_.formAction;else if(am(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),OE(a)}}}function xE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function lm(t){this._internalRoot=t}Jc.prototype.render=lm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=hi();SE(a,l,t,i,null,null)},Jc.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;SE(t.current,2,null,t,null,null),xc(),i[ii]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qs();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Cs.length&&i!==0&&i<Cs[a].priority;a++);Cs.splice(a,0,t),a===0&&NE(t)}};var ME=e.version;if(ME!=="19.2.3")throw Error(s(527,ME,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var pw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Zt=Zc.inject(pw),Nt=Zc}catch{}}return Kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=By,d=jy,_=Hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=TE(t,1,!1,null,null,a,l,null,h,d,_,xE),t[ii]=i.current,qd(t),new lm(i)},Kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=By,_=jy,T=Hy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=TE(t,1,!0,i,a??null,l,h,N,d,_,T,xE),i.context=AE(null),a=i.current,l=hi(),l=nn(l),h=fs(l),h.callback=null,ds(a,h,l),a=l,i.current.lanes=a,Wi(i,a),ur(i),t[ii]=i.current,qd(t),new Jc(i)},Kl.version="19.2.3",Kl}var qE;function Rw(){if(qE)return hm.exports;qE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=ww(),hm.exports}var Cw=Rw();const Iw=qT(Cw);function FT(r,e){return function(){return r.apply(e,arguments)}}const{toString:Nw}=Object.prototype,{getPrototypeOf:Ep}=Object,{iterator:Yh,toStringTag:GT}=Symbol,Qh=(r=>e=>{const n=Nw.call(e);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qi=r=>(r=r.toLowerCase(),e=>Qh(e)===r),Xh=r=>e=>typeof e===r,{isArray:Fo}=Array,Lo=Xh("undefined");function Eu(r){return r!==null&&!Lo(r)&&r.constructor!==null&&!Lo(r.constructor)&&$n(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const KT=Qi("ArrayBuffer");function Dw(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&KT(r.buffer),e}const Ow=Xh("string"),$n=Xh("function"),YT=Xh("number"),vu=r=>r!==null&&typeof r=="object",xw=r=>r===!0||r===!1,ch=r=>{if(Qh(r)!=="object")return!1;const e=Ep(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(GT in r)&&!(Yh in r)},Mw=r=>{if(!vu(r)||Eu(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},Vw=Qi("Date"),Lw=Qi("File"),Uw=Qi("Blob"),Pw=Qi("FileList"),kw=r=>vu(r)&&$n(r.pipe),zw=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||$n(r.append)&&((e=Qh(r))==="formdata"||e==="object"&&$n(r.toString)&&r.toString()==="[object FormData]"))},Bw=Qi("URLSearchParams"),[jw,Hw,qw,Fw]=["ReadableStream","Request","Response","Headers"].map(Qi),Gw=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tu(r,e,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let s,o;if(typeof r!="object"&&(r=[r]),Fo(r))for(s=0,o=r.length;s<o;s++)e.call(null,r[s],s,r);else{if(Eu(r))return;const u=n?Object.getOwnPropertyNames(r):Object.keys(r),f=u.length;let m;for(s=0;s<f;s++)m=u[s],e.call(null,r[m],m,r)}}function QT(r,e){if(Eu(r))return null;e=e.toLowerCase();const n=Object.keys(r);let s=n.length,o;for(;s-- >0;)if(o=n[s],e===o.toLowerCase())return o;return null}const Ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XT=r=>!Lo(r)&&r!==Ta;function Bm(){const{caseless:r,skipUndefined:e}=XT(this)&&this||{},n={},s=(o,u)=>{if(u==="__proto__"||u==="constructor"||u==="prototype")return;const f=r&&QT(n,u)||u;ch(n[f])&&ch(o)?n[f]=Bm(n[f],o):ch(o)?n[f]=Bm({},o):Fo(o)?n[f]=o.slice():(!e||!Lo(o))&&(n[f]=o)};for(let o=0,u=arguments.length;o<u;o++)arguments[o]&&Tu(arguments[o],s);return n}const Kw=(r,e,n,{allOwnKeys:s}={})=>(Tu(e,(o,u)=>{n&&$n(o)?Object.defineProperty(r,u,{value:FT(o,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(r,u,{value:o,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:s}),r),Yw=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Qw=(r,e,n,s)=>{r.prototype=Object.create(e.prototype,s),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(r,"super",{value:e.prototype}),n&&Object.assign(r.prototype,n)},Xw=(r,e,n,s)=>{let o,u,f;const m={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),u=o.length;u-- >0;)f=o[u],(!s||s(f,r,e))&&!m[f]&&(e[f]=r[f],m[f]=!0);r=n!==!1&&Ep(r)}while(r&&(!n||n(r,e))&&r!==Object.prototype);return e},$w=(r,e,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=e.length;const s=r.indexOf(e,n);return s!==-1&&s===n},Ww=r=>{if(!r)return null;if(Fo(r))return r;let e=r.length;if(!YT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=r[e];return n},Jw=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Ep(Uint8Array)),Zw=(r,e)=>{const s=(r&&r[Yh]).call(r);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(r,u[0],u[1])}},e1=(r,e)=>{let n;const s=[];for(;(n=r.exec(e))!==null;)s.push(n);return s},t1=Qi("HTMLFormElement"),n1=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),FE=(({hasOwnProperty:r})=>(e,n)=>r.call(e,n))(Object.prototype),i1=Qi("RegExp"),$T=(r,e)=>{const n=Object.getOwnPropertyDescriptors(r),s={};Tu(n,(o,u)=>{let f;(f=e(o,u,r))!==!1&&(s[u]=f||o)}),Object.defineProperties(r,s)},r1=r=>{$T(r,(e,n)=>{if($n(r)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=r[n];if($n(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},s1=(r,e)=>{const n={},s=o=>{o.forEach(u=>{n[u]=!0})};return Fo(r)?s(r):s(String(r).split(e)),n},a1=()=>{},o1=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function l1(r){return!!(r&&$n(r.append)&&r[GT]==="FormData"&&r[Yh])}const u1=r=>{const e=new Array(10),n=(s,o)=>{if(vu(s)){if(e.indexOf(s)>=0)return;if(Eu(s))return s;if(!("toJSON"in s)){e[o]=s;const u=Fo(s)?[]:{};return Tu(s,(f,m)=>{const y=n(f,o+1);!Lo(y)&&(u[m]=y)}),e[o]=void 0,u}}return s};return n(r,0)},c1=Qi("AsyncFunction"),h1=r=>r&&(vu(r)||$n(r))&&$n(r.then)&&$n(r.catch),WT=((r,e)=>r?setImmediate:e?((n,s)=>(Ta.addEventListener("message",({source:o,data:u})=>{o===Ta&&u===n&&s.length&&s.shift()()},!1),o=>{s.push(o),Ta.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$n(Ta.postMessage)),f1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ta):typeof process<"u"&&process.nextTick||WT,d1=r=>r!=null&&$n(r[Yh]),G={isArray:Fo,isArrayBuffer:KT,isBuffer:Eu,isFormData:zw,isArrayBufferView:Dw,isString:Ow,isNumber:YT,isBoolean:xw,isObject:vu,isPlainObject:ch,isEmptyObject:Mw,isReadableStream:jw,isRequest:Hw,isResponse:qw,isHeaders:Fw,isUndefined:Lo,isDate:Vw,isFile:Lw,isBlob:Uw,isRegExp:i1,isFunction:$n,isStream:kw,isURLSearchParams:Bw,isTypedArray:Jw,isFileList:Pw,forEach:Tu,merge:Bm,extend:Kw,trim:Gw,stripBOM:Yw,inherits:Qw,toFlatObject:Xw,kindOf:Qh,kindOfTest:Qi,endsWith:$w,toArray:Ww,forEachEntry:Zw,matchAll:e1,isHTMLForm:t1,hasOwnProperty:FE,hasOwnProp:FE,reduceDescriptors:$T,freezeMethods:r1,toObjectSet:s1,toCamelCase:n1,noop:a1,toFiniteNumber:o1,findKey:QT,global:Ta,isContextDefined:XT,isSpecCompliantForm:l1,toJSONObject:u1,isAsyncFn:c1,isThenable:h1,setImmediate:WT,asap:f1,isIterable:d1};let Ce=class JT extends Error{static from(e,n,s,o,u,f){const m=new JT(e.message,n||e.code,s,o,u);return m.cause=e,m.name=e.name,f&&Object.assign(m,f),m}constructor(e,n,s,o,u){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),s&&(this.config=s),o&&(this.request=o),u&&(this.response=u,this.status=u.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}};Ce.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ce.ERR_BAD_OPTION="ERR_BAD_OPTION";Ce.ECONNABORTED="ECONNABORTED";Ce.ETIMEDOUT="ETIMEDOUT";Ce.ERR_NETWORK="ERR_NETWORK";Ce.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ce.ERR_DEPRECATED="ERR_DEPRECATED";Ce.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ce.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ce.ERR_CANCELED="ERR_CANCELED";Ce.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ce.ERR_INVALID_URL="ERR_INVALID_URL";const m1=null;function jm(r){return G.isPlainObject(r)||G.isArray(r)}function ZT(r){return G.endsWith(r,"[]")?r.slice(0,-2):r}function GE(r,e,n){return r?r.concat(e).map(function(o,u){return o=ZT(o),!n&&u?"["+o+"]":o}).join(n?".":""):e}function p1(r){return G.isArray(r)&&!r.some(jm)}const g1=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function $h(r,e,n){if(!G.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(X,F){return!G.isUndefined(F[X])});const s=n.metaTokens,o=n.visitor||v,u=n.dots,f=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function g(P){if(P===null)return"";if(G.isDate(P))return P.toISOString();if(G.isBoolean(P))return P.toString();if(!y&&G.isBlob(P))throw new Ce("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(P)||G.isTypedArray(P)?y&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function v(P,X,F){let ce=P;if(P&&!F&&typeof P=="object"){if(G.endsWith(X,"{}"))X=s?X:X.slice(0,-2),P=JSON.stringify(P);else if(G.isArray(P)&&p1(P)||(G.isFileList(P)||G.endsWith(X,"[]"))&&(ce=G.toArray(P)))return X=ZT(X),ce.forEach(function(fe,_e){!(G.isUndefined(fe)||fe===null)&&e.append(f===!0?GE([X],_e,u):f===null?X:X+"[]",g(fe))}),!1}return jm(P)?!0:(e.append(GE(F,X,u),g(P)),!1)}const A=[],O=Object.assign(g1,{defaultVisitor:v,convertValue:g,isVisitable:jm});function Y(P,X){if(!G.isUndefined(P)){if(A.indexOf(P)!==-1)throw Error("Circular reference detected in "+X.join("."));A.push(P),G.forEach(P,function(ce,ge){(!(G.isUndefined(ce)||ce===null)&&o.call(e,ce,G.isString(ge)?ge.trim():ge,X,O))===!0&&Y(ce,X?X.concat(ge):[ge])}),A.pop()}}if(!G.isObject(r))throw new TypeError("data must be an object");return Y(r),e}function KE(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function vp(r,e){this._pairs=[],r&&$h(r,this,e)}const e0=vp.prototype;e0.append=function(e,n){this._pairs.push([e,n])};e0.toString=function(e){const n=e?function(s){return e.call(this,s,KE)}:KE;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function y1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function t0(r,e,n){if(!e)return r;const s=n&&n.encode||y1,o=G.isFunction(n)?{serialize:n}:n,u=o&&o.serialize;let f;if(u?f=u(e,o):f=G.isURLSearchParams(e)?e.toString():new vp(e,o).toString(s),f){const m=r.indexOf("#");m!==-1&&(r=r.slice(0,m)),r+=(r.indexOf("?")===-1?"?":"&")+f}return r}class YE{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Tp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},_1=typeof URLSearchParams<"u"?URLSearchParams:vp,E1=typeof FormData<"u"?FormData:null,v1=typeof Blob<"u"?Blob:null,T1={isBrowser:!0,classes:{URLSearchParams:_1,FormData:E1,Blob:v1},protocols:["http","https","file","blob","url","data"]},Ap=typeof window<"u"&&typeof document<"u",Hm=typeof navigator=="object"&&navigator||void 0,A1=Ap&&(!Hm||["ReactNative","NativeScript","NS"].indexOf(Hm.product)<0),S1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",b1=Ap&&window.location.href||"http://localhost",w1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ap,hasStandardBrowserEnv:A1,hasStandardBrowserWebWorkerEnv:S1,navigator:Hm,origin:b1},Symbol.toStringTag,{value:"Module"})),Cn={...w1,...T1};function R1(r,e){return $h(r,new Cn.classes.URLSearchParams,{visitor:function(n,s,o,u){return Cn.isNode&&G.isBuffer(n)?(this.append(s,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...e})}function C1(r){return G.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function I1(r){const e={},n=Object.keys(r);let s;const o=n.length;let u;for(s=0;s<o;s++)u=n[s],e[u]=r[u];return e}function n0(r){function e(n,s,o,u){let f=n[u++];if(f==="__proto__")return!0;const m=Number.isFinite(+f),y=u>=n.length;return f=!f&&G.isArray(o)?o.length:f,y?(G.hasOwnProp(o,f)?o[f]=[o[f],s]:o[f]=s,!m):((!o[f]||!G.isObject(o[f]))&&(o[f]=[]),e(n,s,o[f],u)&&G.isArray(o[f])&&(o[f]=I1(o[f])),!m)}if(G.isFormData(r)&&G.isFunction(r.entries)){const n={};return G.forEachEntry(r,(s,o)=>{e(C1(s),o,n,0)}),n}return null}function N1(r,e,n){if(G.isString(r))try{return(e||JSON.parse)(r),G.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}const Au={transitional:Tp,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,u=G.isObject(e);if(u&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return o?JSON.stringify(n0(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return R1(e,this.formSerializer).toString();if((m=G.isFileList(e))||s.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return $h(m?{"files[]":e}:e,y&&new y,this.formSerializer)}}return u||o?(n.setContentType("application/json",!1),N1(e)):e}],transformResponse:[function(e){const n=this.transitional||Au.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(s&&!this.responseType||o)){const f=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(m){if(f)throw m.name==="SyntaxError"?Ce.from(m,Ce.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cn.classes.FormData,Blob:Cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],r=>{Au.headers[r]={}});const D1=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O1=r=>{const e={};let n,s,o;return r&&r.split(`
`).forEach(function(f){o=f.indexOf(":"),n=f.substring(0,o).trim().toLowerCase(),s=f.substring(o+1).trim(),!(!n||e[n]&&D1[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},QE=Symbol("internals");function Yl(r){return r&&String(r).trim().toLowerCase()}function hh(r){return r===!1||r==null?r:G.isArray(r)?r.map(hh):String(r)}function x1(r){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(r);)e[s[1]]=s[2];return e}const M1=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function pm(r,e,n,s,o){if(G.isFunction(s))return s.call(this,e,n);if(o&&(e=n),!!G.isString(e)){if(G.isString(s))return e.indexOf(s)!==-1;if(G.isRegExp(s))return s.test(e)}}function V1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function L1(r,e){const n=G.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+n,{value:function(o,u,f){return this[s].call(this,e,o,u,f)},configurable:!0})})}let Wn=class{constructor(e){e&&this.set(e)}set(e,n,s){const o=this;function u(m,y,g){const v=Yl(y);if(!v)throw new Error("header name must be a non-empty string");const A=G.findKey(o,v);(!A||o[A]===void 0||g===!0||g===void 0&&o[A]!==!1)&&(o[A||y]=hh(m))}const f=(m,y)=>G.forEach(m,(g,v)=>u(g,v,y));if(G.isPlainObject(e)||e instanceof this.constructor)f(e,n);else if(G.isString(e)&&(e=e.trim())&&!M1(e))f(O1(e),n);else if(G.isObject(e)&&G.isIterable(e)){let m={},y,g;for(const v of e){if(!G.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[g=v[0]]=(y=m[g])?G.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}f(m,n)}else e!=null&&u(n,e,s);return this}get(e,n){if(e=Yl(e),e){const s=G.findKey(this,e);if(s){const o=this[s];if(!n)return o;if(n===!0)return x1(o);if(G.isFunction(n))return n.call(this,o,s);if(G.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yl(e),e){const s=G.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||pm(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let o=!1;function u(f){if(f=Yl(f),f){const m=G.findKey(s,f);m&&(!n||pm(s,s[m],m,n))&&(delete s[m],o=!0)}}return G.isArray(e)?e.forEach(u):u(e),o}clear(e){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const u=n[s];(!e||pm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const n=this,s={};return G.forEach(this,(o,u)=>{const f=G.findKey(s,u);if(f){n[f]=hh(o),delete n[u];return}const m=e?V1(u):String(u).trim();m!==u&&delete n[u],n[m]=hh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return G.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=e&&G.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[QE]=this[QE]={accessors:{}}).accessors,o=this.prototype;function u(f){const m=Yl(f);s[m]||(L1(o,f),s[m]=!0)}return G.isArray(e)?e.forEach(u):u(e),this}};Wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Wn.prototype,({value:r},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[n]=s}}});G.freezeMethods(Wn);function gm(r,e){const n=this||Au,s=e||n,o=Wn.from(s.headers);let u=s.data;return G.forEach(r,function(m){u=m.call(n,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function i0(r){return!!(r&&r.__CANCEL__)}let Su=class extends Ce{constructor(e,n,s){super(e??"canceled",Ce.ERR_CANCELED,n,s),this.name="CanceledError",this.__CANCEL__=!0}};function r0(r,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?r(n):e(new Ce("Request failed with status code "+n.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function U1(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function P1(r,e){r=r||10;const n=new Array(r),s=new Array(r);let o=0,u=0,f;return e=e!==void 0?e:1e3,function(y){const g=Date.now(),v=s[u];f||(f=g),n[o]=y,s[o]=g;let A=u,O=0;for(;A!==o;)O+=n[A++],A=A%r;if(o=(o+1)%r,o===u&&(u=(u+1)%r),g-f<e)return;const Y=v&&g-v;return Y?Math.round(O*1e3/Y):void 0}}function k1(r,e){let n=0,s=1e3/e,o,u;const f=(g,v=Date.now())=>{n=v,o=null,u&&(clearTimeout(u),u=null),r(...g)};return[(...g)=>{const v=Date.now(),A=v-n;A>=s?f(g,v):(o=g,u||(u=setTimeout(()=>{u=null,f(o)},s-A)))},()=>o&&f(o)]}const wh=(r,e,n=3)=>{let s=0;const o=P1(50,250);return k1(u=>{const f=u.loaded,m=u.lengthComputable?u.total:void 0,y=f-s,g=o(y),v=f<=m;s=f;const A={loaded:f,total:m,progress:m?f/m:void 0,bytes:y,rate:g||void 0,estimated:g&&m&&v?(m-f)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};r(A)},n)},XE=(r,e)=>{const n=r!=null;return[s=>e[0]({lengthComputable:n,total:r,loaded:s}),e[1]]},$E=r=>(...e)=>G.asap(()=>r(...e)),z1=Cn.hasStandardBrowserEnv?((r,e)=>n=>(n=new URL(n,Cn.origin),r.protocol===n.protocol&&r.host===n.host&&(e||r.port===n.port)))(new URL(Cn.origin),Cn.navigator&&/(msie|trident)/i.test(Cn.navigator.userAgent)):()=>!0,B1=Cn.hasStandardBrowserEnv?{write(r,e,n,s,o,u,f){if(typeof document>"u")return;const m=[`${r}=${encodeURIComponent(e)}`];G.isNumber(n)&&m.push(`expires=${new Date(n).toUTCString()}`),G.isString(s)&&m.push(`path=${s}`),G.isString(o)&&m.push(`domain=${o}`),u===!0&&m.push("secure"),G.isString(f)&&m.push(`SameSite=${f}`),document.cookie=m.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function j1(r){return typeof r!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function H1(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function s0(r,e,n){let s=!j1(e);return r&&(s||n==!1)?H1(r,e):e}const WE=r=>r instanceof Wn?{...r}:r;function Ra(r,e){e=e||{};const n={};function s(g,v,A,O){return G.isPlainObject(g)&&G.isPlainObject(v)?G.merge.call({caseless:O},g,v):G.isPlainObject(v)?G.merge({},v):G.isArray(v)?v.slice():v}function o(g,v,A,O){if(G.isUndefined(v)){if(!G.isUndefined(g))return s(void 0,g,A,O)}else return s(g,v,A,O)}function u(g,v){if(!G.isUndefined(v))return s(void 0,v)}function f(g,v){if(G.isUndefined(v)){if(!G.isUndefined(g))return s(void 0,g)}else return s(void 0,v)}function m(g,v,A){if(A in e)return s(g,v);if(A in r)return s(void 0,g)}const y={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(g,v,A)=>o(WE(g),WE(v),A,!0)};return G.forEach(Object.keys({...r,...e}),function(v){if(v==="__proto__"||v==="constructor"||v==="prototype")return;const A=G.hasOwnProp(y,v)?y[v]:o,O=A(r[v],e[v],v);G.isUndefined(O)&&A!==m||(n[v]=O)}),n}const a0=r=>{const e=Ra({},r);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:f,auth:m}=e;if(e.headers=f=Wn.from(f),e.url=t0(s0(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&f.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),G.isFormData(n)){if(Cn.hasStandardBrowserEnv||Cn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(G.isFunction(n.getHeaders)){const y=n.getHeaders(),g=["content-type","content-length"];Object.entries(y).forEach(([v,A])=>{g.includes(v.toLowerCase())&&f.set(v,A)})}}if(Cn.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(e)),s||s!==!1&&z1(e.url))){const y=o&&u&&B1.read(u);y&&f.set(o,y)}return e},q1=typeof XMLHttpRequest<"u",F1=q1&&function(r){return new Promise(function(n,s){const o=a0(r);let u=o.data;const f=Wn.from(o.headers).normalize();let{responseType:m,onUploadProgress:y,onDownloadProgress:g}=o,v,A,O,Y,P;function X(){Y&&Y(),P&&P(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let F=new XMLHttpRequest;F.open(o.method.toUpperCase(),o.url,!0),F.timeout=o.timeout;function ce(){if(!F)return;const fe=Wn.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),De={data:!m||m==="text"||m==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:fe,config:r,request:F};r0(function(R){n(R),X()},function(R){s(R),X()},De),F=null}"onloadend"in F?F.onloadend=ce:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(ce)},F.onabort=function(){F&&(s(new Ce("Request aborted",Ce.ECONNABORTED,r,F)),F=null)},F.onerror=function(_e){const De=_e&&_e.message?_e.message:"Network Error",Re=new Ce(De,Ce.ERR_NETWORK,r,F);Re.event=_e||null,s(Re),F=null},F.ontimeout=function(){let _e=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const De=o.transitional||Tp;o.timeoutErrorMessage&&(_e=o.timeoutErrorMessage),s(new Ce(_e,De.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,r,F)),F=null},u===void 0&&f.setContentType(null),"setRequestHeader"in F&&G.forEach(f.toJSON(),function(_e,De){F.setRequestHeader(De,_e)}),G.isUndefined(o.withCredentials)||(F.withCredentials=!!o.withCredentials),m&&m!=="json"&&(F.responseType=o.responseType),g&&([O,P]=wh(g,!0),F.addEventListener("progress",O)),y&&F.upload&&([A,Y]=wh(y),F.upload.addEventListener("progress",A),F.upload.addEventListener("loadend",Y)),(o.cancelToken||o.signal)&&(v=fe=>{F&&(s(!fe||fe.type?new Su(null,r,F):fe),F.abort(),F=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const ge=U1(o.url);if(ge&&Cn.protocols.indexOf(ge)===-1){s(new Ce("Unsupported protocol "+ge+":",Ce.ERR_BAD_REQUEST,r));return}F.send(u||null)})},G1=(r,e)=>{const{length:n}=r=r?r.filter(Boolean):[];if(e||n){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const v=g instanceof Error?g:this.reason;s.abort(v instanceof Ce?v:new Su(v instanceof Error?v.message:v))}};let f=e&&setTimeout(()=>{f=null,u(new Ce(`timeout of ${e}ms exceeded`,Ce.ETIMEDOUT))},e);const m=()=>{r&&(f&&clearTimeout(f),f=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),r=null)};r.forEach(g=>g.addEventListener("abort",u));const{signal:y}=s;return y.unsubscribe=()=>G.asap(m),y}},K1=function*(r,e){let n=r.byteLength;if(n<e){yield r;return}let s=0,o;for(;s<n;)o=s+e,yield r.slice(s,o),s=o},Y1=async function*(r,e){for await(const n of Q1(r))yield*K1(n,e)},Q1=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},JE=(r,e,n,s)=>{const o=Y1(r,e);let u=0,f,m=y=>{f||(f=!0,s&&s(y))};return new ReadableStream({async pull(y){try{const{done:g,value:v}=await o.next();if(g){m(),y.close();return}let A=v.byteLength;if(n){let O=u+=A;n(O)}y.enqueue(new Uint8Array(v))}catch(g){throw m(g),g}},cancel(y){return m(y),o.return()}},{highWaterMark:2})},ZE=64*1024,{isFunction:eh}=G,X1=(({Request:r,Response:e})=>({Request:r,Response:e}))(G.global),{ReadableStream:ev,TextEncoder:tv}=G.global,nv=(r,...e)=>{try{return!!r(...e)}catch{return!1}},$1=r=>{r=G.merge.call({skipUndefined:!0},X1,r);const{fetch:e,Request:n,Response:s}=r,o=e?eh(e):typeof fetch=="function",u=eh(n),f=eh(s);if(!o)return!1;const m=o&&eh(ev),y=o&&(typeof tv=="function"?(P=>X=>P.encode(X))(new tv):async P=>new Uint8Array(await new n(P).arrayBuffer())),g=u&&m&&nv(()=>{let P=!1;const X=new n(Cn.origin,{body:new ev,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!X}),v=f&&m&&nv(()=>G.isReadableStream(new s("").body)),A={stream:v&&(P=>P.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(P=>{!A[P]&&(A[P]=(X,F)=>{let ce=X&&X[P];if(ce)return ce.call(X);throw new Ce(`Response type '${P}' is not supported`,Ce.ERR_NOT_SUPPORT,F)})});const O=async P=>{if(P==null)return 0;if(G.isBlob(P))return P.size;if(G.isSpecCompliantForm(P))return(await new n(Cn.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(G.isArrayBufferView(P)||G.isArrayBuffer(P))return P.byteLength;if(G.isURLSearchParams(P)&&(P=P+""),G.isString(P))return(await y(P)).byteLength},Y=async(P,X)=>{const F=G.toFiniteNumber(P.getContentLength());return F??O(X)};return async P=>{let{url:X,method:F,data:ce,signal:ge,cancelToken:fe,timeout:_e,onDownloadProgress:De,onUploadProgress:Re,responseType:R,headers:b,withCredentials:C="same-origin",fetchOptions:V}=a0(P),D=e||fetch;R=R?(R+"").toLowerCase():"text";let L=G1([ge,fe&&fe.toAbortSignal()],_e),w=null;const Me=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let gt;try{if(Re&&g&&F!=="get"&&F!=="head"&&(gt=await Y(b,ce))!==0){let I=new n(X,{method:"POST",body:ce,duplex:"half"}),Q;if(G.isFormData(ce)&&(Q=I.headers.get("content-type"))&&b.setContentType(Q),I.body){const[ne,oe]=XE(gt,wh($E(Re)));ce=JE(I.body,ZE,ne,oe)}}G.isString(C)||(C=C?"include":"omit");const H=u&&"credentials"in n.prototype,se={...V,signal:L,method:F.toUpperCase(),headers:b.normalize().toJSON(),body:ce,duplex:"half",credentials:H?C:void 0};w=u&&new n(X,se);let he=await(u?D(w,V):D(X,se));const ze=v&&(R==="stream"||R==="response");if(v&&(De||ze&&Me)){const I={};["status","statusText","headers"].forEach(ue=>{I[ue]=he[ue]});const Q=G.toFiniteNumber(he.headers.get("content-length")),[ne,oe]=De&&XE(Q,wh($E(De),!0))||[];he=new s(JE(he.body,ZE,ne,()=>{oe&&oe(),Me&&Me()}),I)}R=R||"text";let je=await A[G.findKey(A,R)||"text"](he,P);return!ze&&Me&&Me(),await new Promise((I,Q)=>{r0(I,Q,{data:je,headers:Wn.from(he.headers),status:he.status,statusText:he.statusText,config:P,request:w})})}catch(H){throw Me&&Me(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,P,w,H&&H.response),{cause:H.cause||H}):Ce.from(H,H&&H.code,P,w,H&&H.response)}}},W1=new Map,o0=r=>{let e=r&&r.env||{};const{fetch:n,Request:s,Response:o}=e,u=[s,o,n];let f=u.length,m=f,y,g,v=W1;for(;m--;)y=u[m],g=v.get(y),g===void 0&&v.set(y,g=m?new Map:$1(e)),v=g;return g};o0();const Sp={http:m1,xhr:F1,fetch:{get:o0}};G.forEach(Sp,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const iv=r=>`- ${r}`,J1=r=>G.isFunction(r)||r===null||r===!1;function Z1(r,e){r=G.isArray(r)?r:[r];const{length:n}=r;let s,o;const u={};for(let f=0;f<n;f++){s=r[f];let m;if(o=s,!J1(s)&&(o=Sp[(m=String(s)).toLowerCase()],o===void 0))throw new Ce(`Unknown adapter '${m}'`);if(o&&(G.isFunction(o)||(o=o.get(e))))break;u[m||"#"+f]=o}if(!o){const f=Object.entries(u).map(([y,g])=>`adapter ${y} `+(g===!1?"is not supported by the environment":"is not available in the build"));let m=n?f.length>1?`since :
`+f.map(iv).join(`
`):" "+iv(f[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o}const l0={getAdapter:Z1,adapters:Sp};function ym(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Su(null,r)}function rv(r){return ym(r),r.headers=Wn.from(r.headers),r.data=gm.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),l0.getAdapter(r.adapter||Au.adapter,r)(r).then(function(s){return ym(r),s.data=gm.call(r,r.transformResponse,s),s.headers=Wn.from(s.headers),s},function(s){return i0(s)||(ym(r),s&&s.response&&(s.response.data=gm.call(r,r.transformResponse,s.response),s.response.headers=Wn.from(s.response.headers))),Promise.reject(s)})}const u0="1.13.5",Wh={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Wh[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const sv={};Wh.transitional=function(e,n,s){function o(u,f){return"[Axios v"+u0+"] Transitional option '"+u+"'"+f+(s?". "+s:"")}return(u,f,m)=>{if(e===!1)throw new Ce(o(f," has been removed"+(n?" in "+n:"")),Ce.ERR_DEPRECATED);return n&&!sv[f]&&(sv[f]=!0,console.warn(o(f," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(u,f,m):!0}};Wh.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function eR(r,e,n){if(typeof r!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let o=s.length;for(;o-- >0;){const u=s[o],f=e[u];if(f){const m=r[u],y=m===void 0||f(m,u,r);if(y!==!0)throw new Ce("option "+u+" must be "+y,Ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const fh={assertOptions:eR,validators:Wh},Ri=fh.validators;let ba=class{constructor(e){this.defaults=e||{},this.interceptors={request:new YE,response:new YE}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ra(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:u}=n;s!==void 0&&fh.assertOptions(s,{silentJSONParsing:Ri.transitional(Ri.boolean),forcedJSONParsing:Ri.transitional(Ri.boolean),clarifyTimeoutError:Ri.transitional(Ri.boolean),legacyInterceptorReqResOrdering:Ri.transitional(Ri.boolean)},!1),o!=null&&(G.isFunction(o)?n.paramsSerializer={serialize:o}:fh.assertOptions(o,{encode:Ri.function,serialize:Ri.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fh.assertOptions(n,{baseUrl:Ri.spelling("baseURL"),withXsrfToken:Ri.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f=u&&G.merge(u.common,u[n.method]);u&&G.forEach(["delete","get","head","post","put","patch","common"],P=>{delete u[P]}),n.headers=Wn.concat(f,u);const m=[];let y=!0;this.interceptors.request.forEach(function(X){if(typeof X.runWhen=="function"&&X.runWhen(n)===!1)return;y=y&&X.synchronous;const F=n.transitional||Tp;F&&F.legacyInterceptorReqResOrdering?m.unshift(X.fulfilled,X.rejected):m.push(X.fulfilled,X.rejected)});const g=[];this.interceptors.response.forEach(function(X){g.push(X.fulfilled,X.rejected)});let v,A=0,O;if(!y){const P=[rv.bind(this),void 0];for(P.unshift(...m),P.push(...g),O=P.length,v=Promise.resolve(n);A<O;)v=v.then(P[A++],P[A++]);return v}O=m.length;let Y=n;for(;A<O;){const P=m[A++],X=m[A++];try{Y=P(Y)}catch(F){X.call(this,F);break}}try{v=rv.call(this,Y)}catch(P){return Promise.reject(P)}for(A=0,O=g.length;A<O;)v=v.then(g[A++],g[A++]);return v}getUri(e){e=Ra(this.defaults,e);const n=s0(e.baseURL,e.url,e.allowAbsoluteUrls);return t0(n,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){ba.prototype[e]=function(n,s){return this.request(Ra(s||{},{method:e,url:n,data:(s||{}).data}))}});G.forEach(["post","put","patch"],function(e){function n(s){return function(u,f,m){return this.request(Ra(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}ba.prototype[e]=n(),ba.prototype[e+"Form"]=n(!0)});let tR=class c0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const f=new Promise(m=>{s.subscribe(m),u=m}).then(o);return f.cancel=function(){s.unsubscribe(u)},f},e(function(u,f,m){s.reason||(s.reason=new Su(u,f,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new c0(function(o){e=o}),cancel:e}}};function nR(r){return function(n){return r.apply(null,n)}}function iR(r){return G.isObject(r)&&r.isAxiosError===!0}const qm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(qm).forEach(([r,e])=>{qm[e]=r});function h0(r){const e=new ba(r),n=FT(ba.prototype.request,e);return G.extend(n,ba.prototype,e,{allOwnKeys:!0}),G.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return h0(Ra(r,o))},n}const zt=h0(Au);zt.Axios=ba;zt.CanceledError=Su;zt.CancelToken=tR;zt.isCancel=i0;zt.VERSION=u0;zt.toFormData=$h;zt.AxiosError=Ce;zt.Cancel=zt.CanceledError;zt.all=function(e){return Promise.all(e)};zt.spread=nR;zt.isAxiosError=iR;zt.mergeConfig=Ra;zt.AxiosHeaders=Wn;zt.formToJSON=r=>n0(G.isHTMLForm(r)?new FormData(r):r);zt.getAdapter=l0.getAdapter;zt.HttpStatusCode=qm;zt.default=zt;const{Axios:Kx,AxiosError:Yx,CanceledError:Qx,isCancel:Xx,CancelToken:$x,VERSION:Wx,all:Jx,Cancel:Zx,isAxiosError:eM,spread:tM,toFormData:nM,AxiosHeaders:iM,HttpStatusCode:rM,formToJSON:sM,getAdapter:aM,mergeConfig:oM}=zt,f0="https://public-api.wordpress.com",tu=r=>{var e,n;return(n=(e=r._embedded)==null?void 0:e.author)!=null&&n[0]?r._embedded.author[0].name:`User ${r.author}`},d0=async(r=1,e,n,s)=>{try{const o={page:r,per_page:20,_embed:1};e&&(o.author=e),s&&(o.search=s);const u={};if(n!=null&&n.username&&(n!=null&&n.appPassword)){const A=btoa(`${n.username}:${n.appPassword}`);u.Authorization=`Basic ${A}`}const f=await zt.get(`${f0}/wp/v2/sites/srijansamwad.wordpress.com/posts`,{params:o,headers:u}),m=f.data,y=parseInt(f.headers["x-wp-total"]||"0"),g=parseInt(f.headers["x-wp-totalpages"]||"1");let v=[];return Array.isArray(m)?v=m:m&&typeof m=="object"&&Array.isArray(m.posts)&&(v=m.posts),{posts:v,total:y,totalPages:g}}catch(o){throw console.error("Error fetching WP posts:",o),o}},rR=async r=>{var e;try{const n=btoa(`${r.username}:${r.appPassword}`);return(await zt.get(`${f0}/wp/v2/sites/srijansamwad.wordpress.com/users`,{params:{per_page:100},headers:{Authorization:`Basic ${n}`}})).data.map(o=>({id:o.id,name:o.name}))}catch(n){throw console.error("Error fetching users directly:",((e=n.response)==null?void 0:e.data)||n.message),n}},_m=async r=>{var e;try{const n=await d0(1,void 0,r),s=new Map;return n.posts.forEach(o=>{const u=tu(o);s.set(o.author,{id:o.author,name:u})}),Array.from(s.values())}catch(n){throw console.error("Error discovering authors from recent posts:",((e=n.response)==null?void 0:e.data)||n.message),n}},Em=r=>{if(r._embedded&&r._embedded["wp:featuredmedia"]&&r._embedded["wp:featuredmedia"][0])return r._embedded["wp:featuredmedia"][0].source_url},sR="df05bobcq",av=async(r,e="wordpress-imports")=>{var s;const n=new FormData;n.append("file",r),n.append("upload_preset","ml_default"),n.append("folder",`librebook/${e}`);try{const o=await fetch(`https://api.cloudinary.com/v1_1/${sR}/image/upload`,{method:"POST",body:n});if(!o.ok){const f=await o.json();throw new Error(((s=f.error)==null?void 0:s.message)||"Failed to upload image to Cloudinary")}return(await o.json()).secure_url}catch(o){throw console.error("Cloudinary upload error:",o),o}},aR=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},oR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,v=u>>2,A=(u&3)<<4|m>>4;let O=(m&15)<<2|g>>6,Y=g&63;y||(Y=64,f||(O=64)),s.push(n[v],n[A],n[O],n[Y])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(m0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):oR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new lR;const O=u<<2|m>>4;if(s.push(O),g!==64){const Y=m<<4&240|g>>2;if(s.push(Y),A!==64){const P=g<<6&192|A;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uR=function(r){const e=m0(r);return p0.encodeByteArray(e,!0)},Rh=function(r){return uR(r).replace(/\./g,"")},g0=function(r){try{return p0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=()=>cR().__FIREBASE_DEFAULTS__,fR=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g0(r[1]);return e&&JSON.parse(e)},Jh=()=>{try{return aR()||hR()||fR()||dR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y0=r=>{var e,n;return(n=(e=Jh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},mR=r=>{const e=y0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_0=()=>{var r;return(r=Jh())==null?void 0:r.config},E0=r=>{var e;return(e=Jh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(f)),""].join(".")}const su={};function yR(){const r={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?r.emulator.push(e):r.prod.push(e);return r}function _R(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let lv=!1;function T0(r,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||su[r]===e||su[r]||lv)return;su[r]=e;function n(O){return`__firebase__banner__${O}`}const s="__firebase__banner",u=yR().prod.length>0;function f(){const O=document.getElementById(s);O&&O.remove()}function m(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,Y){O.setAttribute("width","24"),O.setAttribute("id",Y),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function g(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{lv=!0,f()},O}function v(O,Y){O.setAttribute("id",Y),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function A(){const O=_R(s),Y=n("text"),P=document.getElementById(Y)||document.createElement("span"),X=n("learnmore"),F=document.getElementById(X)||document.createElement("a"),ce=n("preprendIcon"),ge=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const fe=O.element;m(fe),v(F,X);const _e=g();y(ge,ce),fe.append(ge,P,F,_e),document.body.appendChild(fe)}u?(P.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ER(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function vR(){var e;const r=(e=Jh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bR(){const r=In();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RR(){try{return typeof indexedDB=="object"}catch{return!1}}function CR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="FirebaseError";class Yr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=IR,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?NR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Yr(o,m,s)}}function NR(r,e){return r.replace(DR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const DR=/\{\$([^}]+)}/g;function OR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ca(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(uv(u)&&uv(f)){if(!Ca(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xR(r,e){const n=new MR(r,e);return n.subscribe.bind(n)}class MR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");VR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(r){return r&&r._delegate?r._delegate:r}class Ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new pR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PR(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UR(r){return r===va?void 0:r}function PR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const zR={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},BR=Qe.INFO,jR={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},HR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=jR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=HR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const qR=(r,e)=>e.some(n=>r instanceof n);let cv,hv;function FR(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GR(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Fm=new WeakMap,S0=new WeakMap,Tm=new WeakMap,wp=new WeakMap;function KR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Vs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&A0.set(n,r)}).catch(()=>{}),wp.set(e,r),e}function YR(r){if(Fm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fm.set(r,e)}let Gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||S0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function QR(r){Gm=r(Gm)}function XR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Am(this),e,...n);return S0.set(s,e.sort?e.sort():[e]),Vs(s)}:GR().includes(r)?function(...e){return r.apply(Am(this),e),Vs(A0.get(this))}:function(...e){return Vs(r.apply(Am(this),e))}}function $R(r){return typeof r=="function"?XR(r):(r instanceof IDBTransaction&&YR(r),qR(r,FR())?new Proxy(r,Gm):r)}function Vs(r){if(r instanceof IDBRequest)return KR(r);if(Tm.has(r))return Tm.get(r);const e=$R(r);return e!==r&&(Tm.set(r,e),wp.set(e,r)),e}const Am=r=>wp.get(r);function WR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Vs(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Vs(f.result),y.oldVersion,y.newVersion,Vs(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const JR=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],Sm=new Map;function fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ZR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JR.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return Sm.set(e,u),u}QR(r=>({...r,get:(e,n,s)=>fv(e,n)||r.get(e,n,s),has:(e,n)=>!!fv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function tC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",dv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new bp("@firebase/app"),nC="@firebase/app-compat",iC="@firebase/analytics-compat",rC="@firebase/analytics",sC="@firebase/app-check-compat",aC="@firebase/app-check",oC="@firebase/auth",lC="@firebase/auth-compat",uC="@firebase/database",cC="@firebase/data-connect",hC="@firebase/database-compat",fC="@firebase/functions",dC="@firebase/functions-compat",mC="@firebase/installations",pC="@firebase/installations-compat",gC="@firebase/messaging",yC="@firebase/messaging-compat",_C="@firebase/performance",EC="@firebase/performance-compat",vC="@firebase/remote-config",TC="@firebase/remote-config-compat",AC="@firebase/storage",SC="@firebase/storage-compat",bC="@firebase/firestore",wC="@firebase/ai",RC="@firebase/firestore-compat",CC="firebase",IC="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",NC={[Km]:"fire-core",[nC]:"fire-core-compat",[rC]:"fire-analytics",[iC]:"fire-analytics-compat",[aC]:"fire-app-check",[sC]:"fire-app-check-compat",[oC]:"fire-auth",[lC]:"fire-auth-compat",[uC]:"fire-rtdb",[cC]:"fire-data-connect",[hC]:"fire-rtdb-compat",[fC]:"fire-fn",[dC]:"fire-fn-compat",[mC]:"fire-iid",[pC]:"fire-iid-compat",[gC]:"fire-fcm",[yC]:"fire-fcm-compat",[_C]:"fire-perf",[EC]:"fire-perf-compat",[vC]:"fire-rc",[TC]:"fire-rc-compat",[AC]:"fire-gcs",[SC]:"fire-gcs-compat",[bC]:"fire-fst",[RC]:"fire-fst-compat",[wC]:"fire-vertex","fire-js":"fire-js",[CC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,DC=new Map,Qm=new Map;function mv(r,e){try{r.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Uo(r){const e=r.name;if(Qm.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,r);for(const n of Ch.values())mv(n,r);for(const n of DC.values())mv(n,r);return!0}function Rp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new bu("app","Firebase",OC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=IC;function b0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ls.create("bad-app-name",{appName:String(o)});if(n||(n=_0()),!n)throw Ls.create("no-options");const u=Ch.get(o);if(u){if(Ca(n,u.options)&&Ca(s,u.config))return u;throw Ls.create("duplicate-app",{appName:o})}const f=new kR(o);for(const y of Qm.values())f.addComponent(y);const m=new xC(n,s,f);return Ch.set(o,m),m}function w0(r=Ym){const e=Ch.get(r);if(!e&&r===Ym&&_0())return b0();if(!e)throw Ls.create("no-app",{appName:r});return e}function Us(r,e,n){let s=NC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(f.join(" "));return}Uo(new Ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firebase-heartbeat-database",VC=1,hu="firebase-heartbeat-store";let bm=null;function R0(){return bm||(bm=WR(MC,VC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ls.create("idb-open",{originalErrorMessage:r.message})})),bm}async function LC(r){try{const n=(await R0()).transaction(hu),s=await n.objectStore(hu).get(C0(r));return await n.done,s}catch(e){if(e instanceof Yr)qr.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(n.message)}}}async function pv(r,e){try{const s=(await R0()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,C0(r)),await s.done}catch(n){if(n instanceof Yr)qr.warn(n.message);else{const s=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(s.message)}}}function C0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1024,PC=30;class kC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>PC){const f=jC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gv(),{heartbeatsToSend:s,unsentEntries:o}=zC(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return qr.warn(n),""}}}function gv(){return new Date().toISOString().substring(0,10)}function zC(r,e=UC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),yv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),yv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class BC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RR()?CR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yv(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function jC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r){Uo(new Ia("platform-logger",e=>new eC(e),"PRIVATE")),Uo(new Ia("heartbeat",e=>new kC(e),"PRIVATE")),Us(Km,dv,r),Us(Km,dv,"esm2020"),Us("fire-js","")}HC("");var qC="firebase",FC="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(qC,FC,"app");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,I0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,b){function C(){}C.prototype=b.prototype,R.F=b.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,D,L){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return b.prototype[D].apply(V,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)V[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=R.g[0],C=R.g[1],D=R.g[2];let L=R.g[3],w;w=b+(L^C&(D^L))+V[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+V[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+V[2]+606105819&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+V[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+V[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+V[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+V[6]+2821735955&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+V[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+V[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+V[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+V[10]+4294925233&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+V[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+V[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+V[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+V[14]+2792965006&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+V[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(D^L&(C^D))+V[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+V[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+V[11]+643717713&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+V[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+V[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+V[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+V[15]+3634488961&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+V[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+V[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+V[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+V[3]+4107603335&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+V[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+V[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+V[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+V[7]+1735328473&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+V[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(C^D^L)+V[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+V[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+V[11]+1839030562&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+V[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+V[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+V[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+V[7]+4139469664&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+V[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+V[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+V[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+V[3]+3572445317&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+V[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+V[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+V[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+V[15]+530742520&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+V[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(D^(C|~L))+V[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+V[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+V[14]+2878612391&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+V[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+V[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+V[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+V[10]+4293915773&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+V[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+V[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+V[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+V[6]+2734768916&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+V[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+V[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+V[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+V[2]+718787259&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,b){b===void 0&&(b=R.length);const C=b-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<b;){if(D==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<b;)if(V[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,V),D=0;break}}else for(;L<b;)if(V[D++]=R[L++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=b},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[b++]=this.g[C]>>>V&255;return R};function u(R,b){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=b(R)}function f(R,b){this.h=b;const C=[];let V=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;V&&L==b||(C[D]=L,V=!1)}this.g=C}var m={};function y(R){return-128<=R&&R<128?u(R,function(b){return new f([b|0],b<0?-1:0)}):new f([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return A;if(R<0)return F(g(-R));const b=[];let C=1;for(let V=0;R>=C;V++)b[V]=R/C|0,C*=4294967296;return new f(b,0)}function v(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return F(v(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(b,8));let V=A;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const w=parseInt(R.substring(L,L+D),b);D<8?(D=g(Math.pow(b,D)),V=V.j(D).add(g(w))):(V=V.j(C),V=V.add(g(w)))}return V}var A=y(0),O=y(1),Y=y(16777216);r=f.prototype,r.m=function(){if(X(this))return-F(this).m();let R=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*b,b*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(X(this))return"-"+F(this).toString(R);const b=g(Math.pow(R,6));var C=this;let V="";for(;;){const D=_e(C,b).g;C=ce(C,D.j(b));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,P(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function X(R){return R.h==-1}r.l=function(R){return R=ce(this,R),X(R)?-1:P(R)?0:1};function F(R){const b=R.g.length,C=[];for(let V=0;V<b;V++)C[V]=~R.g[V];return new f(C,~R.h).add(O)}r.abs=function(){return X(this)?F(this):this},r.add=function(R){const b=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let D=0;D<=b;D++){let L=V+(this.i(D)&65535)+(R.i(D)&65535),w=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=w>>>16,L&=65535,w&=65535,C[D]=w<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ce(R,b){return R.add(F(b))}r.j=function(R){if(P(this)||P(R))return A;if(X(this))return X(R)?F(this).j(F(R)):F(F(this).j(R));if(X(R))return F(this.j(F(R)));if(this.l(Y)<0&&R.l(Y)<0)return g(this.m()*R.m());const b=this.g.length+R.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const L=this.i(V)>>>16,w=this.i(V)&65535,Me=R.i(D)>>>16,gt=R.i(D)&65535;C[2*V+2*D]+=w*gt,ge(C,2*V+2*D),C[2*V+2*D+1]+=L*gt,ge(C,2*V+2*D+1),C[2*V+2*D+1]+=w*Me,ge(C,2*V+2*D+1),C[2*V+2*D+2]+=L*Me,ge(C,2*V+2*D+2)}for(R=0;R<b;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=b;R<2*b;R++)C[R]=0;return new f(C,0)};function ge(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function fe(R,b){this.g=R,this.h=b}function _e(R,b){if(P(b))throw Error("division by zero");if(P(R))return new fe(A,A);if(X(R))return b=_e(F(R),b),new fe(F(b.g),F(b.h));if(X(b))return b=_e(R,F(b)),new fe(F(b.g),b.h);if(R.g.length>30){if(X(R)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=b;V.l(R)<=0;)C=De(C),V=De(V);var D=Re(C,1),L=Re(V,1);for(V=Re(V,2),C=Re(C,2);!P(V);){var w=L.add(V);w.l(R)<=0&&(D=D.add(C),L=w),V=Re(V,1),C=Re(C,1)}return b=ce(R,D.j(b)),new fe(D,b)}for(D=A;R.l(b)>=0;){for(C=Math.max(1,Math.floor(R.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(C),w=L.j(b);X(w)||w.l(R)>0;)C-=V,L=g(C),w=L.j(b);P(L)&&(L=O),D=D.add(L),R=ce(R,w)}return new fe(D,R)}r.B=function(R){return _e(this,R).h},r.and=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&R.i(V);return new f(C,this.h&R.h)},r.or=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|R.i(V);return new f(C,this.h|R.h)},r.xor=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^R.i(V);return new f(C,this.h^R.h)};function De(R){const b=R.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new f(C,R.h)}function Re(R,b){const C=b>>5;b%=32;const V=R.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=b>0?R.i(L+C)>>>b|R.i(L+C+1)<<32-b:R.i(L+C);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,I0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Ps=f}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N0,nu,D0,dh,Xm,O0,x0,M0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in E))break e;E=E[k]}c=c[c.length-1],S=E[c],p=p(S),p!=S&&p!=null&&e(E,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var E=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&E.push([S,p[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,E){return c.call.apply(c.bind,arguments)}function g(c,p,E){return g=y,g.apply(null,arguments)}function v(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,p){function E(){}E.prototype=p.prototype,c.Z=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,k,q){for(var ae=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ae[Ve-2]=arguments[Ve];return p.prototype[k].apply(S,ae)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function Y(c){const p=c.length;if(p>0){const E=Array(p);for(let S=0;S<p;S++)E[S]=c[S];return E}return[]}function P(c,p){for(let S=1;S<arguments.length;S++){const k=arguments[S];var E=typeof k;if(E=E!="object"?E:k?Array.isArray(k)?"array":E:"null",E=="array"||E=="object"&&typeof k.length=="number"){E=c.length||0;const q=k.length||0;c.length=E+q;for(let ae=0;ae<q;ae++)c[E+ae]=k[ae]}else c.push(k)}}class X{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function F(c){f.setTimeout(()=>{throw c},0)}function ce(){var c=R;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ge{constructor(){this.h=this.g=null}add(p,E){const S=fe.get();S.set(p,E),this.h?this.h.next=S:this.g=S,this.h=S}}var fe=new X(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let De,Re=!1,R=new ge,b=()=>{const c=Promise.resolve(void 0);De=()=>{c.then(C)}};function C(){for(var c;c=ce();){try{c.h.call(c.g)}catch(E){F(E)}var p=fe;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Re=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,p),f.removeEventListener("test",E,p)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function Me(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(Me,D),Me.prototype.init=function(c,p){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),H=0;function se(c,p,E,S,k){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!S,this.ha=k,this.key=++H,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,p,E){for(const S in c)p.call(E,c[S],S,c)}function je(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function I(c){const p={};for(const E in c)p[E]=c[E];return p}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,p){let E,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(E in S)c[E]=S[E];for(let q=0;q<Q.length;q++)E=Q[q],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,p,E,S,k){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ae=Se(c,p,S,k);return ae>-1?(p=c[ae],E||(p.fa=!1)):(p=new se(p,this.src,q,!!S,k),p.fa=E,c.push(p)),p};function ue(c,p){const E=p.type;if(E in c.g){var S=c.g[E],k=Array.prototype.indexOf.call(S,p,void 0),q;(q=k>=0)&&Array.prototype.splice.call(S,k,1),q&&(he(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Se(c,p,E,S){for(let k=0;k<c.length;++k){const q=c[k];if(!q.da&&q.listener==p&&q.capture==!!E&&q.ha==S)return k}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),lt={};function rt(c,p,E,S,k){if(Array.isArray(p)){for(let q=0;q<p.length;q++)rt(c,p[q],E,S,k);return null}return E=Dn(E),c&&c[gt]?c.J(p,E,m(S)?!!S.capture:!1,k):Jn(c,p,E,!1,S,k)}function Jn(c,p,E,S,k,q){if(!p)throw Error("Invalid event type");const ae=m(k)?!!k.capture:!!k;let Ve=ei(c);if(Ve||(c[Ue]=Ve=new oe(c)),E=Ve.add(p,E,S,ae,q),E.proxy)return E;if(S=Di(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)L||(k=ae),k===void 0&&(k=!1),c.addEventListener(p.toString(),S,k);else if(c.attachEvent)c.attachEvent(Vt(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Di(){function c(E){return p.call(c.src,c.listener,E)}const p=Tn;return c}function Zn(c,p,E,S,k){if(Array.isArray(p))for(var q=0;q<p.length;q++)Zn(c,p[q],E,S,k);else S=m(S)?!!S.capture:!!S,E=Dn(E),c&&c[gt]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],E=Se(p,E,S,k),E>-1&&(he(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=ei(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Se(p,E,S,k)),(E=c>-1?p[c]:null)&&Nn(E))}function Nn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[gt])ue(p.i,c);else{var E=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(E,S,c.capture):p.detachEvent?p.detachEvent(Vt(E),S):p.addListener&&p.removeListener&&p.removeListener(S),(E=ei(p))?(ue(E,c),E.h==0&&(E.src=null,p[Ue]=null)):he(c)}}}function Vt(c){return c in lt?lt[c]:lt[c]="on"+c}function Tn(c,p){if(c.da)c=!0;else{p=new Me(p,this);const E=c.listener,S=c.ha||c.src;c.fa&&Nn(c),c=E.call(S,p)}return c}function ei(c){return c=c[Ue],c instanceof oe?c:null}var Oi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dn(c){return typeof c=="function"?c:(c[Oi]||(c[Oi]=function(p){return c.handleEvent(p)}),c[Oi])}function re(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}A(re,V),re.prototype[gt]=!0,re.prototype.removeEventListener=function(c,p,E,S){Zn(this,c,p,E,S)};function be(c,p){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var k=p;p=new D(S,c),ne(p,k)}k=!0;let q,ae;if(E)for(ae=E.length-1;ae>=0;ae--)q=p.g=E[ae],k=ut(q,S,!0,p)&&k;if(q=p.g=c,k=ut(q,S,!0,p)&&k,k=ut(q,S,!1,p)&&k,E)for(ae=0;ae<E.length;ae++)q=p.g=E[ae],k=ut(q,S,!1,p)&&k}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const E=c.g[p];for(let S=0;S<E.length;S++)he(E[S]);delete c.g[p],c.h--}}this.G=null},re.prototype.J=function(c,p,E,S){return this.i.add(String(c),p,!1,E,S)},re.prototype.K=function(c,p,E,S){return this.i.add(String(c),p,!0,E,S)};function ut(c,p,E,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let k=!0;for(let q=0;q<p.length;++q){const ae=p[q];if(ae&&!ae.da&&ae.capture==E){const Ve=ae.listener,Bt=ae.ha||ae.src;ae.fa&&ue(c.i,ae),k=Ve.call(Bt,S)!==!1&&k}}return k&&!S.defaultPrevented}function Be(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function Et(c){c.g=Be(()=>{c.g=null,c.i&&(c.i=!1,Et(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class It extends V{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(c){V.call(this),this.h=c,this.g={}}A(ln,V);var un=[];function Lt(c){ze(c.g,function(p,E){this.g.hasOwnProperty(E)&&Nn(p)},c),c.g={}}ln.prototype.N=function(){ln.Z.N.call(this),Lt(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cn=f.JSON.stringify,Xi=f.JSON.parse,_r=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ti(){}function Er(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nt(){D.call(this,"d")}A(Nt,D);function wt(){D.call(this,"c")}A(wt,D);var ct={},Qr=null;function $i(){return Qr=Qr||new re}ct.Ia="serverreachability";function Ua(c){D.call(this,ct.Ia,c)}A(Ua,D);function On(c){const p=$i();be(p,new Ua(p))}ct.STAT_EVENT="statevent";function fi(c,p){D.call(this,ct.STAT_EVENT,c),this.stat=p}A(fi,D);function Ut(c){const p=$i();be(p,new fi(p,c))}ct.Ja="timingevent";function An(c,p){D.call(this,ct.Ja,c),this.size=p}A(An,D);function di(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Dt(c,p,E,S,k,q){c.info(function(){if(c.g)if(q){var ae="",Ve=q.split("&");for(let tt=0;tt<Ve.length;tt++){var Bt=Ve[tt].split("=");if(Bt.length>1){const Rt=Bt[0];Bt=Bt[1];const yi=Rt.split("_");ae=yi.length>=2&&yi[1]=="type"?ae+(Rt+"="+Bt+"&"):ae+(Rt+"=redacted&")}}}else ae=null;else ae=q;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+p+`
`+E+`
`+ae})}function xi(c,p,E,S,k,q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+p+`
`+E+`
`+q+" "+ae})}function mi(c,p,E,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ks(c,E)+(S?" "+S:"")})}function Wi(c,p){c.info(function(){return"TIMEOUT: "+p})}ni.prototype.info=function(){};function Ks(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var k=S[0];if(k!="noop"&&k!="stop"&&k!="close")for(let ae=1;ae<S.length;ae++)S[ae]=""}}}}return cn(q)}catch{return p}}var Ji={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ys;function nn(){}A(nn,ti),nn.prototype.g=function(){return new XMLHttpRequest},Ys=new nn;function hn(c){return encodeURIComponent(String(c))}function Qs(c){var p=1;c=c.split(":");const E=[];for(;p>0&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function Bn(c,p,E,S){this.j=c,this.i=p,this.l=E,this.S=S||1,this.V=new ln(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var Ot={},ht={};function ii(c,p,E){c.M=1,c.A=$s(Gt(p)),c.u=E,c.R=!0,vr(c,null)}function vr(c,p){c.F=Date.now(),pe(c),c.B=Gt(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ja(E.i,"t",S),c.C=0,E=c.j.L,c.h=new xn,c.g=Yu(c.j,E?p:null,!c.u),c.P>0&&(c.O=new It(g(c.Y,c,c.g),c.P)),p=c.V,E=c.g,S=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(un[0]=k.toString()),k=un);for(let q=0;q<k.length;q++){const ae=rt(E,k[q],S||p.handleEvent,!1,p.h||p);if(!ae)break;p.g[ae.key]=ae}p=c.J?I(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),On(),Dt(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Li(c)==3?p.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=Li(this.g),Bt=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||dn(this.g)))){this.K||Ve!=4||Bt==7||(Bt==8||tt<=0?On(3):On(2)),ie(this);var p=this.g.ca();this.X=p;var E=Pa(this);if(this.o=p==200,xi(this.i,this.v,this.B,this.l,this.S,Ve,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,k=this.g;if((S=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var q=S;break t}}q=null}if(c=q)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yt(this,c);else{this.o=!1,this.m=3,Ut(12),He(this),le(this);break e}}if(this.R){c=!0;let Rt;for(;!this.K&&this.C<E.length;)if(Rt=ka(this,E),Rt==ht){Ve==4&&(this.m=4,Ut(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==Ot){this.m=4,Ut(15),mi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,Rt,null),yt(this,Rt);if(Xs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||E.length!=0||this.h.h||(this.m=1,Ut(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,E,"[Invalid Chunked Response]"),He(this),le(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ll(ae),ae.P=!0,Ut(11))}}else mi(this.i,this.l,E,null),yt(this,E);Ve==4&&He(this),this.o&&!this.K&&(Ve==4?qu(this.j,this):(this.o=!1,pe(this)))}else Ar(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),He(this),le(this)}}}catch{}finally{}};function Pa(c){if(!Xs(c))return c.g.la();const p=dn(c.g);if(p==="")return"";let E="";const S=p.length,k=Li(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return He(c),le(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,E+=c.h.i.decode(p[q],{stream:!(k&&q==S-1)});return p.length=0,c.h.g+=E,c.C=0,c.h.g}function Xs(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ka(c,p){var E=c.C,S=p.indexOf(`
`,E);return S==-1?ht:(E=Number(p.substring(E,S)),isNaN(E)?Ot:(S+=1,S+E>p.length?ht:(p=p.slice(S,S+E),c.C=S+E,p)))}Bn.prototype.cancel=function(){this.K=!0,He(this)};function pe(c){c.T=Date.now()+c.H,x(c,c.H)}function x(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(g(c.aa,c),p)}function ie(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Wi(this.i,this.B),this.M!=2&&(On(),Ut(17)),He(this),this.m=2,le(this)):x(this,this.T-c)};function le(c){c.j.I==0||c.K||qu(c.j,c)}function He(c){ie(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Lt(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function yt(c,p){try{var E=c.j;if(E.I!=0&&(E.g==c||jn(E.h,c))){if(!c.L&&jn(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ka(E),ss(E);else break e;ia(E),Ut(18)}}else E.xa=k[1],0<E.xa-E.K&&k[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=di(g(E.Va,E),6e3));fn(E.h)<=1&&E.ta&&(E.ta=void 0)}else rr(E,11)}else if((c.L||E.g==c)&&Ka(E),!w(p))for(k=E.Ba.g.parse(p),p=0;p<k.length;p++){let tt=k[p];const Rt=tt[0];if(!(Rt<=E.K))if(E.K=Rt,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const yi=tt[3];yi!=null&&(E.ka=yi,E.j.info("VER="+E.ka));const sr=tt[4];sr!=null&&(E.za=sr,E.j.info("SVER="+E.za));const Ui=tt[5];Ui!=null&&typeof Ui=="number"&&Ui>0&&(S=1.5*Ui,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Pi=c.g;if(Pi){const ra=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var q=S.h;q.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xt(q,q.h),q.h=null))}if(S.G){const Ya=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(S.wa=Ya,st(S.J,S.G,Ya))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ae=c;if(S.na=Ku(S,S.L?S.ba:null,S.W),ae.L){$r(S.h,ae);var Ve=ae,Bt=S.O;Bt&&(Ve.H=Bt),Ve.D&&(ie(Ve),pe(Ve)),S.g=ae}else ju(S);E.i.length>0&&ir(E)}else tt[0]!="stop"&&tt[0]!="close"||rr(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?rr(E,7):al(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}On(4)}catch{}}var Pe=class{constructor(c,p){this.g=c,this.map=p}};function Ft(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fn(c){return c.h?1:c.g?c.g.size:0}function jn(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function xt(c,p){c.g?c.g.add(p):c.h=p}function $r(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ft.prototype.cancel=function(){if(this.i=Wr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wr(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.G);return p}return Y(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(c,p){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let k,q=null;S>=0?(k=c[E].substring(0,S),q=c[E].substring(S+1)):k=c[E],p(k,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ri(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof ri?(this.l=c.l,rn(this,c.j),this.o=c.o,this.g=c.g,Jr(this,c.u),this.h=c.h,Zo(this,zu(c.i)),this.m=c.m):c&&(p=String(c).match(Lu))?(this.l=!1,rn(this,p[1]||"",!0),this.o=Zi(p[2]||""),this.g=Zi(p[3]||"",!0),Jr(this,p[4]),this.h=Zi(p[5]||"",!0),Zo(this,p[6]||"",!0),this.m=Zi(p[7]||"")):(this.l=!1,this.i=new es(null,this.l))}ri.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Ws(p,Ba,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ws(p,Ba,!0),"@"),c.push(hn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ws(E,E.charAt(0)=="/"?el:Uu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ws(E,Pu)),c.join("")},ri.prototype.resolve=function(c){const p=Gt(this);let E=!!c.j;E?rn(p,c.j):E=!!c.o,E?p.o=c.o:E=!!c.g,E?p.g=c.g:E=c.u!=null;var S=c.h;if(E)Jr(p,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var k=p.h.lastIndexOf("/");k!=-1&&(S=p.h.slice(0,k+1)+S)}if(k=S,k==".."||k==".")S="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){S=k.lastIndexOf("/",0)==0,k=k.split("/");const q=[];for(let ae=0;ae<k.length;){const Ve=k[ae++];Ve=="."?S&&ae==k.length&&q.push(""):Ve==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&ae==k.length&&q.push("")):(q.push(Ve),S=!0)}S=q.join("/")}else S=k}return E?p.h=S:E=c.i.toString()!=="",E?Zo(p,zu(c.i)):E=!!c.m,E&&(p.m=c.m),p};function Gt(c){return new ri(c)}function rn(c,p,E){c.j=E?Zi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Jr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Zo(c,p,E){p instanceof es?(c.i=p,Ha(c.i,c.l)):(E||(p=Ws(p,Zr)),c.i=new es(p,c.l))}function st(c,p,E){c.i.set(p,E)}function $s(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Zi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ws(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,Hn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ba=/[#\/\?@]/g,Uu=/[#\?:]/g,el=/[#\?]/g,Zr=/[#\?@]/g,Pu=/#/g;function es(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&za(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}r=es.prototype,r.add=function(c,p){qn(this),this.i=null,c=ts(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function ku(c,p){qn(c),p=ts(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function tl(c,p){return qn(c),p=ts(c,p),c.g.has(p)}r.forEach=function(c,p){qn(this),this.g.forEach(function(E,S){E.forEach(function(k){c.call(p,k,S,this)},this)},this)};function nl(c,p){qn(c);let E=[];if(typeof p=="string")tl(c,p)&&(E=E.concat(c.g.get(ts(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)E=E.concat(c[p]);return E}r.set=function(c,p){return qn(this),this.i=null,c=ts(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=nl(this,c),c.length>0?String(c[0]):p):p};function ja(c,p,E){ku(c,p),E.length>0&&(c.i=null,c.g.set(ts(c,p),Y(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var E=p[S];const k=hn(E);E=nl(this,E);for(let q=0;q<E.length;q++){let ae=k;E[q]!==""&&(ae+="="+hn(E[q])),c.push(ae)}}return this.i=c.join("&")};function zu(c){const p=new es;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ts(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ha(c,p){p&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(E,S){const k=S.toLowerCase();S!=k&&(ku(this,S),ja(this,k,E))},c)),c.j=p}function Mi(c,p){const E=new ni;if(f.Image){const S=new Image;S.onload=v(pi,E,"TestLoadImage: loaded",!0,p,S),S.onerror=v(pi,E,"TestLoadImage: error",!1,p,S),S.onabort=v(pi,E,"TestLoadImage: abort",!1,p,S),S.ontimeout=v(pi,E,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function il(c,p){const E=new ni,S=new AbortController,k=setTimeout(()=>{S.abort(),pi(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(k),q.ok?pi(E,"TestPingServer: ok",!0,p):pi(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),pi(E,"TestPingServer: error",!1,p)})}function pi(c,p,E,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(E)}catch{}}function ns(){this.g=new _r}function er(c){this.i=c.Sb||null,this.h=c.ab||!1}A(er,ti),er.prototype.g=function(){return new Js(this.i,this.h)};function Js(c,p){re.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Js,re),r=Js.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Vi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?is(this):Vi(this),this.readyState==3&&qa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,is(this))},r.Na=function(c){this.g&&(this.response=c,is(this))},r.ga=function(){this.g&&is(this)};function is(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Vi(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function Vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gi(c){let p="";return ze(c,function(E,S){p+=S,p+=":",p+=E,p+=`\r
`}),p}function Zs(c,p,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=gi(E),typeof c=="string"?E!=null&&hn(E):st(c,p,E))}function ft(c){re.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ft,re);var tr=/^https?$/i,rl=["POST","PUT"];r=ft.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ys.g(),this.g.onreadystatechange=O(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){ea(this,q);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)E.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())E.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(rl,p,void 0)>=0)||S||k||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ae]of E)this.g.setRequestHeader(q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){ea(this,q)}};function ea(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,sl(c),Tr(c)}function sl(c){c.A||(c.A=!0,be(c,"complete"),be(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,be(this,"complete"),be(this,"abort"),Tr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),ft.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ta(this):this.Xa())},r.Xa=function(){ta(this)};function ta(c){if(c.h&&typeof u<"u"){if(c.v&&Li(c)==4)setTimeout(c.Ca.bind(c),0);else if(be(c,"readystatechange"),Li(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var S;if(S=q===0){let ae=String(c.D).match(Lu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),S=!tr.test(ae?ae.toLowerCase():"")}E=S}if(E)be(c,"complete"),be(c,"success");else{c.o=6;try{var k=Li(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",sl(c)}}finally{Tr(c)}}}}function Tr(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,p||be(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Li(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Li(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xi(p)}};function dn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ar(c){const p={};c=(c.g&&Li(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var E=Qs(c[S]);const k=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=p[k]||[];p[k]=q,q.push(E)}je(p,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function rs(c){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nr("baseRetryDelayMs",5e3,c),this.Za=nr("retryDelaySeedMs",1e4,c),this.Ta=nr("forwardChannelMaxRetries",2,c),this.va=nr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ft(c&&c.concurrentRequestLimit),this.Ba=new ns,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=rs.prototype,r.ka=8,r.I=1,r.connect=function(c,p,E,S){Ut(0),this.W=c,this.H=p||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Ku(this,null,this.W),ir(this)};function al(c){if(Fa(c),c.I==3){var p=c.V++,E=Gt(c.J);if(st(E,"SID",c.M),st(E,"RID",p),st(E,"TYPE","terminate"),na(c,E),p=new Bn(c,c.j,p),p.M=2,p.A=$s(Gt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=p.A,E=!0),E||(p.g=Yu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),pe(p)}Gu(c)}function ss(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function Fa(c){ss(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ka(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function ir(c){if(!Mn(c.h)&&!c.m){c.m=!0;var p=c.Ea;De||b(),Re||(De(),Re=!0),R.add(p,c),c.D=0}}function Ga(c,p){return fn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(g(c.Ea,c,p),Fu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Bn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=I(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(k.J=q,q=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Bu(this,k,p),E=Gt(this.J),st(E,"RID",c),st(E,"CVER",22),this.G&&st(E,"X-HTTP-Session-Id",this.G),na(this,E),q&&(this.R?p="headers="+hn(gi(q))+"&"+p:this.u&&Zs(E,this.u,q)),xt(this.h,k),this.Ra&&st(E,"TYPE","init"),this.S?(st(E,"$req",p),st(E,"SID","null"),k.U=!0,ii(k,E,null)):ii(k,E,p),this.I=2}}else this.I==3&&(c?ol(this,c):this.i.length==0||Mn(this.h)||ol(this))};function ol(c,p){var E;p?E=p.l:E=c.V++;const S=Gt(c.J);st(S,"SID",c.M),st(S,"RID",E),st(S,"AID",c.K),na(c,S),c.u&&c.o&&Zs(S,c.u,c.o),E=new Bn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Bu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xt(c.h,E),ii(E,S,p)}function na(c,p){c.H&&ze(c.H,function(E,S){st(p,S,E)}),c.l&&ze({},function(E,S){st(p,S,E)})}function Bu(c,p,E){E=Math.min(c.i.length,E);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var k=c.i;let Ve=-1;for(;;){const Bt=["count="+E];Ve==-1?E>0?(Ve=k[0].g,Bt.push("ofs="+Ve)):Ve=0:Bt.push("ofs="+Ve);let tt=!0;for(let Rt=0;Rt<E;Rt++){var q=k[Rt].g;const yi=k[Rt].map;if(q-=Ve,q<0)Ve=Math.max(0,k[Rt].g-100),tt=!1;else try{q="req"+q+"_"||"";try{var ae=yi instanceof Map?yi:Object.entries(yi);for(const[sr,Ui]of ae){let Pi=Ui;m(Ui)&&(Pi=cn(Ui)),Bt.push(q+sr+"="+encodeURIComponent(Pi))}}catch(sr){throw Bt.push(q+"type="+encodeURIComponent("_badmap")),sr}}catch{S&&S(yi)}}if(tt){ae=Bt.join("&");break e}}ae=void 0}return c=c.i.splice(0,E),p.G=c,ae}function ju(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;De||b(),Re||(De(),Re=!0),R.add(p,c),c.A=0}}function ia(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(g(c.Da,c),Fu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),ss(this),Hu(this))};function ll(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Gt(c.na);st(p,"RID","rpc"),st(p,"SID",c.M),st(p,"AID",c.K),st(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(p,"TO",c.ia),st(p,"TYPE","xmlhttp"),na(c,p),c.u&&c.o&&Zs(p,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=$s(Gt(p)),E.u=null,E.R=!0,vr(E,c)}r.Va=function(){this.C!=null&&(this.C=null,ss(this),ia(this),Ut(19))};function Ka(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,p){var E=null;if(c.g==p){Ka(c),ll(c),c.g=null;var S=2}else if(jn(c.h,p))E=p.G,$r(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var k=c.D;S=$i(),be(S,new An(S,E)),ir(c)}else ju(c);else if(k=p.m,k==3||k==0&&p.X>0||!(S==1&&Ga(c,p)||S==2&&ia(c)))switch(E&&E.length>0&&(p=c.h,p.i=p.i.concat(E)),k){case 1:rr(c,5);break;case 4:rr(c,10);break;case 3:rr(c,6);break;default:rr(c,2)}}}function Fu(c,p){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*p}function rr(c,p){if(c.j.info("Error code "+p),p==2){var E=g(c.bb,c),S=c.Ua;const k=!S;S=new ri(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||rn(S,"https"),$s(S),k?Mi(S.toString(),E):il(S.toString(),E)}else Ut(2);c.I=0,c.l&&c.l.pa(p),Gu(c),Fa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const p=Wr(c.h);(p.length!=0||c.i.length!=0)&&(P(c.ja,p),P(c.ja,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.oa()}}function Ku(c,p,E){var S=E instanceof ri?Gt(E):new ri(E);if(S.g!="")p&&(S.g=p+"."+S.g),Jr(S,S.u);else{var k=f.location;S=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;const q=new ri(null);S&&rn(q,S),p&&(q.g=p),k&&Jr(q,k),E&&(q.h=E),S=q}return E=c.G,p=c.wa,E&&p&&st(S,E,p),st(S,"VER",c.ka),na(c,S),S}function Yu(c,p,E){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new ft(new er({ab:E})):new ft(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function as(){}as.prototype.g=function(c,p){return new Vn(c,p)};function Vn(c,p){re.call(this),this.g=new rs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!w(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Sr(this)}A(Vn,re),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){al(this.g)},Vn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=cn(c),c=E);p.i.push(new Pe(p.Ya++,c)),p.I==3&&ir(p)},Vn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,Vn.Z.N.call(this)};function Xu(c){Nt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const E in p){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(Xu,Nt);function $u(){wt.call(this),this.status=1}A($u,wt);function Sr(c){this.g=c}A(Sr,Qu),Sr.prototype.ra=function(){be(this.g,"a")},Sr.prototype.qa=function(c){be(this.g,new Xu(c))},Sr.prototype.pa=function(c){be(this.g,new $u)},Sr.prototype.oa=function(){be(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,M0=function(){return new as},x0=function(){return $i()},O0=ct,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,dh=Ji,Xr.COMPLETE="complete",D0=Xr,Er.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",re.prototype.listen=re.prototype.J,nu=Er,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,N0=ft}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.8.0";function GC(r){Yo=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new bp("@firebase/firestore");function bo(){return Na.logLevel}function de(r,...e){if(Na.logLevel<=Qe.DEBUG){const n=e.map(Cp);Na.debug(`Firestore (${Yo}): ${r}`,...n)}}function Fr(r,...e){if(Na.logLevel<=Qe.ERROR){const n=e.map(Cp);Na.error(`Firestore (${Yo}): ${r}`,...n)}}function Po(r,...e){if(Na.logLevel<=Qe.WARN){const n=e.map(Cp);Na.warn(`Firestore (${Yo}): ${r}`,...n)}}function Cp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,V0(r,s,n)}function V0(r,e,n){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Fr(s),new Error(s)}function it(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||V0(e,o,s)}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wn.UNAUTHENTICATED)))}shutdown(){}}class YC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QC{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ks,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ks)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new L0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class XC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $C{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new XC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ev(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Xe(r,e){return r<e?-1:r>e?1:0}function $m(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return wm(o)===wm(u)?Xe(o,u):wm(o)?1:-1}return Xe(r.length,e.length)}const ZC=55296,eI=57343;function wm(r){const e=r.charCodeAt(0);return e>=ZC&&e<=eI}function ko(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__name__";class hr{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=hr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Xe(e.length,n.length)}static compareSegments(e,n){const s=hr.isNumericId(e),o=hr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hr.extractNumericId(e).compare(hr.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ps.fromString(e.substring(4,e.length-2))}}class Tt extends hr{construct(e,n,s){return new Tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const tI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends hr{construct(e,n,s){return new En(e,n,s)}static isValidIdentifier(e){return tI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new En([vv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Tt.fromString(e))}static fromName(e){return new Te(Tt.fromString(e).popFirst(5))}static empty(){return new Te(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r,e,n){if(!n)throw new me(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nI(r,e,n,s){if(e===!0&&s===!0)throw new me(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Tv(r){if(!Te.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Av(r){if(Te.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function P0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function Ih(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(r);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ru(r,e){if(!P0(r))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new me(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-62135596800,bv=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*bv);return new bt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sv)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Jt("string",bt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new bt(0,0))}static max(){return new Ne(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function iI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new bt(n+1,0):new bt(n,s));return new Bs(o,Te.empty(),e)}function rI(r){return new Bs(r.readTime,r.key,fu)}class Bs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Bs(Ne.min(),Te.empty(),fu)}static max(){return new Bs(Ne.max(),Te.empty(),fu)}}function sI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(r.documentKey,e.documentKey),n!==0?n:Xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==aI)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next((v=>{f[g]=v,++m,m===u&&s(f)}),(v=>o(v)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function lI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function tf(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function uI(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="";function cI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=wv(e)),e=hI(r.get(n),e);return wv(e)}function hI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case k0:n+="";break;default:n+=u}}return n}function wv(r){return r+k0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function xa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function z0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??_n.RED,this.left=o??_n.EMPTY,this.right=u??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new _n(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return _n.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(e){return new Cv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class Cv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new qi([])}unionWith(e){let n=new tn(En.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new B0("Invalid base64 string: "+u):u}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const fI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(r){if(it(!!r,39018),typeof r=="string"){let e=0;const n=fI.exec(r);if(it(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:qt(r.seconds),nanos:qt(r.nanos)}}function qt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hs(r){return typeof r=="string"?vn.fromBase64String(r):vn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="server_timestamp",H0="__type__",q0="__previous_value__",F0="__local_write_time__";function Dp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[H0])==null?void 0:s.stringValue)===j0}function nf(r){const e=r.mapValue.fields[q0];return Dp(e)?nf(e):e}function du(r){const e=js(r.mapValue.fields[F0].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,s,o,u,f,m,y,g,v,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=A}}const Dh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}function mI(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__type__",pI="__max__",ih={mapValue:{}},K0="__vector__",Oh="value";function qs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:yI(r)?9007199254740991:gI(r)?10:11:we(28295,{value:r})}function gr(r,e){if(r===e)return!0;const n=qs(r);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=js(o.timestampValue),m=js(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Hs(o.bytesValue).isEqual(Hs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return qt(o.geoPointValue.latitude)===qt(u.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return qt(o.integerValue)===qt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=qt(o.doubleValue),m=qt(u.doubleValue);return f===m?Nh(f)===Nh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ko(r.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Rv(f)!==Rv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!gr(f[y],m[y])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function pu(r,e){return(r.values||[]).find((n=>gr(n,e)))!==void 0}function zo(r,e){if(r===e)return 0;const n=qs(r),s=qs(e);if(n!==s)return Xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=qt(u.integerValue||u.doubleValue),y=qt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return Iv(r.timestampValue,e.timestampValue);case 4:return Iv(du(r),du(e));case 5:return $m(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Hs(u),y=Hs(f);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const v=Xe(m[g],y[g]);if(v!==0)return v}return Xe(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Xe(qt(u.latitude),qt(f.latitude));return m!==0?m:Xe(qt(u.longitude),qt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Nv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var O,Y,P,X;const m=u.fields||{},y=f.fields||{},g=(O=m[Oh])==null?void 0:O.arrayValue,v=(Y=y[Oh])==null?void 0:Y.arrayValue,A=Xe(((P=g==null?void 0:g.values)==null?void 0:P.length)||0,((X=v==null?void 0:v.values)==null?void 0:X.length)||0);return A!==0?A:Nv(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},v=Object.keys(g);y.sort(),v.sort();for(let A=0;A<y.length&&A<v.length;++A){const O=$m(y[A],v[A]);if(O!==0)return O;const Y=zo(m[y[A]],g[v[A]]);if(Y!==0)return Y}return Xe(y.length,v.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function Iv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Xe(r,e);const n=js(r),s=js(e),o=Xe(n.seconds,s.seconds);return o!==0?o:Xe(n.nanos,s.nanos)}function Nv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=zo(n[o],s[o]);if(u)return u}return Xe(n.length,s.length)}function Bo(r){return Wm(r)}function Wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=js(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Te.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Wm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Wm(n.fields[f])}`;return o+"}"})(r.mapValue):we(61005,{value:r})}function mh(r){switch(qs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return Hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+mh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return xa(s.fields,((u,f)=>{o+=u.length+mh(f)})),o})(r.mapValue);default:throw we(13486,{value:r})}}function Dv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jm(r){return!!r&&"integerValue"in r}function Op(r){return!!r&&"arrayValue"in r}function Ov(r){return!!r&&"nullValue"in r}function xv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function gI(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[G0])==null?void 0:s.stringValue)===K0}function au(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xa(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=au(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(r.arrayValue.values[n]);return e}return{...r}}function yI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=En.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=au(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){xa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Ci(au(this.value))}}function Y0(r){const e=[];return xa(r.fields,((n,s)=>{const o=new En([n]);if(ph(s)){const u=Y0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Rn(e,0,Ne.min(),Ne.min(),Ne.min(),Ci.empty(),0)}static newFoundDocument(e,n,s,o){return new Rn(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ne.min(),Ne.min(),Ci.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ne.min(),Ne.min(),Ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function Mv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(f.referenceValue),n.key):s=zo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _I(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{}class Wt extends Q0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vI(e,n,s):n==="array-contains"?new SI(e,s):n==="in"?new bI(e,s):n==="not-in"?new wI(e,s):n==="array-contains-any"?new RI(e,s):new Wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new TI(e,s):new AI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends Q0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yi(e,n)}matches(e){return X0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X0(r){return r.op==="and"}function $0(r){return EI(r)&&X0(r)}function EI(r){for(const e of r.filters)if(e instanceof Yi)return!1;return!0}function Zm(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if($0(r))return r.filters.map((e=>Zm(e))).join(",");{const e=r.filters.map((n=>Zm(n))).join(",");return`${r.op}(${e})`}}function W0(r,e){return r instanceof Wt?(function(s,o){return o instanceof Wt&&s.op===o.op&&s.field.isEqual(o.field)&&gr(s.value,o.value)})(r,e):r instanceof Yi?(function(s,o){return o instanceof Yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&W0(f,o.filters[m])),!0):!1})(r,e):void we(19439)}function J0(r){return r instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`})(r):r instanceof Yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(J0).join(" ,")+"}"})(r):"Filter"}class vI extends Wt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class TI extends Wt{constructor(e,n){super(e,"in",n),this.keys=Z0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AI extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=Z0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Z0(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Te.fromName(s.referenceValue)))}class SI extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&pu(n.arrayValue,this.value)}}class bI extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class wI extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class RI extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Lv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new CI(r,e,n,s,o,u,f)}function xp(r){const e=xe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Bo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Bo(s))).join(",")),e.Te=n}return e.Te}function Mp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_I(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!W0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Vv(r.startAt,e.startAt)&&Vv(r.endAt,e.endAt)}function ep(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function II(r,e,n,s,o,u,f,m){return new Cu(r,e,n,s,o,u,f,m)}function eA(r){return new Cu(r)}function Uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function NI(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function tA(r){return r.collectionGroup!==null}function ou(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new tn(En.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Mh(u,s))})),n.has(En.keyField().canonicalString())||e.Ie.push(new Mh(En.keyField(),s))}return e.Ie}function fr(r){const e=xe(r);return e.Ee||(e.Ee=DI(e,ou(r))),e.Ee}function DI(r,e){if(r.limitType==="F")return Lv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Mh(o.field,u)}));const n=r.endAt?new xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xh(r.startAt.position,r.startAt.inclusive):null;return Lv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function tp(r,e){const n=r.filters.concat([e]);return new Cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function np(r,e,n){return new Cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function rf(r,e){return Mp(fr(r),fr(e))&&r.limitType===e.limitType}function nA(r){return`${xp(fr(r))}|lt:${r.limitType}`}function wo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>J0(o))).join(", ")}]`),tf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Bo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Bo(o))).join(",")),`Target(${s})`})(fr(r))}; limitType=${r.limitType})`}function sf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const g=Mv(f,m,y);return f.inclusive?g<=0:g<0})(s.startAt,ou(s),o)||s.endAt&&!(function(f,m,y){const g=Mv(f,m,y);return f.inclusive?g>=0:g>0})(s.endAt,ou(s),o))})(r,e)}function OI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iA(r){return(e,n)=>{let s=!1;for(const o of ou(r)){const u=xI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function xI(r,e,n){const s=r.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?zo(y,g):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Mt(Te.comparator);function Gr(){return MI}const rA=new Mt(Te.comparator);function iu(...r){let e=rA;for(const n of r)e=e.insert(n.key,n);return e}function sA(r){let e=rA;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Aa(){return lu()}function aA(){return lu()}function lu(){return new Ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const VI=new Mt(Te.comparator),LI=new tn(Te.comparator);function $e(...r){let e=LI;for(const n of r)e=e.add(n);return e}const UI=new tn(Xe);function PI(){return UI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function oA(r){return{integerValue:""+r}}function kI(r,e){return uI(e)?oA(e):Vp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function zI(r,e,n){return r instanceof Vh?(function(o,u){const f={fields:{[H0]:{stringValue:j0},[F0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=nf(u)),u&&(f.fields[q0]=u),{mapValue:f}})(n,e):r instanceof gu?uA(r,e):r instanceof yu?cA(r,e):(function(o,u){const f=lA(o,u),m=Pv(f)+Pv(o.Ae);return Jm(f)&&Jm(o.Ae)?oA(m):Vp(o.serializer,m)})(r,e)}function BI(r,e,n){return r instanceof gu?uA(r,e):r instanceof yu?cA(r,e):n}function lA(r,e){return r instanceof Lh?(function(s){return Jm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Vh extends af{}class gu extends af{constructor(e){super(),this.elements=e}}function uA(r,e){const n=hA(e);for(const s of r.elements)n.some((o=>gr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yu extends af{constructor(e){super(),this.elements=e}}function cA(r,e){let n=hA(e);for(const s of r.elements)n=n.filter((o=>!gr(o,s)));return{arrayValue:{values:n}}}class Lh extends af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Pv(r){return qt(r.integerValue||r.doubleValue)}function hA(r){return Op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function jI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof gu&&o instanceof gu||s instanceof yu&&o instanceof yu?ko(s.elements,o.elements,gr):s instanceof Lh&&o instanceof Lh?gr(s.Ae,o.Ae):s instanceof Vh&&o instanceof Vh})(r.transform,e.transform)}class HI{constructor(e,n){this.version=e,this.transformResults=n}}class Hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class of{}function fA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mA(r.key,Hr.none()):new Iu(r.key,r.data,Hr.none());{const n=r.data,s=Ci.empty();let o=new tn(En.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Va(r.key,s,new qi(o.toArray()),Hr.none())}}function qI(r,e,n){r instanceof Iu?(function(o,u,f){const m=o.value.clone(),y=zv(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Va?(function(o,u,f){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=zv(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(dA(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function uu(r,e,n,s){return r instanceof Iu?(function(u,f,m,y){if(!gh(u.precondition,f))return m;const g=u.value.clone(),v=Bv(u.fieldTransforms,y,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Va?(function(u,f,m,y){if(!gh(u.precondition,f))return m;const g=Bv(u.fieldTransforms,y,f),v=f.data;return v.setAll(dA(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,m){return gh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function FI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=lA(s.transform,o||null);u!=null&&(n===null&&(n=Ci.empty()),n.set(s.field,u))}return n||null}function kv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,((u,f)=>jI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Iu extends of{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Va extends of{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dA(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function zv(r,e,n){const s=new Map;it(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,BI(f,m,n[o]))}return s}function Bv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,zI(u,f,e))}return s}class mA extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GI extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=aA();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=fA(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((n,s)=>kv(n,s)))&&ko(this.baseMutations,e.baseMutations,((n,s)=>kv(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){it(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return VI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Je;function XI(r){switch(r){case ee.OK:return we(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function pA(r){if(r===void 0)return Fr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case $t.OK:return ee.OK;case $t.CANCELLED:return ee.CANCELLED;case $t.UNKNOWN:return ee.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ee.INTERNAL;case $t.UNAVAILABLE:return ee.UNAVAILABLE;case $t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case $t.NOT_FOUND:return ee.NOT_FOUND;case $t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case $t.ABORTED:return ee.ABORTED;case $t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case $t.DATA_LOSS:return ee.DATA_LOSS;default:return we(39323,{code:r})}}(Je=$t||($t={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Ps([4294967295,4294967295],0);function jv(r){const e=$I().encode(r),n=new I0;return n.update(e),new Uint8Array(n.digest())}function Hv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ps([n,s],0),new Ps([o,u],0)]}class Up{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ps.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ps.fromNumber(s)));return o.compare(WI)===1&&(o=new Ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jv(e),[s,o]=Hv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Up(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=jv(e),[s,o]=Hv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lf(Ne.min(),o,new Mt(Xe),Gr(),$e())}}class Nu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Nu(s,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class gA{constructor(e,n){this.targetId=e,this.Ce=n}}class yA{constructor(e,n,s=vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class qv{constructor(){this.ve=0,this.Fe=Fv(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}})),new Nu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Fv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class JI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gr(),this.He=rh(),this.Je=rh(),this.Ze=new Mt(Xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ep(u))if(s===0){const f=new Te(u.path);this.et(n,f,Rn.newNoDocument(f,Ne.min()))}else it(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Hs(s).toUint8Array()}catch(y){if(y instanceof B0)return Po("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Up(f,o,u)}catch(y){return Po(y instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&ep(m.target)){const y=new Te(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Rn.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=$e();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new lf(e,n,this.Ze,this.je,s);return this.je=Gr(),this.He=rh(),this.Je=rh(),this.Ze=new Mt(Xe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new qv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new tn(Xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new tn(Xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new Mt(Te.comparator)}function Fv(){return new Mt(Te.comparator)}const ZI={asc:"ASCENDING",desc:"DESCENDING"},e2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"};class n2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(r,e){return r.useProto3Json||tf(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _A(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function i2(r,e){return Uh(r,e.toTimestamp())}function dr(r){return it(!!r,49232),Ne.fromTimestamp((function(n){const s=js(n);return new bt(s.seconds,s.nanos)})(r))}function Pp(r,e){return rp(r,e).canonicalString()}function rp(r,e){const n=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function EA(r){const e=Tt.fromString(r);return it(bA(e),10190,{key:e.toString()}),e}function sp(r,e){return Pp(r.databaseId,e.path)}function Rm(r,e){const n=EA(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Te(TA(n))}function vA(r,e){return Pp(r.databaseId,e)}function r2(r){const e=EA(r);return e.length===4?Tt.emptyPath():TA(e)}function ap(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TA(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Gv(r,e,n){return{name:sp(r,e),fields:n.value.mapValue.fields}}function s2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(it(v===void 0||typeof v=="string",58123),vn.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),vn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const v=g.code===void 0?ee.UNKNOWN:pA(g.code);return new me(v,g.message||"")})(f);n=new yA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rm(r,s.document.name),u=dr(s.document.updateTime),f=s.document.createTime?dr(s.document.createTime):Ne.min(),m=new Ci({mapValue:{fields:s.document.fields}}),y=Rn.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new yh(g,v,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rm(r,s.document),u=s.readTime?dr(s.readTime):Ne.min(),f=Rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rm(r,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new QI(o,u),m=s.targetId;n=new gA(m,f)}}return n}function a2(r,e){let n;if(e instanceof Iu)n={update:Gv(r,e.key,e.value)};else if(e instanceof mA)n={delete:sp(r,e.key)};else if(e instanceof Va)n={update:Gv(r,e.key,e.data),updateMask:p2(e.fieldMask)};else{if(!(e instanceof GI))return we(16599,{dt:e.type});n={verify:sp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:i2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(r,e.precondition)),n}function o2(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?dr(o.updateTime):dr(u);return f.isEqual(Ne.min())&&(f=dr(u)),new HI(f,o.transformResults||[])})(n,e)))):[]}function l2(r,e){return{documents:[vA(r,e.path)]}}function u2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vA(r,o);const u=(function(g){if(g.length!==0)return SA(Yi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((v=>(function(O){return{field:Ro(O.field),direction:f2(O.dir)}})(v)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ip(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function c2(r){let e=r2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){it(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(A){const O=AA(A);return O instanceof Yi&&$0(O)?O.getFilters():[O]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((O=>(function(P){return new Mh(Co(P.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(O)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let O;return O=typeof A=="object"?A.value:A,tf(O)?null:O})(n.limit));let y=null;n.startAt&&(y=(function(A){const O=!!A.before,Y=A.values||[];return new xh(Y,O)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const O=!A.before,Y=A.values||[];return new xh(Y,O)})(n.endAt)),II(e,o,f,u,m,"F",y,g)}function h2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Co(n.unaryFilter.field);return Wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(n.unaryFilter.field);return Wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Co(n.unaryFilter.field);return Wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Wt.create(Co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Yi.create(n.compositeFilter.filters.map((s=>AA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function f2(r){return ZI[r]}function d2(r){return e2[r]}function m2(r){return t2[r]}function Ro(r){return{fieldPath:r.canonicalString()}}function Co(r){return En.fromServerFormat(r.fieldPath)}function SA(r){return r instanceof Wt?(function(n){if(n.op==="=="){if(xv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(Ov(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xv(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(Ov(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:d2(n.op),value:n.value}}})(r):r instanceof Yi?(function(n){const s=n.getFilters().map((o=>SA(o)));return s.length===1?s[0]:{compositeFilter:{op:m2(n.op),filters:s}}})(r):we(54877,{filter:r})}function p2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function bA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function wA(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,s,o,u=Ne.min(),f=Ne.min(),m=vn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.yt=e}}function y2(r){const e=c2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Sn=new E2}addToCollectionParentIndex(e,n){return this.Sn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Bs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class E2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new tn(Tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new tn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RA=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(RA,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jo(0)}static ar(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="LruGarbageCollector",v2=1048576;function Qv([r,e],[n,s]){const o=Xe(r,n);return o===0?Xe(e,s):o}class T2{constructor(e){this.Pr=e,this.buffer=new tn(Qv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Qv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(Yv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?de(Yv,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Ar(3e5)}))}}class S2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(ef.ce);const s=new T2(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Kv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,y,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(g=Date.now(),bo()<=Qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function b2(r,e){return new S2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.changes=new Ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&uu(s.mutation,o,qi.empty(),bt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const o=Aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=iu();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Gr();const f=lu(),m=(function(){return lu()})();return n.forEach(((y,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Va)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),uu(v.mutation,g,v.mutation.getFieldMask(),bt.now())):f.set(g.key,qi.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,v)=>f.set(g,v))),n.forEach(((g,v)=>m.set(g,new R2(v,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new Mt(((f,m)=>f-m)),u=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let v=s.get(y)||qi.empty();v=m.applyToLocalView(g,v),s.set(y,v);const A=(o.get(m.batchId)||$e()).add(y);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,v=y.value,A=aA();v.forEach((O=>{if(!u.has(O)){const Y=fA(n.get(O),s.get(O));Y!==null&&A.set(O,Y),u=u.add(O)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return NI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Aa());let m=fu,y=u;return f.next((g=>te.forEach(g,((v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((O=>{y=y.insert(v,O)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,$e()))).next((v=>({batchId:m,changes:sA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let o=iu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=iu();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(y=>{const g=(function(A,O){return new Cu(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((A,O)=>{f=f.insert(A,O)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((y,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,Rn.newInvalidDocument(v)))}));let m=iu();return f.forEach(((y,g)=>{const v=u.get(y);v!==void 0&&uu(v.mutation,g,qi.empty(),bt.now()),sf(n,g)&&(m=m.insert(y,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return te.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:y2(o.bundledQuery),readTime:dr(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.overlays=new Mt(Te.comparator),this.Lr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Aa();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Aa(),u=n.length+1,f=new Te(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Mt(((g,v)=>g-v));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Aa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Aa(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return te.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new YI(n,s));let u=this.Lr.get(n);u===void 0&&(u=$e(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.kr=new tn(an.Kr),this.qr=new tn(an.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new an(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new an(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Te(new Tt([])),s=new an(n,e),o=new an(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new Tt([])),s=new an(n,e),o=new an(n,e+1);let u=$e();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new an(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class an{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||Xe(e.Hr,n.Hr)}static Ur(e,n){return Xe(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new tn(an.Kr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new KI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new an(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Np:this.Yn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new an(n,0),o=new an(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new tn(Xe);return n.forEach((o=>{const u=new an(o,0),f=new an(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),te.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const f=new an(new Te(u),0);let m=new tn(Xe);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)}),f),te.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return te.forEach(n.mutations,(o=>{const u=new an(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new an(n,0),o=this.Jr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.ti=e,this.docs=(function(){return new Mt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let s=Gr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Rn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Gr();const f=n.path,m=new Te(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:v}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||sI(rI(v),s)<=0||(o.has(v.key)||sf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ni(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new M2(this)}getSize(e){return te.resolve(this.size)}}class M2 extends w2{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.persistence=e,this.ri=new Ma((n=>xp(n)),Mp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new kp,this.targetCount=0,this.oi=jo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),te.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.lr(n),te.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this._i={},this.overlays={},this.ai=new ef(0),this.ui=!1,this.ui=!0,this.ci=new D2,this.referenceDelegate=e(this),this.li=new V2(this),this.indexManager=new _2,this.remoteDocumentCache=(function(o){return new x2(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new g2(n),this.Pi=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new O2(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new L2(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return te.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class L2 extends oI{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new kp,this.Ai=null}static Vi(e){return new zp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,(s=>{const o=Te.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.fi=new Ma((s=>cI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=b2(this,n)}static Vi(e,n){return new Ph(e,n)}Ti(){}Ii(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return te.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ne.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),te.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}wr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=$e(),o=$e();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wR()?8:lI(In())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new U2;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(bo()<=Qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(bo()<=Qe.DEBUG&&de("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(bo()<=Qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):te.resolve())}gs(e,n){if(Uv(n))return te.resolve(null);let s=fr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),s=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=$e(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const g=this.bs(n,m);return this.Ss(n,g,f,y.readTime)?this.gs(e,np(n,null,"F")):this.Ds(e,g,n,y)}))))})))))}ps(e,n,s,o){return Uv(n)||o.isEqual(Ne.min())?te.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?te.resolve(null):(bo()<=Qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.Ds(e,f,n,iI(o,fu)).next((m=>m)))}))}bs(e,n){let s=new tn(iA(e));return n.forEach(((o,u)=>{sf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return bo()<=Qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",wo(n)),this.fs.getDocumentsMatchingQuery(e,n,Bs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",k2=3e8;class z2{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Mt(Xe),this.Fs=new Ma((u=>xp(u)),Mp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function B2(r,e,n,s){return new z2(r,e,n,s)}async function IA(r,e){const n=xe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=$e();for(const g of o){f.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}return n.localDocuments.getDocuments(s,y).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function j2(r,e){const n=xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,v){const A=g.batch,O=A.keys();let Y=te.resolve();return O.forEach((P=>{Y=Y.next((()=>v.getEntry(y,P))).next((X=>{const F=g.docVersions.get(P);it(F!==null,48541),X.version.compareTo(F)<0&&(A.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),v.addEntry(X)))}))})),Y.next((()=>m.mutationQueue.removeMutationBatch(y,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=$e();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function NA(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function H2(r,e){const n=xe(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((v,A)=>{const O=o.get(A);if(!O)return;m.push(n.li.removeMatchingKeys(u,v.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,v.addedDocuments,A))));let Y=O.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?Y=Y.withResumeToken(vn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(v.resumeToken,s)),o=o.insert(A,Y),(function(X,F,ce){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=k2?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(O,Y,v)&&m.push(n.li.updateTargetData(u,Y))}));let y=Gr(),g=$e();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(q2(u,f,e.documentUpdates).next((v=>{y=v.Bs,g=v.Ls}))),!s.isEqual(Ne.min())){const v=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.vs=o,u)))}function q2(r,e,n){let s=$e(),o=$e();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Gr();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ne.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):de(jp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function F2(r,e){const n=xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function G2(r,e){const n=xe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Ms(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function op(r,e,n){const s=xe(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Xo(f))throw f;de(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Xv(r,e,n){const s=xe(r);let o=Ne.min(),u=$e();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,v){const A=xe(y),O=A.Fs.get(v);return O!==void 0?te.resolve(A.vs.get(O)):A.li.getTargetData(g,v)})(s,f,fr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Ne.min(),n?u:$e()))).next((m=>(K2(s,OI(e),m),{documents:m,ks:u})))))}function K2(r,e,n){let s=r.Ms.get(e)||Ne.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class $v{constructor(){this.activeTargetIds=PI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y2{constructor(){this.vo=new $v,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new $v,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="ConnectivityMonitor";class Jv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(Wv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(Wv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function lp(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",X2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=lp(),m=this.Qo(e,n.toUriEncodedString());de(Cm,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:g}=new URL(m),v=Go(g);return this.zo(e,m,y,s,v).then((A=>(de(Cm,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Po(Cm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=X2[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection",Ql=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Io extends $2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Io.c_){const e=x0();Ql(e,O0.STAT_EVENT,(n=>{n.stat===Xm.PROXY?de(bn,"STAT_EVENT: detected buffering proxy"):n.stat===Xm.NOPROXY&&de(bn,"STAT_EVENT: detected no buffering proxy")})),Io.c_=!0}}zo(e,n,s,o,u){const f=lp();return new Promise(((m,y)=>{const g=new N0;g.setWithCredentials(!0),g.listenOnce(D0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case dh.NO_ERROR:const A=g.getResponseJson();de(bn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case dh.TIMEOUT:de(bn,`RPC '${e}' ${f} timed out`),y(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const O=g.getStatus();if(de(bn,`RPC '${e}' ${f} failed with status:`,O,"response text:",g.getResponseText()),O>0){let Y=g.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const P=Y==null?void 0:Y.error;if(P&&P.status&&P.message){const X=(function(ce){const ge=ce.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ge)>=0?ge:ee.UNKNOWN})(P.status);y(new me(X,P.message))}else y(new me(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new me(ee.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(bn,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);de(bn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=lp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");de(bn,`Creating RPC '${e}' stream ${o}: ${g}`,m);const v=f.createWebChannel(g,m);this.I_(v);let A=!1,O=!1;const Y=new W2({Ho:P=>{O?de(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(de(bn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),A=!0),de(bn,`RPC '${e}' stream ${o} sending:`,P),v.send(P))},Jo:()=>v.close()});return Ql(v,nu.EventType.OPEN,(()=>{O||(de(bn,`RPC '${e}' stream ${o} transport opened.`),Y.i_())})),Ql(v,nu.EventType.CLOSE,(()=>{O||(O=!0,de(bn,`RPC '${e}' stream ${o} transport closed`),Y.o_(),this.E_(v))})),Ql(v,nu.EventType.ERROR,(P=>{O||(O=!0,Po(bn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),Y.o_(new me(ee.UNAVAILABLE,"The operation could not be completed")))})),Ql(v,nu.EventType.MESSAGE,(P=>{var X;if(!O){const F=P.data[0];it(!!F,16349);const ce=F,ge=(ce==null?void 0:ce.error)||((X=ce[0])==null?void 0:X.error);if(ge){de(bn,`RPC '${e}' stream ${o} received error:`,ge);const fe=ge.status;let _e=(function(R){const b=$t[R];if(b!==void 0)return pA(b)})(fe),De=ge.message;_e===void 0&&(_e=ee.INTERNAL,De="Unknown error status: "+fe+" with message "+ge.message),O=!0,Y.o_(new me(_e,De)),v.close()}else de(bn,`RPC '${e}' stream ${o} received:`,F),Y.__(F)}})),Io.u_(),setTimeout((()=>{Y.s_()}),0),Y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return M0()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(r){return new Io(r)}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(r){return new n2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io.c_=!1;class DA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="PersistentStream";class OA{constructor(e,n,s,o,u,f,m,y){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Zv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z2 extends OA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=s2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ne.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ne.min():f.readTime?dr(f.readTime):Ne.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=ap(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=ep(y)?{documents:l2(u,y)}:{query:u2(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_A(u,f.resumeToken);const g=ip(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const g=ip(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=h2(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=ap(this.serializer),n.removeTarget=e,this.K_(n)}}class eN extends OA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o2(e.writeResults,e.commitTime),s=dr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ap(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>a2(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{}class nN extends tN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,rp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ee.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,rp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function iN(r,e,n,s){return new nN(r,e,n,s)}class rN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class sN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{La(this)&&(de(Da,"Restarting streams for network reachability change."),await(async function(y){const g=xe(y);g.Ea.add(4),await Du(g),g.Va.set("Unknown"),g.Ea.delete(4),await cf(g)})(this))}))})),this.Va=new rN(s,o)}}async function cf(r){if(La(r))for(const e of r.Ra)await e(!0)}async function Du(r){for(const e of r.Ra)await e(!1)}function xA(r,e){const n=xe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gp(n)?Fp(n):$o(n).O_()&&qp(n,e))}function Hp(r,e){const n=xe(r),s=$o(n);n.Ia.delete(e),s.O_()&&MA(n,e),n.Ia.size===0&&(s.O_()?s.L_():La(n)&&n.Va.set("Unknown"))}function qp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(r).Z_(e)}function MA(r,e){r.da.$e(e),$o(r).X_(e)}function Fp(r){r.da=new JI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.Va.ua()}function Gp(r){return La(r)&&!$o(r).x_()&&r.Ia.size>0}function La(r){return xe(r).Ea.size===0}function VA(r){r.da=void 0}async function aN(r){r.Va.set("Online")}async function oN(r){r.Ia.forEach(((e,n)=>{qp(r,e)}))}async function lN(r,e){VA(r),Gp(r)?(r.Va.ha(e),Fp(r)):r.Va.set("Unknown")}async function uN(r,e,n){if(r.Va.set("Online"),e instanceof yA&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){de(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(r,s)}else if(e instanceof yh?r.da.Xe(e):e instanceof gA?r.da.st(e):r.da.tt(e),!n.isEqual(Ne.min()))try{const s=await NA(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const v=u.Ia.get(y);if(!v)return;u.Ia.set(y,v.withResumeToken(vn.EMPTY_BYTE_STRING,v.snapshotVersion)),MA(u,y);const A=new Ms(v.target,y,g,v.sequenceNumber);qp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){de(Da,"Failed to raise snapshot:",s),await kh(r,s)}}async function kh(r,e,n){if(!Xo(e))throw e;r.Ea.add(1),await Du(r),r.Va.set("Offline"),n||(n=()=>NA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(Da,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await cf(r)}))}function LA(r,e){return e().catch((n=>kh(r,n,e)))}async function hf(r){const e=xe(r),n=Fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;cN(e);)try{const o=await F2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,hN(e,o)}catch(o){await kh(e,o)}UA(e)&&PA(e)}function cN(r){return La(r)&&r.Ta.length<10}function hN(r,e){r.Ta.push(e);const n=Fs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function UA(r){return La(r)&&!Fs(r).x_()&&r.Ta.length>0}function PA(r){Fs(r).start()}async function fN(r){Fs(r).ra()}async function dN(r){const e=Fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function mN(r,e,n){const s=r.Ta.shift(),o=Lp.from(s,e,n);await LA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await hf(r)}async function pN(r,e){e&&Fs(r).Y_&&await(async function(s,o){if((function(f){return XI(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Fs(s).B_(),await LA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hf(s)}})(r,e),UA(r)&&PA(r)}async function eT(r,e){const n=xe(r);n.asyncQueue.verifyOperationInProgress(),de(Da,"RemoteStore received new credentials");const s=La(n);n.Ea.add(3),await Du(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function gN(r,e){const n=xe(r);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await Du(n),n.Va.set("Unknown"))}function $o(r){return r.ma||(r.ma=(function(n,s,o){const u=xe(n);return u.sa(),new Z2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:aN.bind(null,r),Yo:oN.bind(null,r),t_:lN.bind(null,r),J_:uN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Gp(r)?Fp(r):r.Va.set("Unknown")):(await r.ma.stop(),VA(r))}))),r.ma}function Fs(r){return r.fa||(r.fa=(function(n,s,o){const u=xe(n);return u.sa(),new eN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fN.bind(null,r),t_:pN.bind(null,r),ta:dN.bind(null,r),na:mN.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await hf(r)):(await r.fa.stop(),r.Ta.length>0&&(de(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(r,e){if(Fr("AsyncQueue",`${e}: ${r}`),Xo(r))return new me(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=iu(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new No;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.ga=new Mt(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ho{constructor(e,n,s,o,u,f,m,y,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Ho(e,n,No.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _N{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=nT(),u.forEach(((f,m)=>{for(const y of m.ba)y.onError(s)}))})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function nT(){return new Ma((r=>nA(r)),rf)}async function EN(r,e){const n=xe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new yN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yp(f,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Qp(n)}async function vN(r,e){const n=xe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TN(r,e){const n=xe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Qp(n)}function AN(r,e,n){const s=xe(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Qp(r){r.Ca.forEach((e=>{e.next()}))}var up,iT;(iT=up||(up={})).Ma="default",iT.Cache="cache";class SN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class bN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.eu=iA(e),this.tu=new No(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new tT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,A)=>{const O=o.get(v),Y=sf(this.query,A)?A:null,P=!!O&&this.mutatedKeys.has(O.key),X=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let F=!1;O&&Y?O.data.isEqual(Y.data)?P!==X&&(s.track({type:3,doc:Y}),F=!0):this.su(O,Y)||(s.track({type:2,doc:Y}),F=!0,(y&&this.eu(Y,y)>0||g&&this.eu(Y,g)<0)&&(m=!0)):!O&&Y?(s.track({type:0,doc:Y}),F=!0):O&&!Y&&(s.track({type:1,doc:O}),F=!0,(y||g)&&(m=!0)),F&&(Y?(f=f.add(Y),u=X?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((v,A)=>(function(Y,P){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:F})}};return X(Y)-X(P)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Xa;return this.Xa=y,f.length!==0||g?{snapshot:new Ho(this.query,e.tu,u,f,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new zA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new kA(s))})),n}cu(e){this.Za=e.ks,this.Ya=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xp="SyncEngine";class wN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RN{constructor(e){this.key=e,this.hu=!1}}class CN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ma((m=>nA(m)),rf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Mt(Te.comparator),this.Au=new Map,this.Vu=new kp,this.du={},this.mu=new Map,this.fu=jo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IN(r,e,n=!0){const s=GA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await BA(s,e,n,!0),o}async function NN(r,e){const n=GA(r);await BA(n,e,!0,!1)}async function BA(r,e,n,s){const o=await G2(r.localStore,fr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await DN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&xA(r.remoteStore,o),m}async function DN(r,e,n,s,o){r.pu=(A,O,Y)=>(async function(X,F,ce,ge){let fe=F.view.ru(ce);fe.Ss&&(fe=await Xv(X.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,fe))));const _e=ge&&ge.targetChanges.get(F.targetId),De=ge&&ge.targetMismatches.get(F.targetId)!=null,Re=F.view.applyChanges(fe,X.isPrimaryClient,_e,De);return sT(X,F.targetId,Re.au),Re.snapshot})(r,A,O,Y);const u=await Xv(r.localStore,e,!0),f=new bN(e,u.ks),m=f.ru(u.documents),y=Nu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,y);sT(r,n,g.au);const v=new wN(e,n,f);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function ON(r,e,n){const s=xe(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!rf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),cp(s,o.targetId)})).catch(Qo)):(cp(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function xN(r,e){const n=xe(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function MN(r,e,n){const s=BN(r);try{const o=await(function(f,m){const y=xe(f),g=bt.now(),v=m.reduce(((Y,P)=>Y.add(P.key)),$e());let A,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let P=Gr(),X=$e();return y.xs.getEntries(Y,v).next((F=>{P=F,P.forEach(((ce,ge)=>{ge.isValidDocument()||(X=X.add(ce))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Y,P))).next((F=>{A=F;const ce=[];for(const ge of m){const fe=FI(ge,A.get(ge.key).overlayedDocument);fe!=null&&ce.push(new Va(ge.key,fe,Y0(fe.value.mapValue),Hr.exists(!0)))}return y.mutationQueue.addMutationBatch(Y,g,ce,m)})).next((F=>{O=F;const ce=F.applyToLocalDocumentSet(A,X);return y.documentOverlayCache.saveOverlays(Y,F.batchId,ce)}))})).then((()=>({batchId:O.batchId,changes:sA(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.du[f.currentUser.toKey()];g||(g=new Mt(Xe)),g=g.insert(m,y),f.du[f.currentUser.toKey()]=g})(s,o.batchId,n),await Ou(s,o.changes),await hf(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function jA(r,e){const n=xe(r);try{const s=await H2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?it(f.hu,14607):o.removedDocuments.size>0&&(it(f.hu,42227),f.hu=!1))})),await Ou(n,s,e)}catch(s){await Qo(s)}}function rT(r,e,n){const s=xe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=xe(f);y.onlineState=m;let g=!1;y.queries.forEach(((v,A)=>{for(const O of A.ba)O.va(m)&&(g=!0)})),g&&Qp(y)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VN(r,e,n){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new Mt(Te.comparator);f=f.insert(u,Rn.newNoDocument(u,Ne.min()));const m=$e().add(u),y=new lf(Ne.min(),new Map,new Mt(Xe),f,m);await jA(s,y),s.Ru=s.Ru.remove(u),s.Au.delete(e),$p(s)}else await op(s.localStore,e,!1).then((()=>cp(s,e,n))).catch(Qo)}async function LN(r,e){const n=xe(r),s=e.batch.batchId;try{const o=await j2(n.localStore,e);qA(n,s,null),HA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Qo(o)}}async function UN(r,e,n){const s=xe(r);try{const o=await(function(f,m){const y=xe(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return y.mutationQueue.lookupMutationBatch(g,m).next((A=>(it(A!==null,37113),v=A.keys(),y.mutationQueue.removeMutationBatch(g,A)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>y.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);qA(s,e,n),HA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ou(s,o)}catch(o){await Qo(o)}}function HA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function qA(r,e,n){const s=xe(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||FA(r,s)}))}function FA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Hp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),$p(r))}function sT(r,e,n){for(const s of n)s instanceof kA?(r.Vu.addReference(s.key,e),PN(r,s)):s instanceof zA?(de(Xp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||FA(r,s.key)):we(19791,{wu:s})}function PN(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(de(Xp,"New document in limbo: "+n),r.Eu.add(s),$p(r))}function $p(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Te(Tt.fromString(e)),s=r.fu.next();r.Au.set(s,new RN(n)),r.Ru=r.Ru.insert(n,s),xA(r.remoteStore,new Ms(fr(eA(n.path)),s,"TargetPurposeLimboResolution",ef.ce))}}async function Ou(r,e,n){const s=xe(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,e,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Bp.Es(y.targetId,g);u.push(A)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(y,g){const v=xe(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>te.forEach(g,(O=>te.forEach(O.Ts,(Y=>v.persistence.referenceDelegate.addReference(A,O.targetId,Y))).next((()=>te.forEach(O.Is,(Y=>v.persistence.referenceDelegate.removeReference(A,O.targetId,Y)))))))))}catch(A){if(!Xo(A))throw A;de(jp,"Failed to update sequence numbers: "+A)}for(const A of g){const O=A.targetId;if(!A.fromCache){const Y=v.vs.get(O),P=Y.snapshotVersion,X=Y.withLastLimboFreeSnapshotVersion(P);v.vs=v.vs.insert(O,X)}}})(s.localStore,u))}async function kN(r,e){const n=xe(r);if(!n.currentUser.isEqual(e)){de(Xp,"User change. New user:",e.toKey());const s=await IA(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new me(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Ns)}}function zN(r,e){const n=xe(r),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let o=$e();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function GA(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VN.bind(null,e),e.Pu.J_=TN.bind(null,e.eventManager),e.Pu.yu=AN.bind(null,e.eventManager),e}function BN(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UN.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return B2(this.persistence,new P2,e.initialUser,this.serializer)}Cu(e){return new CA(zp.Vi,this.serializer)}Du(e){return new Y2}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class jN extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new A2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new CA((s=>Ph.Vi(s,n)),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kN.bind(null,this.syncEngine),await gN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _N})()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),s=J2(e.databaseInfo);return iN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new sN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>rT(this.syncEngine,n,0)),(function(){return Jv.v()?new Jv:new Q2})())}createSyncEngine(e,n){return(function(o,u,f,m,y,g,v){const A=new CN(o,u,f,m,y,g);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=xe(o);de(Da,"RemoteStore shutting down."),u.Ea.add(5),await Du(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class qN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=wn.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{de(Gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(de(Gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),de(Gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function aT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await FN(r);de(Gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>eT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>eT(e.remoteStore,o))),r._onlineComponents=e}async function FN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Gs,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new zh)}}else de(Gs,"Using default OfflineComponentProvider"),await Nm(r,new jN(void 0));return r._offlineComponents}async function KA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Gs,"Using user provided OnlineComponentProvider"),await aT(r,r._uninitializedComponentsProvider._online)):(de(Gs,"Using default OnlineComponentProvider"),await aT(r,new hp))),r._onlineComponents}function GN(r){return KA(r).then((e=>e.syncEngine))}async function KN(r){const e=await KA(r),n=e.eventManager;return n.onListen=IN.bind(null,e.syncEngine),n.onUnlisten=ON.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xN.bind(null,e.syncEngine),n}function YN(r,e,n={}){const s=new ks;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const v=new HN({next:O=>{v.Nu(),f.enqueueAndForget((()=>vN(u,A))),O.fromCache&&y.source==="server"?g.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(O)},error:O=>g.reject(O)}),A=new SN(m,v,{includeMetadataChanges:!0,Ka:!0});return EN(u,A)})(await KN(r),r.asyncQueue,e,n,s))),s.promise}function QN(r,e){const n=new ks;return r.asyncQueue.enqueueAndForget((async()=>MN(await GN(r),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="ComponentProvider",oT=new Map;function $N(r,e,n,s,o){return new dI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,YA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firestore.googleapis.com",lT=!0;class uT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QA,this.ssl=lT}else this.host=e.host,this.ssl=e.ssl??lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v2)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new KC;switch(s.type){case"firstParty":return new $C(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=oT.get(n);s&&(de(XN,"Removing Datastore"),oT.delete(n),s.terminate())})(this),Promise.resolve()}}function WN(r,e,n,s={}){var g;r=Ih(r,ff);const o=Go(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(v0(`https://${m}`),T0("Firestore",!0)),u.host!==QA&&u.host!==m&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!Ca(y,f)&&(r._setSettings(y),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=wn.MOCK_USER;else{v=gR(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new wn(O)}r._authCredentials=new YC(new L0(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wo(this.firestore,e,this._query)}}class on{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ru(n,on._jsonSchema))return new on(e,s||null,new Te(Tt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:Jt("string",on._jsonSchemaVersion),referencePath:Jt("string")};class zs extends Wo{constructor(e,n,s){super(e,n,eA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Te(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function Dm(r,e,...n){if(r=Pn(r),U0("collection","path",e),r instanceof ff){const s=Tt.fromString(e,...n);return Av(s),new zs(r,null,s)}{if(!(r instanceof on||r instanceof zs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(e,...n));return Av(s),new zs(r.firestore,null,s)}}function JN(r,e,...n){if(r=Pn(r),arguments.length===1&&(e=Ip.newId()),U0("doc","path",e),r instanceof ff){const s=Tt.fromString(e,...n);return Tv(s),new on(r,null,new Te(s))}{if(!(r instanceof on||r instanceof zs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(e,...n));return Tv(s),new on(r.firestore,r instanceof zs?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DA(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&de(cT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;de(cT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",fT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Kp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:fT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Wp extends ff{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new hT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function ZN(r,e){const n=typeof r=="object"?r:w0(),s=typeof r=="string"?r:Dh,o=Rp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=mR("firestore");u&&WN(o,...u)}return o}function XA(r){if(r._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eD(r),r._firestoreClient}function eD(r){var s,o,u,f;const e=r._freezeSettings(),n=$N(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new qN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(y){const g=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ii(vn.fromBase64String(e))}catch(n){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ii(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,Ii._jsonSchema))return Ii.fromBase64String(e.bytes)}}Ii._jsonSchemaVersion="firestore/bytes/1.0",Ii._jsonSchema={type:Jt("string",Ii._jsonSchemaVersion),bytes:Jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:Jt("string",mr._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Gi(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Jt("string",Gi._jsonSchemaVersion),vectorValues:Jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/^__.*__$/;class nD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}function JA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:r})}}class Jp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Bh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(JA(this.dataSource)&&tD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||uf(e)}createContext(e,n,s,o=!1){return new Jp({dataSource:e,methodName:n,targetDoc:s,path:En.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZA(r){const e=r._freezeSettings(),n=uf(r._databaseId);return new iD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function rD(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);nS("Data must be an object, but it was:",f,s);const m=eS(s,f);let y,g;if(u.merge)y=new qi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const O=eg(e,A,n);if(!f.contains(O))throw new me(ee.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);lD(v,O)||v.push(O)}y=new qi(v),g=f.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,g=f.fieldTransforms;return new nD(new Ci(m),y,g)}function sD(r,e,n,s=!1){return Zp(n,r.createContext(s?4:3,e))}function Zp(r,e){if(tS(r=Pn(r)))return nS("Unsupported field value:",e,r),eS(r,e);if(r instanceof WA)return(function(s,o){if(!JA(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=Zp(m,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=bt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof bt){const u=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof mr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ii)return{bytesValue:_A(o.serializer,s._byteString)};if(s instanceof on){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gi)return(function(f,m){const y=f instanceof Gi?f.toArray():f;return{mapValue:{fields:{[G0]:{stringValue:K0},[Oh]:{arrayValue:{values:y.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return Vp(m.serializer,v)}))}}}}}})(s,o);if(wA(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Zh(s)}`)})(r,e)}function eS(r,e){const n={};return z0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(r,((s,o)=>{const u=Zp(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function tS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof mr||r instanceof Ii||r instanceof on||r instanceof WA||r instanceof Gi||wA(r))}function nS(r,e,n){if(!tS(n)||!P0(n)){const s=Zh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function eg(r,e,n){if((e=Pn(e))instanceof $A)return e._internalPath;if(typeof e=="string")return oD(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const aD=new RegExp("[~\\*/\\[\\]]");function oD(r,e,n){if(e.search(aD)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $A(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new me(ee.INVALID_ARGUMENT,m+r+y)}function lD(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Oh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>qt(f.doubleValue)));return new Gi(n)}convertGeoPoint(e){return new mr(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=js(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tt.fromString(e);it(bA(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||Fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD extends uD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}const dT="@firebase/firestore",mT="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hD extends iS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class dD extends tg{}function mD(r,e,...n){let s=[];e instanceof tg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((y=>y instanceof ig)).length,m=u.filter((y=>y instanceof ng)).length;if(f>1||f>0&&m>0)throw new me(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ng extends dD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ng(e,n,s)}_apply(e){const n=this._parse(e);return rS(e._query,n),new Wo(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=ZA(e.firestore);return(function(u,f,m,y,g,v,A){let O;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){gT(A,v);const P=[];for(const X of A)P.push(pT(y,u,X));O={arrayValue:{values:P}}}else O=pT(y,u,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||gT(A,v),O=sD(m,f,A,v==="in"||v==="not-in");return Wt.create(g,v,O)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ig extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)rS(f,y),f=tp(f,y)})(e._query,n),new Wo(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pT(r,e,n){if(typeof(n=Pn(n))=="string"){if(n==="")throw new me(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tA(e)&&n.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tt.fromString(n));if(!Te.isDocumentKey(s))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Dv(r,new Te(s))}if(n instanceof on)return Dv(r,n._key);throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function gT(r,e){if(!Array.isArray(r)||r.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Do extends iS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Do._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:Jt("string",Do._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class _h extends Do{data(e={}){return super.data(e)}}class Oo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ah(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new _h(this._firestore,this._userDataWriter,s.key,s,new ah(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ah(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ah(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:gD(m.type),doc:y,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:Jt("string",Oo._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};function yD(r){r=Ih(r,Wo);const e=Ih(r.firestore,Wp),n=XA(e),s=new cD(e);return fD(r._query),YN(n,r._query).then((o=>new Oo(e,s,r,o)))}function yT(r,e){const n=Ih(r.firestore,Wp),s=JN(r),o=pD(r.converter,e),u=ZA(r.firestore);return _D(n,[rD(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Hr.exists(!1))]).then((()=>s))}function _D(r,e){const n=XA(r);return QN(n,e)}(function(e,n=!0){GC(Ko),Uo(new Ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Wp(new QC(s.getProvider("auth-internal")),new WC(f,s.getProvider("app-check-internal")),mI(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Us(dT,mT,e),Us(dT,mT,"esm2020")})();function sS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=sS,aS=new bu("auth","Firebase",sS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new bp("@firebase/auth");function vD(r,...e){jh.logLevel<=Qe.WARN&&jh.warn(`Auth (${Ko}): ${r}`,...e)}function Eh(r,...e){jh.logLevel<=Qe.ERROR&&jh.error(`Auth (${Ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r,...e){throw sg(r,...e)}function Ki(r,...e){return sg(r,...e)}function rg(r,e,n){const s={...ED(),[e]:n};return new bu("auth","Firebase",s).create(e,{appName:r.name})}function wa(r){return rg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TD(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&yr(r,"argument-error"),rg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return aS.create(r,...e)}function Ie(r,e,...n){if(!r)throw sg(e,...n)}function Br(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Eh(e),new Error(e)}function Kr(r,e){r||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function AD(){return _T()==="http:"||_T()==="https:"}function _T(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AD()||AR()||"connection"in navigator)?navigator.onLine:!0}function bD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=ER()||SR()}get(){return SD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,e){Kr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CD=new xu(3e4,6e4);function og(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Jo(r,e,n,s,o={}){return lS(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=wu({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return TR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Go(r.emulatorConfig.host)&&(g.credentials="include"),oS.fetch()(await uS(r,r.config.apiHost,n,m),g)})}async function lS(r,e,n){r._canInitEmulator=!1;const s={...wD,...e};try{const o=new ND(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw oh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw oh(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw oh(r,"user-disabled",f);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw rg(r,v,g);yr(r,v)}}catch(o){if(o instanceof Yr)throw o;yr(r,"network-request-failed",{message:String(o)})}}async function ID(r,e,n,s,o={}){const u=await Jo(r,e,n,s,o);return"mfaPendingCredential"in u&&yr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function uS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?ag(r.config,o):`${r.config.apiScheme}://${o}`;return RD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class ND{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ki(this.auth,"network-request-failed")),CD.get())})}}function oh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ki(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(r,e){return Jo(r,"POST","/v1/accounts:delete",e)}async function Hh(r,e){return Jo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OD(r,e=!1){const n=Pn(r),s=await n.getIdToken(e),o=lg(s);Ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:cu(Om(o.auth_time)),issuedAtTime:cu(Om(o.iat)),expirationTime:cu(Om(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Om(r){return Number(r)*1e3}function lg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=g0(n);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ET(r){const e=lg(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Yr&&xD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(r){var A;const e=r.auth,n=await r.getIdToken(),s=await _u(r,Hh(e,{idToken:n}));Ie(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(A=o.providerUserInfo)!=null&&A.length?cS(o.providerUserInfo):[],f=LD(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=m?y:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function VD(r){const e=Pn(r);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(r,e){const n=await lS(r,{},async()=>{const s=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await uS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&Go(r.emulatorConfig.host)&&(y.credentials="include"),oS.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PD(r,e){return Jo(r,"POST","/v2/accounts:revokeToken",og(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ET(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=ET(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await UD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new xo;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ie(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new MD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OD(this,e)}reload(){return VD(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await _u(this,DD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:A,emailVerified:O,isAnonymous:Y,providerData:P,stsTokenManager:X}=n;Ie(A&&X,e,"internal-error");const F=xo.fromJSON(this.name,X);Ie(typeof A=="string",e,"internal-error"),Ns(s,e.name),Ns(o,e.name),Ie(typeof O=="boolean",e,"internal-error"),Ie(typeof Y=="boolean",e,"internal-error"),Ns(u,e.name),Ns(f,e.name),Ns(m,e.name),Ns(y,e.name),Ns(g,e.name),Ns(v,e.name);const ce=new Fi({uid:A,auth:e,email:o,emailVerified:O,displayName:s,isAnonymous:Y,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:v});return P&&Array.isArray(P)&&(ce.providerData=P.map(ge=>({...ge}))),y&&(ce._redirectEventId=y),ce}static async _fromIdTokenResponse(e,n,s=!1){const o=new xo;o.updateFromServerResponse(n);const u=new Fi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await qh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ie(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new xo;m.updateFromIdToken(s);const y=new Fi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;function jr(r){Kr(r instanceof Function,"Expected a class definition");let e=vT.get(r);return e?(Kr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,vT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hS.type="NONE";const TT=hS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r,e,n){return`firebase:${r}:${e}:${n}`}class Mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hh(this.auth,{idToken:e}).catch(()=>{});return n?Fi._fromGetAccountInfoResponse(this.auth,n,e):null}return Fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Mo(jr(TT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||jr(TT);const f=vh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let A;if(typeof v=="string"){const O=await Hh(e,{idToken:v}).catch(()=>{});if(!O)break;A=await Fi._fromGetAccountInfoResponse(e,O,v)}else A=Fi._fromJSON(e,v);g!==u&&(m=A),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Mo(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yS(e))return"Blackberry";if(_S(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||mS(e))&&!e.includes("edge/"))return"Chrome";if(gS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fS(r=In()){return/firefox\//i.test(r)}function dS(r=In()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mS(r=In()){return/crios\//i.test(r)}function pS(r=In()){return/iemobile/i.test(r)}function gS(r=In()){return/android/i.test(r)}function yS(r=In()){return/blackberry/i.test(r)}function _S(r=In()){return/webos/i.test(r)}function ug(r=In()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kD(r=In()){var e;return ug(r)&&!!((e=window.navigator)!=null&&e.standalone)}function zD(){return bR()&&document.documentMode===10}function ES(r=In()){return ug(r)||gS(r)||_S(r)||yS(r)||/windows phone/i.test(r)||pS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(r,e=[]){let n;switch(r){case"Browser":n=AT(In());break;case"Worker":n=`${AT(In())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(r,e={}){return Jo(r,"GET","/v2/passwordPolicy",og(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=6;class qD{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ST(this),this.idTokenSubscription=new ST(this),this.beforeStateQueue=new BD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hh(this,{idToken:e}),s=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Hi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===m)&&(y!=null&&y.user)&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(wa(this));const n=e?Pn(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jD(this),n=new qD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await PD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function df(r){return Pn(r)}class ST{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GD(r){cg=r}function KD(r){return cg.loadJS(r)}function YD(){return cg.gapiScript}function QD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(r,e){const n=Rp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ca(u,e??{}))return o;yr(o,"already-initialized")}return n.initialize({options:e})}function $D(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(jr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function WD(r,e,n){const s=df(r);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=TS(e),{host:f,port:m}=JD(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(Ca(g,s.config.emulator)&&Ca(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Go(f)?(v0(`${u}//${f}${y}`),T0("Auth",!0)):ZD()}function TS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function JD(r){const e=TS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:bT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:bT(f)}}}function bT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ZD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r,e){return ID(r,"POST","/v1/accounts:signInWithIdp",og(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="http://localhost";class Oa extends AS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Oa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:eO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Mu{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oa._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Mu{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Mu{constructor(){super("twitter.com")}static credential(e,n){return Oa._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return xs.credential(n,s)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fi._fromIdTokenResponse(e,s,o),f=wT(s);return new qo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=wT(s);return new qo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function wT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends Yr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Fh(e,n,s,o)}}function SS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(r,u,e,s):u})}async function tO(r,e,n=!1){const s=await _u(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return qo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(r,e,n=!1){const{auth:s}=r;if(Hi(s.app))return Promise.reject(wa(s));const o="reauthenticate";try{const u=await _u(r,SS(s,o,e,r),n);Ie(u.idToken,s,"internal-error");const f=lg(u.idToken);Ie(f,s,"internal-error");const{sub:m}=f;return Ie(r.uid===m,s,"user-mismatch"),qo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&yr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(r,e,n=!1){if(Hi(r.app))return Promise.reject(wa(r));const s="signIn",o=await SS(r,s,e),u=await qo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(r,e){return Pn(r).setPersistence(e)}function sO(r,e,n,s){return Pn(r).onIdTokenChanged(e,n,s)}function aO(r,e,n){return Pn(r).beforeAuthStateChanged(e,n)}function oO(r,e,n,s){return Pn(r).onAuthStateChanged(e,n,s)}function lO(r){return Pn(r).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1e3,cO=10;class wS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ES(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wS.type="LOCAL";const RS=wS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CS.type="SESSION";const IS=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await hO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=fg("",20);o.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const O=A;if(O.data.eventId===g)switch(O.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(O.data.response);break;default:clearTimeout(v),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function dO(r){pr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function mO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function gO(){return NS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebaseLocalStorageDb",yO=1,Kh="firebaseLocalStorage",OS="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(r,e){return r.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function _O(){const r=indexedDB.deleteDatabase(DS);return new Vu(r).toPromise()}function mp(){const r=indexedDB.open(DS,yO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kh,{keyPath:OS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await _O(),e(await mp()))})})}async function RT(r,e,n){const s=pf(r,!0).put({[OS]:e,value:n});return new Vu(s).toPromise()}async function EO(r,e){const n=pf(r,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function CT(r,e){const n=pf(r,!0).delete(e);return new Vu(n).toPromise()}const vO=800,TO=3;class xS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>TO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(gO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await mO(),!this.activeServiceWorker)return;this.sender=new fO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await RT(e,Gh,"1"),await CT(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>RT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>EO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xS.type="LOCAL";const AO=xS;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r,e){return e?jr(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends AS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SO(r){return iO(r.auth,new dg(r),r.bypassAuthState)}function bO(r){const{auth:e,user:n}=r;return Ie(n,e,"internal-error"),nO(n,new dg(r),r.bypassAuthState)}async function wO(r){const{auth:e,user:n}=r;return Ie(n,e,"internal-error"),tO(n,new dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SO;case"linkViaPopup":case"linkViaRedirect":return wO;case"reauthViaPopup":case"reauthViaRedirect":return bO;default:yr(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new xu(2e3,1e4);async function CO(r,e,n){if(Hi(r.app))return Promise.reject(Ki(r,"operation-not-supported-in-this-environment"));const s=df(r);TD(r,e,hg);const o=MS(s,n);return new Sa(s,"signInViaPopup",e,o).executeNotNull()}class Sa extends VS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RO.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="pendingRedirect",Th=new Map;class NO extends VS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await DO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DO(r,e){const n=MO(e),s=xO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OO(r,e){Th.set(r._key(),e)}function xO(r){return jr(r._redirectPersistence)}function MO(r){return vh(IO,r.config.apiKey,r.name)}async function VO(r,e,n=!1){if(Hi(r.app))return Promise.reject(wa(r));const s=df(r),o=MS(s,e),f=await new NO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=600*1e3;class UO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LO&&this.cachedEventUids.clear(),this.cachedEventUids.has(IT(e))}saveEventToCache(e){this.cachedEventUids.add(IT(e)),this.lastProcessedEventTime=Date.now()}}function IT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(r,e={}){return Jo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BO=/^https?/;async function jO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await kO(r);for(const n of e)try{if(HO(n))return}catch{}yr(r,"unauthorized-domain")}function HO(r){const e=fp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!BO.test(n))return!1;if(zO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new xu(3e4,6e4);function NT(){const r=pr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function FO(r){return new Promise((e,n)=>{var o,u,f;function s(){NT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NT(),n(Ki(r,"network-request-failed"))},timeout:qO.get()})}if((u=(o=pr().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=pr().gapi)!=null&&f.load)s();else{const m=QD("iframefcb");return pr()[m]=()=>{gapi.load?s():n(Ki(r,"network-request-failed"))},KD(`${YD()}?onload=${m}`).catch(y=>n(y))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function GO(r){return Ah=Ah||FO(r),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new xu(5e3,15e3),YO="__/auth/iframe",QO="emulator/auth/iframe",XO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WO(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ag(e,QO):`https://${r.config.authDomain}/${YO}`,s={apiKey:e.apiKey,appName:r.name,v:Ko},o=$O.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${wu(s).slice(1)}`}async function JO(r){const e=await GO(r),n=pr().gapi;return Ie(n,r,"internal-error"),e.open({where:document.body,url:WO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ki(r,"network-request-failed"),m=pr().setTimeout(()=>{u(f)},KO.get());function y(){pr().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ex=500,tx=600,nx="_blank",ix="http://localhost";class DT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rx(r,e,n,s=ex,o=tx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...ZO,width:s.toString(),height:o.toString(),top:u,left:f},g=In().toLowerCase();n&&(m=mS(g)?nx:n),fS(g)&&(e=e||ix,y.scrollbars="yes");const v=Object.entries(y).reduce((O,[Y,P])=>`${O}${Y}=${P},`,"");if(kD(g)&&m!=="_self")return sx(e||"",m),new DT(null);const A=window.open(e||"",m,v);Ie(A,r,"popup-blocked");try{A.focus()}catch{}return new DT(A)}function sx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="__/auth/handler",ox="emulator/auth/handler",lx=encodeURIComponent("fac");async function OT(r,e,n,s,o,u){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ko,eventId:o};if(e instanceof hg){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",OR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))f[v]=A}if(e instanceof Mu){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const y=await r._getAppCheckToken(),g=y?`#${lx}=${encodeURIComponent(y)}`:"";return`${ux(r)}?${wu(m).slice(1)}${g}`}function ux({config:r}){return r.emulator?ag(r,ox):`https://${r.authDomain}/${ax}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class cx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IS,this._completeRedirectFn=VO,this._overrideRedirectResult=OO}async _openPopup(e,n,s,o){var f;Kr((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await OT(e,n,s,fp(),o);return rx(e,u,fg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await OT(e,n,s,fp(),o);return dO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Kr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JO(e),s=new UO(e);return n.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[xm];u!==void 0&&n(!!u),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ES()||dS()||ug()}}const hx=cx;var xT="@firebase/auth",MT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mx(r){Uo(new Ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ie(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(r)},g=new FD(s,o,u,y);return $D(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Uo(new Ia("auth-internal",e=>{const n=df(e.getProvider("auth").getImmediate());return(s=>new fx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(xT,MT,dx(r)),Us(xT,MT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=300,gx=E0("authIdTokenMaxAge")||px;let VT=null;const yx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>gx)return;const o=n==null?void 0:n.token;VT!==o&&(VT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _x(r=w0()){const e=Rp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=XD(r,{popupRedirectResolver:hx,persistence:[AO,RS,IS]}),s=E0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=yx(u.toString());aO(n,f,()=>f(n.currentUser)),sO(n,m=>f(m))}}const o=y0("auth");return o&&WD(n,`http://${o}`),n}function Ex(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}GD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Ex().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mx("Browser");const vx={apiKey:"AIzaSyCkiPyC3xawvqek2ZUJPhLIupLKwRwW4t0",authDomain:"studio-8109133561-1eb90.firebaseapp.com",projectId:"studio-8109133561-1eb90",storageBucket:"studio-8109133561-1eb90.firebasestorage.app",messagingSenderId:"601247128838",appId:"1:601247128838:web:1bd0d3f4e026297d025287"},US=b0(vx),Mm=ZN(US),Sh=_x(US);rO(Sh,RS);/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:PS,setPrototypeOf:LT,isFrozen:Tx,getPrototypeOf:Ax,getOwnPropertyDescriptor:Sx}=Object;let{freeze:kn,seal:Ni,create:pp}=Object,{apply:gp,construct:yp}=typeof Reflect<"u"&&Reflect;kn||(kn=function(e){return e});Ni||(Ni=function(e){return e});gp||(gp=function(e,n){for(var s=arguments.length,o=new Array(s>2?s-2:0),u=2;u<s;u++)o[u-2]=arguments[u];return e.apply(n,o)});yp||(yp=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return new e(...s)});const lh=zn(Array.prototype.forEach),bx=zn(Array.prototype.lastIndexOf),UT=zn(Array.prototype.pop),Xl=zn(Array.prototype.push),wx=zn(Array.prototype.splice),bh=zn(String.prototype.toLowerCase),Vm=zn(String.prototype.toString),Lm=zn(String.prototype.match),$l=zn(String.prototype.replace),Rx=zn(String.prototype.indexOf),Cx=zn(String.prototype.trim),ji=zn(Object.prototype.hasOwnProperty),Un=zn(RegExp.prototype.test),Wl=Ix(TypeError);function zn(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return gp(r,e,s)}}function Ix(r){return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return yp(r,n)}}function qe(r,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bh;LT&&LT(r,null);let s=e.length;for(;s--;){let o=e[s];if(typeof o=="string"){const u=n(o);u!==o&&(Tx(e)||(e[s]=u),o=u)}r[o]=!0}return r}function Nx(r){for(let e=0;e<r.length;e++)ji(r,e)||(r[e]=null);return r}function cr(r){const e=pp(null);for(const[n,s]of PS(r))ji(r,n)&&(Array.isArray(s)?e[n]=Nx(s):s&&typeof s=="object"&&s.constructor===Object?e[n]=cr(s):e[n]=s);return e}function Jl(r,e){for(;r!==null;){const s=Sx(r,e);if(s){if(s.get)return zn(s.get);if(typeof s.value=="function")return zn(s.value)}r=Ax(r)}function n(){return null}return n}const PT=kn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Um=kn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pm=kn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dx=kn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),km=kn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ox=kn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),kT=kn(["#text"]),zT=kn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zm=kn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BT=kn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),uh=kn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xx=Ni(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Mx=Ni(/<%[\w\W]*|[\w\W]*%>/gm),Vx=Ni(/\$\{[\w\W]*/gm),Lx=Ni(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ux=Ni(/^aria-[\-\w]+$/),kS=Ni(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Px=Ni(/^(?:\w+script|data):/i),kx=Ni(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zS=Ni(/^html$/i),zx=Ni(/^[a-z][.\w]*(-[.\w]+)+$/i);var jT=Object.freeze({__proto__:null,ARIA_ATTR:Ux,ATTR_WHITESPACE:kx,CUSTOM_ELEMENT:zx,DATA_ATTR:Lx,DOCTYPE_NAME:zS,ERB_EXPR:Mx,IS_ALLOWED_URI:kS,IS_SCRIPT_OR_DATA:Px,MUSTACHE_EXPR:xx,TMPLIT_EXPR:Vx});const Zl={element:1,text:3,progressingInstruction:7,comment:8,document:9},Bx=function(){return typeof window>"u"?null:window},jx=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(s=n.getAttribute(o));const u="dompurify"+(s?"#"+s:"");try{return e.createPolicy(u,{createHTML(f){return f},createScriptURL(f){return f}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}},HT=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function BS(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bx();const e=pe=>BS(pe);if(e.version="3.3.1",e.removed=[],!r||!r.document||r.document.nodeType!==Zl.document||!r.Element)return e.isSupported=!1,e;let{document:n}=r;const s=n,o=s.currentScript,{DocumentFragment:u,HTMLTemplateElement:f,Node:m,Element:y,NodeFilter:g,NamedNodeMap:v=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:A,DOMParser:O,trustedTypes:Y}=r,P=y.prototype,X=Jl(P,"cloneNode"),F=Jl(P,"remove"),ce=Jl(P,"nextSibling"),ge=Jl(P,"childNodes"),fe=Jl(P,"parentNode");if(typeof f=="function"){const pe=n.createElement("template");pe.content&&pe.content.ownerDocument&&(n=pe.content.ownerDocument)}let _e,De="";const{implementation:Re,createNodeIterator:R,createDocumentFragment:b,getElementsByTagName:C}=n,{importNode:V}=s;let D=HT();e.isSupported=typeof PS=="function"&&typeof fe=="function"&&Re&&Re.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:L,ERB_EXPR:w,TMPLIT_EXPR:Me,DATA_ATTR:gt,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:se,ATTR_WHITESPACE:he,CUSTOM_ELEMENT:ze}=jT;let{IS_ALLOWED_URI:je}=jT,I=null;const Q=qe({},[...PT,...Um,...Pm,...km,...kT]);let ne=null;const oe=qe({},[...zT,...zm,...BT,...uh]);let ue=Object.seal(pp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Se=null,Ue=null;const lt=Object.seal(pp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let rt=!0,Jn=!0,Di=!1,Zn=!0,Nn=!1,Vt=!0,Tn=!1,ei=!1,Oi=!1,Dn=!1,re=!1,be=!1,ut=!0,Be=!1;const Et="user-content-";let It=!0,ln=!1,un={},Lt=null;const cn=qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xi=null;const _r=qe({},["audio","video","img","source","image","track"]);let ti=null;const Er=qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zt="http://www.w3.org/1998/Math/MathML",Nt="http://www.w3.org/2000/svg",wt="http://www.w3.org/1999/xhtml";let ct=wt,Qr=!1,$i=null;const Ua=qe({},[Zt,Nt,wt],Vm);let On=qe({},["mi","mo","mn","ms","mtext"]),fi=qe({},["annotation-xml"]);const Ut=qe({},["title","style","font","a","script"]);let An=null;const di=["application/xhtml+xml","text/html"],ni="text/html";let Dt=null,xi=null;const mi=n.createElement("form"),Wi=function(x){return x instanceof RegExp||x instanceof Function},Ks=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(xi&&xi===x)){if((!x||typeof x!="object")&&(x={}),x=cr(x),An=di.indexOf(x.PARSER_MEDIA_TYPE)===-1?ni:x.PARSER_MEDIA_TYPE,Dt=An==="application/xhtml+xml"?Vm:bh,I=ji(x,"ALLOWED_TAGS")?qe({},x.ALLOWED_TAGS,Dt):Q,ne=ji(x,"ALLOWED_ATTR")?qe({},x.ALLOWED_ATTR,Dt):oe,$i=ji(x,"ALLOWED_NAMESPACES")?qe({},x.ALLOWED_NAMESPACES,Vm):Ua,ti=ji(x,"ADD_URI_SAFE_ATTR")?qe(cr(Er),x.ADD_URI_SAFE_ATTR,Dt):Er,Xi=ji(x,"ADD_DATA_URI_TAGS")?qe(cr(_r),x.ADD_DATA_URI_TAGS,Dt):_r,Lt=ji(x,"FORBID_CONTENTS")?qe({},x.FORBID_CONTENTS,Dt):cn,Se=ji(x,"FORBID_TAGS")?qe({},x.FORBID_TAGS,Dt):cr({}),Ue=ji(x,"FORBID_ATTR")?qe({},x.FORBID_ATTR,Dt):cr({}),un=ji(x,"USE_PROFILES")?x.USE_PROFILES:!1,rt=x.ALLOW_ARIA_ATTR!==!1,Jn=x.ALLOW_DATA_ATTR!==!1,Di=x.ALLOW_UNKNOWN_PROTOCOLS||!1,Zn=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Nn=x.SAFE_FOR_TEMPLATES||!1,Vt=x.SAFE_FOR_XML!==!1,Tn=x.WHOLE_DOCUMENT||!1,Dn=x.RETURN_DOM||!1,re=x.RETURN_DOM_FRAGMENT||!1,be=x.RETURN_TRUSTED_TYPE||!1,Oi=x.FORCE_BODY||!1,ut=x.SANITIZE_DOM!==!1,Be=x.SANITIZE_NAMED_PROPS||!1,It=x.KEEP_CONTENT!==!1,ln=x.IN_PLACE||!1,je=x.ALLOWED_URI_REGEXP||kS,ct=x.NAMESPACE||wt,On=x.MATHML_TEXT_INTEGRATION_POINTS||On,fi=x.HTML_INTEGRATION_POINTS||fi,ue=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&Wi(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&Wi(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Nn&&(Jn=!1),re&&(Dn=!0),un&&(I=qe({},kT),ne=[],un.html===!0&&(qe(I,PT),qe(ne,zT)),un.svg===!0&&(qe(I,Um),qe(ne,zm),qe(ne,uh)),un.svgFilters===!0&&(qe(I,Pm),qe(ne,zm),qe(ne,uh)),un.mathMl===!0&&(qe(I,km),qe(ne,BT),qe(ne,uh))),x.ADD_TAGS&&(typeof x.ADD_TAGS=="function"?lt.tagCheck=x.ADD_TAGS:(I===Q&&(I=cr(I)),qe(I,x.ADD_TAGS,Dt))),x.ADD_ATTR&&(typeof x.ADD_ATTR=="function"?lt.attributeCheck=x.ADD_ATTR:(ne===oe&&(ne=cr(ne)),qe(ne,x.ADD_ATTR,Dt))),x.ADD_URI_SAFE_ATTR&&qe(ti,x.ADD_URI_SAFE_ATTR,Dt),x.FORBID_CONTENTS&&(Lt===cn&&(Lt=cr(Lt)),qe(Lt,x.FORBID_CONTENTS,Dt)),x.ADD_FORBID_CONTENTS&&(Lt===cn&&(Lt=cr(Lt)),qe(Lt,x.ADD_FORBID_CONTENTS,Dt)),It&&(I["#text"]=!0),Tn&&qe(I,["html","head","body"]),I.table&&(qe(I,["tbody"]),delete Se.tbody),x.TRUSTED_TYPES_POLICY){if(typeof x.TRUSTED_TYPES_POLICY.createHTML!="function")throw Wl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof x.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Wl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_e=x.TRUSTED_TYPES_POLICY,De=_e.createHTML("")}else _e===void 0&&(_e=jx(Y,o)),_e!==null&&typeof De=="string"&&(De=_e.createHTML(""));kn&&kn(x),xi=x}},Ji=qe({},[...Um,...Pm,...Dx]),Xr=qe({},[...km,...Ox]),Ys=function(x){let ie=fe(x);(!ie||!ie.tagName)&&(ie={namespaceURI:ct,tagName:"template"});const le=bh(x.tagName),He=bh(ie.tagName);return $i[x.namespaceURI]?x.namespaceURI===Nt?ie.namespaceURI===wt?le==="svg":ie.namespaceURI===Zt?le==="svg"&&(He==="annotation-xml"||On[He]):!!Ji[le]:x.namespaceURI===Zt?ie.namespaceURI===wt?le==="math":ie.namespaceURI===Nt?le==="math"&&fi[He]:!!Xr[le]:x.namespaceURI===wt?ie.namespaceURI===Nt&&!fi[He]||ie.namespaceURI===Zt&&!On[He]?!1:!Xr[le]&&(Ut[le]||!Ji[le]):!!(An==="application/xhtml+xml"&&$i[x.namespaceURI]):!1},nn=function(x){Xl(e.removed,{element:x});try{fe(x).removeChild(x)}catch{F(x)}},hn=function(x,ie){try{Xl(e.removed,{attribute:ie.getAttributeNode(x),from:ie})}catch{Xl(e.removed,{attribute:null,from:ie})}if(ie.removeAttribute(x),x==="is")if(Dn||re)try{nn(ie)}catch{}else try{ie.setAttribute(x,"")}catch{}},Qs=function(x){let ie=null,le=null;if(Oi)x="<remove></remove>"+x;else{const Pe=Lm(x,/^[\r\n\t ]+/);le=Pe&&Pe[0]}An==="application/xhtml+xml"&&ct===wt&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");const He=_e?_e.createHTML(x):x;if(ct===wt)try{ie=new O().parseFromString(He,An)}catch{}if(!ie||!ie.documentElement){ie=Re.createDocument(ct,"template",null);try{ie.documentElement.innerHTML=Qr?De:He}catch{}}const yt=ie.body||ie.documentElement;return x&&le&&yt.insertBefore(n.createTextNode(le),yt.childNodes[0]||null),ct===wt?C.call(ie,Tn?"html":"body")[0]:Tn?ie.documentElement:yt},Bn=function(x){return R.call(x.ownerDocument||x,x,g.SHOW_ELEMENT|g.SHOW_COMMENT|g.SHOW_TEXT|g.SHOW_PROCESSING_INSTRUCTION|g.SHOW_CDATA_SECTION,null)},xn=function(x){return x instanceof A&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof v)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},Ot=function(x){return typeof m=="function"&&x instanceof m};function ht(pe,x,ie){lh(pe,le=>{le.call(e,x,ie,xi)})}const ii=function(x){let ie=null;if(ht(D.beforeSanitizeElements,x,null),xn(x))return nn(x),!0;const le=Dt(x.nodeName);if(ht(D.uponSanitizeElement,x,{tagName:le,allowedTags:I}),Vt&&x.hasChildNodes()&&!Ot(x.firstElementChild)&&Un(/<[/\w!]/g,x.innerHTML)&&Un(/<[/\w!]/g,x.textContent)||x.nodeType===Zl.progressingInstruction||Vt&&x.nodeType===Zl.comment&&Un(/<[/\w]/g,x.data))return nn(x),!0;if(!(lt.tagCheck instanceof Function&&lt.tagCheck(le))&&(!I[le]||Se[le])){if(!Se[le]&&Pa(le)&&(ue.tagNameCheck instanceof RegExp&&Un(ue.tagNameCheck,le)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(le)))return!1;if(It&&!Lt[le]){const He=fe(x)||x.parentNode,yt=ge(x)||x.childNodes;if(yt&&He){const Pe=yt.length;for(let Ft=Pe-1;Ft>=0;--Ft){const Mn=X(yt[Ft],!0);Mn.__removalCount=(x.__removalCount||0)+1,He.insertBefore(Mn,ce(x))}}}return nn(x),!0}return x instanceof y&&!Ys(x)||(le==="noscript"||le==="noembed"||le==="noframes")&&Un(/<\/no(script|embed|frames)/i,x.innerHTML)?(nn(x),!0):(Nn&&x.nodeType===Zl.text&&(ie=x.textContent,lh([L,w,Me],He=>{ie=$l(ie,He," ")}),x.textContent!==ie&&(Xl(e.removed,{element:x.cloneNode()}),x.textContent=ie)),ht(D.afterSanitizeElements,x,null),!1)},vr=function(x,ie,le){if(ut&&(ie==="id"||ie==="name")&&(le in n||le in mi))return!1;if(!(Jn&&!Ue[ie]&&Un(gt,ie))){if(!(rt&&Un(H,ie))){if(!(lt.attributeCheck instanceof Function&&lt.attributeCheck(ie,x))){if(!ne[ie]||Ue[ie]){if(!(Pa(x)&&(ue.tagNameCheck instanceof RegExp&&Un(ue.tagNameCheck,x)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(x))&&(ue.attributeNameCheck instanceof RegExp&&Un(ue.attributeNameCheck,ie)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(ie,x))||ie==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&Un(ue.tagNameCheck,le)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(le))))return!1}else if(!ti[ie]){if(!Un(je,$l(le,he,""))){if(!((ie==="src"||ie==="xlink:href"||ie==="href")&&x!=="script"&&Rx(le,"data:")===0&&Xi[x])){if(!(Di&&!Un(se,$l(le,he,"")))){if(le)return!1}}}}}}}return!0},Pa=function(x){return x!=="annotation-xml"&&Lm(x,ze)},Xs=function(x){ht(D.beforeSanitizeAttributes,x,null);const{attributes:ie}=x;if(!ie||xn(x))return;const le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ne,forceKeepAttr:void 0};let He=ie.length;for(;He--;){const yt=ie[He],{name:Pe,namespaceURI:Ft,value:Mn}=yt,fn=Dt(Pe),jn=Mn;let xt=Pe==="value"?jn:Cx(jn);if(le.attrName=fn,le.attrValue=xt,le.keepAttr=!0,le.forceKeepAttr=void 0,ht(D.uponSanitizeAttribute,x,le),xt=le.attrValue,Be&&(fn==="id"||fn==="name")&&(hn(Pe,x),xt=Et+xt),Vt&&Un(/((--!?|])>)|<\/(style|title|textarea)/i,xt)){hn(Pe,x);continue}if(fn==="attributename"&&Lm(xt,"href")){hn(Pe,x);continue}if(le.forceKeepAttr)continue;if(!le.keepAttr){hn(Pe,x);continue}if(!Zn&&Un(/\/>/i,xt)){hn(Pe,x);continue}Nn&&lh([L,w,Me],Wr=>{xt=$l(xt,Wr," ")});const $r=Dt(x.nodeName);if(!vr($r,fn,xt)){hn(Pe,x);continue}if(_e&&typeof Y=="object"&&typeof Y.getAttributeType=="function"&&!Ft)switch(Y.getAttributeType($r,fn)){case"TrustedHTML":{xt=_e.createHTML(xt);break}case"TrustedScriptURL":{xt=_e.createScriptURL(xt);break}}if(xt!==jn)try{Ft?x.setAttributeNS(Ft,Pe,xt):x.setAttribute(Pe,xt),xn(x)?nn(x):UT(e.removed)}catch{hn(Pe,x)}}ht(D.afterSanitizeAttributes,x,null)},ka=function pe(x){let ie=null;const le=Bn(x);for(ht(D.beforeSanitizeShadowDOM,x,null);ie=le.nextNode();)ht(D.uponSanitizeShadowNode,ie,null),ii(ie),Xs(ie),ie.content instanceof u&&pe(ie.content);ht(D.afterSanitizeShadowDOM,x,null)};return e.sanitize=function(pe){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=null,le=null,He=null,yt=null;if(Qr=!pe,Qr&&(pe="<!-->"),typeof pe!="string"&&!Ot(pe))if(typeof pe.toString=="function"){if(pe=pe.toString(),typeof pe!="string")throw Wl("dirty is not a string, aborting")}else throw Wl("toString is not a function");if(!e.isSupported)return pe;if(ei||Ks(x),e.removed=[],typeof pe=="string"&&(ln=!1),ln){if(pe.nodeName){const Mn=Dt(pe.nodeName);if(!I[Mn]||Se[Mn])throw Wl("root node is forbidden and cannot be sanitized in-place")}}else if(pe instanceof m)ie=Qs("<!---->"),le=ie.ownerDocument.importNode(pe,!0),le.nodeType===Zl.element&&le.nodeName==="BODY"||le.nodeName==="HTML"?ie=le:ie.appendChild(le);else{if(!Dn&&!Nn&&!Tn&&pe.indexOf("<")===-1)return _e&&be?_e.createHTML(pe):pe;if(ie=Qs(pe),!ie)return Dn?null:be?De:""}ie&&Oi&&nn(ie.firstChild);const Pe=Bn(ln?pe:ie);for(;He=Pe.nextNode();)ii(He),Xs(He),He.content instanceof u&&ka(He.content);if(ln)return pe;if(Dn){if(re)for(yt=b.call(ie.ownerDocument);ie.firstChild;)yt.appendChild(ie.firstChild);else yt=ie;return(ne.shadowroot||ne.shadowrootmode)&&(yt=V.call(s,yt,!0)),yt}let Ft=Tn?ie.outerHTML:ie.innerHTML;return Tn&&I["!doctype"]&&ie.ownerDocument&&ie.ownerDocument.doctype&&ie.ownerDocument.doctype.name&&Un(zS,ie.ownerDocument.doctype.name)&&(Ft="<!DOCTYPE "+ie.ownerDocument.doctype.name+`>
`+Ft),Nn&&lh([L,w,Me],Mn=>{Ft=$l(Ft,Mn," ")}),_e&&be?_e.createHTML(Ft):Ft},e.setConfig=function(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ks(pe),ei=!0},e.clearConfig=function(){xi=null,ei=!1},e.isValidAttribute=function(pe,x,ie){xi||Ks({});const le=Dt(pe),He=Dt(x);return vr(le,He,ie)},e.addHook=function(pe,x){typeof x=="function"&&Xl(D[pe],x)},e.removeHook=function(pe,x){if(x!==void 0){const ie=bx(D[pe],x);return ie===-1?void 0:wx(D[pe],ie,1)[0]}return UT(D[pe])},e.removeHooks=function(pe){D[pe]=[]},e.removeAllHooks=function(){D=HT()},e}var eu=BS();const Hx=()=>{var Dn;const[r,e]=vt.useState([]),[n,s]=vt.useState(new Set),[o,u]=vt.useState(!1),[f,m]=vt.useState(!1),[y,g]=vt.useState(!1),[v,A]=vt.useState(""),[O,Y]=vt.useState([]),[P,X]=vt.useState([]),[F,ce]=vt.useState("all"),[ge,fe]=vt.useState(""),[_e,De]=vt.useState(""),[Re,R]=vt.useState(""),[b,C]=vt.useState(""),[V,D]=vt.useState(1),[L,w]=vt.useState(!1),[Me,gt]=vt.useState(null),[H,se]=vt.useState(!1),[he,ze]=vt.useState(""),[je,I]=vt.useState(""),[Q,ne]=vt.useState("single"),[oe,ue]=vt.useState(null),[Se,Ue]=vt.useState(!1);vt.useEffect(()=>{oO(Sh,re=>{ue(re)})},[]),vt.useEffect(()=>{Di(),Jn()},[Me,oe]);const lt=async()=>{try{A("Logging into Wreadom with Google...");const re=new zr;await CO(Sh,re),A("Wreadom Login Successful!"),Ue(!1),setTimeout(()=>A(""),2e3)}catch(re){console.error("Google login failed:",re),A(`Google Login Failed: ${re.message}`)}},rt=async()=>{await lO(Sh),A("Logged out of Wreadom"),setTimeout(()=>A(""),2e3)},Jn=async()=>{try{const re=mD(Dm(Mm,"users")),ut=(await yD(re)).docs.map(Be=>{const Et=Be.data();return{id:Be.id,name:Et.penName||Et.displayName||Et.username||"Unknown"}});ut.sort((Be,Et)=>Be.name.localeCompare(Et.name)),X(ut)}catch(re){console.error("Error fetching Firestore authors:",re),A("Permission Error: Falling back to Port 3000 for better access.")}},Di=async()=>{u(!0),A("Syncing authors...");try{let re=[];if(Me)try{re=await rR(Me)}catch{console.warn("Direct fetch failed, trying discovery fallback");try{re=await _m(Me)}catch{console.error("Discovery with auth failed, falling back to public access"),re=await _m(),A("Logged in, but restricted. Using public discovery."),setTimeout(()=>A(""),5e3)}}else re=await _m();re&&re.length>0?(Y(re),v||A("")):A("No authors found on the site.")}catch(re){console.error("Failed to discover authors",re),A("Unable to sync authors. Site might be restricted.")}finally{u(!1)}},Zn=async(re=!0)=>{m(!0);const be=re?1:V+1;re&&(e([]),s(new Set),D(1));try{const ut=F==="all"?void 0:parseInt(F);A("Loading results...");const Be=await d0(be,ut,Me||void 0,b),Et=re?Be.posts:[...r,...Be.posts];e(Et),D(be),w(be<Be.totalPages),A(`Loaded ${Et.length} posts. ${be<Be.totalPages?"More available.":"All caught up."}`),setTimeout(()=>A(""),3e3)}catch(ut){console.error("Failed to load posts",ut),A("Error loading posts. Check connection or search query.")}finally{m(!1)}},Nn=()=>{he&&je?(gt({username:he,appPassword:je}),se(!1),A("Credentials applied!"),setTimeout(()=>A(""),2e3)):(gt(null),se(!1))},Vt=vt.useMemo(()=>r.filter(re=>{const be=new Date(re.date).getTime(),ut=!_e||be>=new Date(_e).getTime(),Be=!Re||be<=new Date(Re).getTime();return ut&&Be}),[r,_e,Re]),Tn=re=>{const be=new Set(n);be.has(re)?be.delete(re):be.add(re),s(be)},ei=()=>{n.size===Vt.length&&Vt.length>0?s(new Set):s(new Set(Vt.map(re=>re.id)))},Oi=async()=>{if(n.size===0)return;if(!ge){A("Error: Please select a target Wreadom author first.");return}g(!0),A(`Importing ${n.size} posts...`);const re=r.filter(Be=>n.has(Be.id)),be=P.find(Be=>Be.id===ge);let ut=0;if(Q==="bundle"&&re.length>0)try{const Be=[...re].reverse(),Et=Be[0];A(`Bundling ${Be.length} posts into: ${Et.title.rendered}...`);const It=eu.sanitize(Et.title.rendered,{ALLOWED_TAGS:[]}),un=(new DOMParser().parseFromString(It,"text/html").body.textContent||It).trim();let Lt="";const cn=Em(Et);if(cn)try{Lt=await av(cn)}catch(ti){console.error("Cloudinary upload failed for bundle cover",ti)}const Xi=Be.map((ti,Er)=>{const Zt=eu.sanitize(ti.title.rendered,{ALLOWED_TAGS:[]}),wt=(new DOMParser().parseFromString(Zt,"text/html").body.textContent||Zt).trim();return{id:`ch-${Math.random().toString(36).substr(2,9)}`,title:wt,content:ti.content.rendered,index:Er,status:"published"}}),_r={title:un,description:eu.sanitize(Et.excerpt.rendered,{ALLOWED_TAGS:[]}),coverUrl:Lt,authors:[{name:(be==null?void 0:be.name)||tu(Et),birth_year:null,death_year:null}],authorId:ge,subjects:["Imported","Bundle","WordPress"],languages:["Hindi"],formats:{},download_count:0,media_type:"texts",bookshelves:[],source:"firestore",isOriginal:!0,contentType:"article",status:"draft",createdAt:Date.now(),updatedAt:Date.now(),chapters:Xi};await yT(Dm(Mm,"books"),_r),ut=re.length}catch(Be){console.error("Bundle import failed",Be)}else for(const Be of re)try{A(`Importing: ${Be.title.rendered}...`);const Et=eu.sanitize(Be.title.rendered,{ALLOWED_TAGS:[]}),ln=(new DOMParser().parseFromString(Et,"text/html").body.textContent||Et).trim();let un="";const Lt=Em(Be);if(Lt)try{un=await av(Lt)}catch(Xi){console.error("Cloudinary upload failed for post",Be.id,Xi)}const cn={title:ln,description:eu.sanitize(Be.excerpt.rendered,{ALLOWED_TAGS:[]}),coverUrl:un,authors:[{name:(be==null?void 0:be.name)||tu(Be),birth_year:null,death_year:null}],authorId:ge,subjects:["Imported","WordPress"],languages:["Hindi"],formats:{},download_count:0,media_type:"texts",bookshelves:[],source:"firestore",isOriginal:!0,contentType:"article",status:"draft",createdAt:Date.now(),updatedAt:Date.now(),chapters:[{id:`ch-${Math.random().toString(36).substr(2,9)}`,title:ln,content:Be.content.rendered,index:0,status:"published"}]};await yT(Dm(Mm,"books"),cn),ut++}catch(Et){console.error("Import failed for post",Be.id,Et)}g(!1),s(new Set),A(`Successfully imported ${ut} posts as drafts!`)};return W.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-neutral-100 p-4 md:p-8 font-sans selection:bg-blue-500/30",children:[W.jsx("header",{className:"mb-8 bg-neutral-900/80 border border-neutral-800 p-6 rounded-3xl shadow-2xl backdrop-blur-xl relative z-20",children:W.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-6",children:[W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsxs("div",{children:[W.jsx("h1",{className:"text-4xl font-black bg-linear-to-r from-blue-400 via-indigo-400 to-emerald-400 bg-clip-text text-transparent tracking-tight",children:"Internal Importer"}),W.jsxs("p",{className:"text-neutral-400 mt-2 font-medium flex items-center gap-2",children:[W.jsx("span",{className:`w-2 h-2 rounded-full ${o?"bg-amber-500 animate-pulse":"bg-emerald-500"}`}),"Source: srijansamwad.wordpress.com"]})]}),W.jsx("button",{onClick:()=>se(!H),className:`p-3 rounded-2xl border transition-all cursor-pointer ${Me?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-neutral-800 border-neutral-700 text-neutral-400 hover:text-white"}`,title:"WordPress Login",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:W.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),W.jsx("button",{onClick:()=>Ue(!Se),className:`p-3 rounded-2xl border transition-all cursor-pointer ${oe?"bg-blue-500/10 border-blue-500/30 text-blue-400":"bg-neutral-800 border-neutral-700 text-neutral-400 hover:text-white"}`,title:"Wreadom Admin Login",children:W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:W.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),oe&&W.jsx("span",{className:"text-[10px] font-bold",children:(Dn=oe.email)==null?void 0:Dn.split("@")[0]})]})})]}),W.jsxs("div",{className:"flex flex-col xl:flex-row items-end xl:items-center gap-4 w-full xl:w-auto",children:[H&&W.jsx("div",{className:"flex flex-wrap items-center gap-2 bg-neutral-800/90 p-3 rounded-2xl border border-blue-500/30 shadow-2xl animate-in fade-in slide-in-from-top-2 duration-200",children:W.jsxs("div",{className:"flex flex-col gap-1",children:[W.jsx("span",{className:"text-[8px] font-bold text-neutral-500 uppercase ml-1",children:"WordPress API"}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("input",{type:"text",value:he,onChange:re=>ze(re.target.value),placeholder:"WP Username",className:"bg-neutral-900 border border-neutral-700 text-neutral-200 py-1.5 px-3 rounded-lg text-xs focus:ring-1 focus:ring-blue-500 outline-hidden w-32"}),W.jsx("input",{type:"password",value:je,onChange:re=>I(re.target.value),placeholder:"Application Password",className:"bg-neutral-900 border border-neutral-700 text-neutral-200 py-1.5 px-3 rounded-lg text-xs focus:ring-1 focus:ring-blue-500 outline-hidden w-40"}),W.jsx("button",{onClick:Nn,className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded-lg text-xs font-bold transition-all cursor-pointer",children:"Save"}),W.jsx("a",{href:"https://wordpress.com/me/security/logins",target:"_blank",rel:"noopener noreferrer",className:"text-[9px] text-blue-400 hover:underline ml-1",children:"Get App Password"})]})]})}),Se&&W.jsx("div",{className:"flex flex-wrap items-center gap-2 bg-neutral-800/90 p-3 rounded-2xl border border-blue-500/30 shadow-2xl animate-in fade-in slide-in-from-top-2 duration-200",children:W.jsxs("div",{className:"flex flex-col gap-1",children:[W.jsx("span",{className:"text-[8px] font-bold text-neutral-500 uppercase ml-1",children:"Wreadom Admin Auth (Required for Import)"}),W.jsx("div",{className:"flex items-center gap-2",children:oe?W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsxs("span",{className:"text-xs text-neutral-300 font-medium",children:["Signed in as ",W.jsx("b",{className:"text-blue-400",children:oe.email})]}),W.jsx("button",{onClick:rt,className:"bg-red-500/20 hover:bg-red-500/30 text-red-400 px-3 py-1.5 rounded-lg text-xs font-bold transition-all cursor-pointer border border-red-500/20",children:"Sign Out"})]}):W.jsxs("button",{onClick:lt,className:"bg-white text-black hover:bg-neutral-200 px-4 py-2 rounded-xl text-xs font-black transition-all cursor-pointer flex items-center gap-2 shadow-lg",children:[W.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[W.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),W.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),W.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),W.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.14-4.53z"})]}),"Sign in with Google"]})})]})}),W.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-neutral-800/50 p-2 rounded-2xl border border-neutral-700/50",children:[W.jsx("div",{className:"relative group",children:W.jsx("input",{type:"text",value:b,onChange:re=>C(re.target.value),onKeyDown:re=>re.key==="Enter"&&Zn(!0),placeholder:"Search posts...",className:"bg-neutral-800 border border-neutral-700 text-neutral-200 py-2 px-4 rounded-xl focus:outline-hidden focus:ring-2 focus:ring-emerald-500/50 transition-all font-medium text-sm w-48 group-hover:border-emerald-500/30"})}),W.jsx("div",{className:"relative",children:W.jsxs("select",{value:F,onChange:re=>ce(re.target.value),disabled:o,className:"bg-neutral-800 border border-neutral-700 text-neutral-200 py-2 px-4 pr-10 rounded-xl focus:outline-hidden focus:ring-2 focus:ring-blue-500/50 transition-all font-semibold cursor-pointer text-sm disabled:opacity-50",children:[W.jsx("option",{value:"all",children:o?"Syncing Authors...":"Every Author"}),O.map(re=>W.jsx("option",{value:re.id.toString(),children:re.name},re.id))]})}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("input",{type:"date",value:_e,onChange:re=>De(re.target.value),className:"bg-neutral-800 border border-neutral-700 text-neutral-200 py-2 px-3 rounded-xl text-sm focus:outline-hidden focus:ring-2 focus:ring-blue-500/50",placeholder:"Start"}),W.jsx("input",{type:"date",value:Re,onChange:re=>R(re.target.value),className:"bg-neutral-800 border border-neutral-700 text-neutral-200 py-2 px-3 rounded-xl text-sm focus:outline-hidden focus:ring-2 focus:ring-blue-500/50",placeholder:"End"})]}),W.jsxs("button",{onClick:()=>Zn(!0),disabled:f||o,className:"bg-emerald-600 hover:bg-emerald-500 disabled:bg-neutral-800 px-4 py-2 rounded-xl text-xs font-black transition-all shadow-lg active:scale-95 cursor-pointer flex items-center gap-2",children:[f&&V===1?W.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}):W.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search / Load"]})]}),W.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-neutral-800/50 p-2 rounded-2xl border border-neutral-700/50",children:[W.jsxs("div",{className:"flex flex-col gap-1",children:[W.jsx("span",{className:"text-[9px] font-bold text-neutral-500 ml-1 uppercase",children:"Target Author"}),W.jsxs("select",{value:ge,onChange:re=>fe(re.target.value),className:"bg-neutral-800 border border-neutral-700 text-blue-400 py-2 px-4 rounded-xl focus:outline-hidden focus:ring-2 focus:ring-blue-500/50 transition-all font-bold cursor-pointer text-xs",children:[W.jsx("option",{value:"",children:"Select Wreadom Author..."}),P.map(re=>W.jsx("option",{value:re.id,children:re.name},re.id))]})]}),W.jsxs("div",{className:"flex flex-col gap-1 pr-2",children:[W.jsx("span",{className:"text-[9px] font-bold text-neutral-500 ml-1 uppercase",children:"Import Mode"}),W.jsxs("div",{className:"flex bg-neutral-900 border border-neutral-700 rounded-xl p-1",children:[W.jsx("button",{onClick:()=>ne("single"),className:`px-3 py-1 rounded-lg text-[10px] font-bold transition-all cursor-pointer ${Q==="single"?"bg-blue-600 text-white shadow-lg":"text-neutral-500 hover:text-neutral-300"}`,children:"Individual"}),W.jsx("button",{onClick:()=>ne("bundle"),className:`px-3 py-1 rounded-lg text-[10px] font-bold transition-all cursor-pointer ${Q==="bundle"?"bg-indigo-600 text-white shadow-lg":"text-neutral-500 hover:text-neutral-300"}`,children:"Bundle"})]})]}),W.jsx("button",{onClick:Oi,disabled:y||n.size===0||!ge,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-neutral-800 disabled:text-neutral-500 px-6 py-2.5 rounded-2xl font-bold transition-all shadow-xl active:scale-95 cursor-pointer disabled:cursor-not-allowed border border-blue-500/20 text-sm whitespace-nowrap h-fit self-end",children:y?"Importing...":`Import (${n.size})`})]})]})]})}),v&&W.jsx("div",{className:`mb-8 p-4 rounded-2xl border transition-all duration-300 relative z-10 ${v.includes("Error")||v.includes("failed")?"bg-red-500/10 border-red-500/20 text-red-400":"bg-blue-500/10 border-blue-500/20 text-blue-400 font-medium"}`,children:W.jsxs("p",{className:"text-sm flex items-center gap-2",children:[W.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${v.includes("Error")||v.includes("failed")?"bg-red-500":"bg-blue-500 animate-pulse"}`}),v]})}),W.jsx("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl shadow-2xl overflow-hidden min-h-[400px]",children:!r.length&&!f?W.jsxs("div",{className:"py-32 text-center",children:[W.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4 border border-neutral-700",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-neutral-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),W.jsx("p",{className:"text-neutral-500 font-bold uppercase tracking-widest text-[10px]",children:o?"Syncing with WordPress Authors...":"Select an author and click Load Posts"})]}):f?W.jsxs("div",{className:"flex flex-col justify-center items-center h-80 gap-4",children:[W.jsx("div",{className:"w-10 h-10 border-4 border-t-blue-500 border-neutral-800 rounded-full animate-spin"}),W.jsx("p",{className:"text-neutral-500 text-sm font-bold animate-pulse",children:"Loading Author Posts..."})]}):W.jsxs("div",{className:"overflow-x-auto border-t border-neutral-800",children:[W.jsxs("table",{className:"w-full border-collapse table-fixed",children:[W.jsx("thead",{children:W.jsxs("tr",{className:"bg-neutral-800/80",children:[W.jsx("th",{className:"p-4 w-12 border-b border-r border-neutral-700 text-center",children:W.jsx("input",{type:"checkbox",checked:n.size>0&&n.size===Vt.length,onChange:ei,className:"w-5 h-5 rounded bg-neutral-800 border-neutral-600 text-blue-600 focus:ring-blue-500/40 cursor-pointer accent-blue-500"})}),W.jsx("th",{className:"p-4 text-[10px] font-black text-neutral-400 uppercase tracking-widest border-b border-r border-neutral-700 w-24 text-center",children:"Image"}),W.jsx("th",{className:"p-4 text-[10px] font-black text-neutral-400 uppercase tracking-widest border-b border-r border-neutral-700 text-left",children:"Title"}),W.jsx("th",{className:"p-4 text-[10px] font-black text-neutral-400 uppercase tracking-widest border-b border-r border-neutral-700 w-32 text-left",children:"Author"}),W.jsx("th",{className:"p-4 text-[10px] font-black text-neutral-400 uppercase tracking-widest border-b border-r border-neutral-700 w-28 text-left",children:"Date"}),W.jsx("th",{className:"p-4 text-[10px] font-black text-neutral-400 uppercase tracking-widest border-b border-neutral-700 text-left",children:"Snippet"})]})}),W.jsx("tbody",{children:Vt.map(re=>{const be=n.has(re.id),ut=Em(re);return W.jsxs("tr",{onClick:()=>Tn(re.id),className:`group transition-colors hover:bg-neutral-800/40 cursor-pointer ${be?"bg-blue-500/10":""}`,children:[W.jsx("td",{className:"p-4 border-b border-r border-neutral-800/20 text-center",onClick:Be=>Be.stopPropagation(),children:W.jsx("input",{type:"checkbox",checked:be,onChange:()=>Tn(re.id),className:"w-5 h-5 rounded bg-neutral-800 border-neutral-600 text-blue-600 focus:ring-blue-500/40 cursor-pointer accent-blue-500"})}),W.jsx("td",{className:"p-2 border-b border-r border-neutral-800/20",children:W.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-neutral-800 border border-neutral-700 mx-auto flex items-center justify-center shrink-0",children:ut?W.jsx("img",{src:ut,alt:"",className:"w-full h-full object-cover block"}):W.jsx("div",{className:"text-[8px] text-neutral-600 font-bold uppercase",children:"None"})})}),W.jsx("td",{className:"p-4 border-b border-r border-neutral-800/20",children:W.jsx("h3",{className:"font-bold text-xs text-neutral-200 group-hover:text-blue-400 transition-colors line-clamp-2 leading-relaxed text-left",dangerouslySetInnerHTML:{__html:re.title.rendered}})}),W.jsx("td",{className:"p-4 border-b border-r border-neutral-800/20",children:W.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[W.jsx("div",{className:"w-5 h-5 rounded-full bg-linear-to-br from-neutral-700 to-neutral-800 flex items-center justify-center text-[7px] font-black border border-neutral-600 shrink-0",children:tu(re).charAt(0).toUpperCase()}),W.jsx("span",{className:"text-[10px] font-bold text-neutral-400 truncate",children:tu(re)})]})}),W.jsx("td",{className:"p-4 border-b border-r border-neutral-800/20",children:W.jsx("span",{className:"text-[10px] font-mono text-neutral-500 whitespace-nowrap",children:new Date(re.date).toLocaleDateString("en-GB")})}),W.jsx("td",{className:"p-4 border-b border-neutral-800/20",children:W.jsx("div",{className:"text-[10px] text-neutral-400 line-clamp-2 text-justify leading-relaxed",dangerouslySetInnerHTML:{__html:re.excerpt.rendered}})})]},re.id)})})]}),L&&W.jsxs("div",{className:"p-6 text-center border-t border-neutral-800 bg-neutral-900/40",children:[W.jsx("button",{onClick:()=>Zn(!1),disabled:f,className:"inline-flex items-center gap-3 px-8 py-3 bg-neutral-800 hover:bg-neutral-700 text-white rounded-xl text-sm font-bold transition-all cursor-pointer border border-neutral-700 hover:border-blue-500/50 shadow-xl disabled:opacity-50",children:f?W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"Loading Page ",V+1,"..."]}):W.jsxs(W.Fragment,{children:[W.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 9l-7 7-7-7"})}),"Load More Posts"]})}),W.jsxs("p",{className:"mt-2 text-[10px] font-bold text-neutral-600 tracking-wider",children:["SHOWING ",r.length," POSTS"]})]}),Vt.length===0&&r.length>0&&W.jsx("div",{className:"py-20 text-center bg-neutral-900/50",children:W.jsx("p",{className:"text-neutral-500 text-sm font-bold uppercase tracking-widest text-[10px]",children:"No matching results for active filters"})})]})})]})};Iw.createRoot(document.getElementById("root")).render(W.jsx(vw.StrictMode,{children:W.jsx(Hx,{})}));
